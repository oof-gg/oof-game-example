!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.GameModule=t():e.GameModule=t()}(this,(()=>(()=>{var e={7548:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntityUpdate=t.RegisterEntity_EntityAttribute=t.RegisterEntity_AttributesEntry=t.RegisterEntity=t.RegisterEntity_ControllerStateEnum=t.protobufPackage=void 0,t.registerEntity_ControllerStateEnumFromJSON=a,t.registerEntity_ControllerStateEnumToJSON=s;const i=n(4489);var r;function a(e){switch(e){case 0:case"SERVER":return r.SERVER;case 1:case"PLAYER":return r.PLAYER;default:return r.UNRECOGNIZED}}function s(e){switch(e){case r.SERVER:return"SERVER";case r.PLAYER:return"PLAYER";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function o(e){return null!=e}t.protobufPackage="game",function(e){e[e.SERVER=0]="SERVER",e[e.PLAYER=1]="PLAYER",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.RegisterEntity_ControllerStateEnum=r={})),t.RegisterEntity={encode:(e,n=new i.BinaryWriter)=>(""!==e.name&&n.uint32(10).string(e.name),""!==e.type&&n.uint32(18).string(e.type),""!==e.id&&n.uint32(26).string(e.id),""!==e.sessionId&&n.uint32(34).string(e.sessionId),""!==e.gameId&&n.uint32(42).string(e.gameId),Object.entries(e.attributes).forEach((([e,i])=>{t.RegisterEntity_AttributesEntry.encode({key:e,value:i},n.uint32(50).fork()).join()})),0!==e.controllerState&&n.uint32(56).int32(e.controllerState),void 0!==e.playerId&&n.uint32(66).string(e.playerId),void 0!==e.data&&n.uint32(74).string(e.data),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={name:"",type:"",id:"",sessionId:"",gameId:"",attributes:{},controllerState:0,playerId:void 0,data:void 0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.name=r.string();continue;case 2:if(18!==e)break;s.type=r.string();continue;case 3:if(26!==e)break;s.id=r.string();continue;case 4:if(34!==e)break;s.sessionId=r.string();continue;case 5:if(42!==e)break;s.gameId=r.string();continue;case 6:{if(50!==e)break;const n=t.RegisterEntity_AttributesEntry.decode(r,r.uint32());void 0!==n.value&&(s.attributes[n.key]=n.value);continue}case 7:if(56!==e)break;s.controllerState=r.int32();continue;case 8:if(66!==e)break;s.playerId=r.string();continue;case 9:if(74!==e)break;s.data=r.string();continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON(e){return{name:o(e.name)?globalThis.String(e.name):"",type:o(e.type)?globalThis.String(e.type):"",id:o(e.id)?globalThis.String(e.id):"",sessionId:o(e.sessionId)?globalThis.String(e.sessionId):"",gameId:o(e.gameId)?globalThis.String(e.gameId):"",attributes:(n=e.attributes,"object"==typeof n&&null!==n?Object.entries(e.attributes).reduce(((e,[n,i])=>(e[n]=t.RegisterEntity_EntityAttribute.fromJSON(i),e)),{}):{}),controllerState:o(e.controllerState)?a(e.controllerState):0,playerId:o(e.playerId)?globalThis.String(e.playerId):void 0,data:o(e.data)?globalThis.String(e.data):void 0};var n},toJSON(e){const n={};if(""!==e.name&&(n.name=e.name),""!==e.type&&(n.type=e.type),""!==e.id&&(n.id=e.id),""!==e.sessionId&&(n.sessionId=e.sessionId),""!==e.gameId&&(n.gameId=e.gameId),e.attributes){const i=Object.entries(e.attributes);i.length>0&&(n.attributes={},i.forEach((([e,i])=>{n.attributes[e]=t.RegisterEntity_EntityAttribute.toJSON(i)})))}return 0!==e.controllerState&&(n.controllerState=s(e.controllerState)),void 0!==e.playerId&&(n.playerId=e.playerId),void 0!==e.data&&(n.data=e.data),n},create:e=>t.RegisterEntity.fromPartial(e??{}),fromPartial(e){const n={name:"",type:"",id:"",sessionId:"",gameId:"",attributes:{},controllerState:0,playerId:void 0,data:void 0};return n.name=e.name??"",n.type=e.type??"",n.id=e.id??"",n.sessionId=e.sessionId??"",n.gameId=e.gameId??"",n.attributes=Object.entries(e.attributes??{}).reduce(((e,[n,i])=>(void 0!==i&&(e[n]=t.RegisterEntity_EntityAttribute.fromPartial(i)),e)),{}),n.controllerState=e.controllerState??0,n.playerId=e.playerId??void 0,n.data=e.data??void 0,n}},t.RegisterEntity_AttributesEntry={encode:(e,n=new i.BinaryWriter)=>(""!==e.key&&n.uint32(10).string(e.key),void 0!==e.value&&t.RegisterEntity_EntityAttribute.encode(e.value,n.uint32(18).fork()).join(),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={key:"",value:void 0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=r.string();continue;case 2:if(18!==e)break;s.value=t.RegisterEntity_EntityAttribute.decode(r,r.uint32());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON:e=>({key:o(e.key)?globalThis.String(e.key):"",value:o(e.value)?t.RegisterEntity_EntityAttribute.fromJSON(e.value):void 0}),toJSON(e){const n={};return""!==e.key&&(n.key=e.key),void 0!==e.value&&(n.value=t.RegisterEntity_EntityAttribute.toJSON(e.value)),n},create:e=>t.RegisterEntity_AttributesEntry.fromPartial(e??{}),fromPartial(e){const n={key:"",value:void 0};return n.key=e.key??"",n.value=void 0!==e.value&&null!==e.value?t.RegisterEntity_EntityAttribute.fromPartial(e.value):void 0,n}},t.RegisterEntity_EntityAttribute={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(18).string(e.stringValue),void 0!==e.intValue&&t.uint32(24).int32(e.intValue),void 0!==e.floatValue&&t.uint32(37).float(e.floatValue),void 0!==e.boolValue&&t.uint32(40).bool(e.boolValue),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 2:if(18!==e)break;a.stringValue=n.string();continue;case 3:if(24!==e)break;a.intValue=n.int32();continue;case 4:if(37!==e)break;a.floatValue=n.float();continue;case 5:if(40!==e)break;a.boolValue=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({stringValue:o(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:o(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:o(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:o(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.RegisterEntity_EntityAttribute.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}},t.EntityUpdate={encode(e,n=new i.BinaryWriter){""!==e.id&&n.uint32(10).string(e.id),""!==e.sessionId&&n.uint32(18).string(e.sessionId),""!==e.gameId&&n.uint32(26).string(e.gameId);for(const i of e.attributes)t.RegisterEntity_EntityAttribute.encode(i,n.uint32(34).fork()).join();return n},decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={id:"",sessionId:"",gameId:"",attributes:[]};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.id=r.string();continue;case 2:if(18!==e)break;s.sessionId=r.string();continue;case 3:if(26!==e)break;s.gameId=r.string();continue;case 4:if(34!==e)break;s.attributes.push(t.RegisterEntity_EntityAttribute.decode(r,r.uint32()));continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON:e=>({id:o(e.id)?globalThis.String(e.id):"",sessionId:o(e.sessionId)?globalThis.String(e.sessionId):"",gameId:o(e.gameId)?globalThis.String(e.gameId):"",attributes:globalThis.Array.isArray(e?.attributes)?e.attributes.map((e=>t.RegisterEntity_EntityAttribute.fromJSON(e))):[]}),toJSON(e){const n={};return""!==e.id&&(n.id=e.id),""!==e.sessionId&&(n.sessionId=e.sessionId),""!==e.gameId&&(n.gameId=e.gameId),e.attributes?.length&&(n.attributes=e.attributes.map((e=>t.RegisterEntity_EntityAttribute.toJSON(e)))),n},create:e=>t.EntityUpdate.fromPartial(e??{}),fromPartial(e){const n={id:"",sessionId:"",gameId:"",attributes:[]};return n.id=e.id??"",n.sessionId=e.sessionId??"",n.gameId=e.gameId??"",n.attributes=e.attributes?.map((e=>t.RegisterEntity_EntityAttribute.fromPartial(e)))||[],n}}},963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameEvent_EventAttribute=t.GameEvent_AttributesEntry=t.GameEvent=t.GameEvent_EventType=t.protobufPackage=void 0,t.gameEvent_EventTypeFromJSON=a,t.gameEvent_EventTypeToJSON=s;const i=n(4489);var r;function a(e){switch(e){case 0:case"CUSTOM":return r.CUSTOM;default:return r.UNRECOGNIZED}}function s(e){switch(e){case r.CUSTOM:return"CUSTOM";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function o(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function c(e){return null!=e}t.protobufPackage="game",function(e){e[e.CUSTOM=0]="CUSTOM",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.GameEvent_EventType=r={})),t.GameEvent={encode:(e,n=new i.BinaryWriter)=>(""!==e.id&&n.uint32(10).string(e.id),""!==e.eventName&&n.uint32(18).string(e.eventName),0!==e.timestamp&&n.uint32(24).int64(e.timestamp),void 0!==e.gameId&&n.uint32(34).string(e.gameId),void 0!==e.playerId&&n.uint32(42).string(e.playerId),void 0!==e.sessionId&&n.uint32(58).string(e.sessionId),void 0!==e.teamId&&n.uint32(66).string(e.teamId),Object.entries(e.attributes).forEach((([e,i])=>{t.GameEvent_AttributesEntry.encode({key:e,value:i},n.uint32(74).fork()).join()})),0!==e.type&&n.uint32(80).int32(e.type),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={id:"",eventName:"",timestamp:0,gameId:void 0,playerId:void 0,sessionId:void 0,teamId:void 0,attributes:{},type:0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.id=r.string();continue;case 2:if(18!==e)break;s.eventName=r.string();continue;case 3:if(24!==e)break;s.timestamp=o(r.int64());continue;case 4:if(34!==e)break;s.gameId=r.string();continue;case 5:if(42!==e)break;s.playerId=r.string();continue;case 7:if(58!==e)break;s.sessionId=r.string();continue;case 8:if(66!==e)break;s.teamId=r.string();continue;case 9:{if(74!==e)break;const n=t.GameEvent_AttributesEntry.decode(r,r.uint32());void 0!==n.value&&(s.attributes[n.key]=n.value);continue}case 10:if(80!==e)break;s.type=r.int32();continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON(e){return{id:c(e.id)?globalThis.String(e.id):"",eventName:c(e.eventName)?globalThis.String(e.eventName):"",timestamp:c(e.timestamp)?globalThis.Number(e.timestamp):0,gameId:c(e.gameId)?globalThis.String(e.gameId):void 0,playerId:c(e.playerId)?globalThis.String(e.playerId):void 0,sessionId:c(e.sessionId)?globalThis.String(e.sessionId):void 0,teamId:c(e.teamId)?globalThis.String(e.teamId):void 0,attributes:(n=e.attributes,"object"==typeof n&&null!==n?Object.entries(e.attributes).reduce(((e,[n,i])=>(e[n]=t.GameEvent_EventAttribute.fromJSON(i),e)),{}):{}),type:c(e.type)?a(e.type):0};var n},toJSON(e){const n={};if(""!==e.id&&(n.id=e.id),""!==e.eventName&&(n.eventName=e.eventName),0!==e.timestamp&&(n.timestamp=Math.round(e.timestamp)),void 0!==e.gameId&&(n.gameId=e.gameId),void 0!==e.playerId&&(n.playerId=e.playerId),void 0!==e.sessionId&&(n.sessionId=e.sessionId),void 0!==e.teamId&&(n.teamId=e.teamId),e.attributes){const i=Object.entries(e.attributes);i.length>0&&(n.attributes={},i.forEach((([e,i])=>{n.attributes[e]=t.GameEvent_EventAttribute.toJSON(i)})))}return 0!==e.type&&(n.type=s(e.type)),n},create:e=>t.GameEvent.fromPartial(e??{}),fromPartial(e){const n={id:"",eventName:"",timestamp:0,gameId:void 0,playerId:void 0,sessionId:void 0,teamId:void 0,attributes:{},type:0};return n.id=e.id??"",n.eventName=e.eventName??"",n.timestamp=e.timestamp??0,n.gameId=e.gameId??void 0,n.playerId=e.playerId??void 0,n.sessionId=e.sessionId??void 0,n.teamId=e.teamId??void 0,n.attributes=Object.entries(e.attributes??{}).reduce(((e,[n,i])=>(void 0!==i&&(e[n]=t.GameEvent_EventAttribute.fromPartial(i)),e)),{}),n.type=e.type??0,n}},t.GameEvent_AttributesEntry={encode:(e,n=new i.BinaryWriter)=>(""!==e.key&&n.uint32(10).string(e.key),void 0!==e.value&&t.GameEvent_EventAttribute.encode(e.value,n.uint32(18).fork()).join(),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={key:"",value:void 0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=r.string();continue;case 2:if(18!==e)break;s.value=t.GameEvent_EventAttribute.decode(r,r.uint32());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON:e=>({key:c(e.key)?globalThis.String(e.key):"",value:c(e.value)?t.GameEvent_EventAttribute.fromJSON(e.value):void 0}),toJSON(e){const n={};return""!==e.key&&(n.key=e.key),void 0!==e.value&&(n.value=t.GameEvent_EventAttribute.toJSON(e.value)),n},create:e=>t.GameEvent_AttributesEntry.fromPartial(e??{}),fromPartial(e){const n={key:"",value:void 0};return n.key=e.key??"",n.value=void 0!==e.value&&null!==e.value?t.GameEvent_EventAttribute.fromPartial(e.value):void 0,n}},t.GameEvent_EventAttribute={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(10).string(e.stringValue),void 0!==e.intValue&&t.uint32(16).int32(e.intValue),void 0!==e.floatValue&&t.uint32(29).float(e.floatValue),void 0!==e.boolValue&&t.uint32(32).bool(e.boolValue),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;a.stringValue=n.string();continue;case 2:if(16!==e)break;a.intValue=n.int32();continue;case 3:if(29!==e)break;a.floatValue=n.float();continue;case 4:if(32!==e)break;a.boolValue=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({stringValue:c(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:c(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:c(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:c(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.GameEvent_EventAttribute.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}}},3996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthConfig_ConfigEntry=t.AuthConfig=t.InstanceCommandMessage=t.InstanceNotification=t.Instance=t.InstanceCommandEnum=t.InstanceStateEnum=t.protobufPackage=void 0,t.instanceStateEnumFromJSON=s,t.instanceStateEnumToJSON=o,t.instanceCommandEnumFromJSON=c,t.instanceCommandEnumToJSON=u;const i=n(4489);var r,a;function s(e){switch(e){case 0:case"INITIALIZING":return r.INITIALIZING;case 1:case"RUNNING":return r.RUNNING;case 2:case"PAUSED":return r.PAUSED;case 3:case"CRASHED":return r.CRASHED;case 4:case"ABORTED":return r.ABORTED;case 5:case"SHUTTING_DOWN":return r.SHUTTING_DOWN;case 6:case"STOPPED":return r.STOPPED;default:return r.UNRECOGNIZED}}function o(e){switch(e){case r.INITIALIZING:return"INITIALIZING";case r.RUNNING:return"RUNNING";case r.PAUSED:return"PAUSED";case r.CRASHED:return"CRASHED";case r.ABORTED:return"ABORTED";case r.SHUTTING_DOWN:return"SHUTTING_DOWN";case r.STOPPED:return"STOPPED";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function c(e){switch(e){case 0:case"START":return a.START;case 1:case"PAUSE":return a.PAUSE;case 2:case"RESUME":return a.RESUME;case 3:case"STOP":return a.STOP;case 4:case"ABORT":return a.ABORT;case 5:case"SHUTDOWN":return a.SHUTDOWN;default:return a.UNRECOGNIZED}}function u(e){switch(e){case a.START:return"START";case a.PAUSE:return"PAUSE";case a.RESUME:return"RESUME";case a.STOP:return"STOP";case a.ABORT:return"ABORT";case a.SHUTDOWN:return"SHUTDOWN";case a.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function l(e){return null!=e}t.protobufPackage="game",function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.RUNNING=1]="RUNNING",e[e.PAUSED=2]="PAUSED",e[e.CRASHED=3]="CRASHED",e[e.ABORTED=4]="ABORTED",e[e.SHUTTING_DOWN=5]="SHUTTING_DOWN",e[e.STOPPED=6]="STOPPED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.InstanceStateEnum=r={})),function(e){e[e.START=0]="START",e[e.PAUSE=1]="PAUSE",e[e.RESUME=2]="RESUME",e[e.STOP=3]="STOP",e[e.ABORT=4]="ABORT",e[e.SHUTDOWN=5]="SHUTDOWN",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(a||(t.InstanceCommandEnum=a={})),t.Instance={encode:(e,t=new i.BinaryWriter)=>(0!==e.state&&t.uint32(8).int32(e.state),void 0!==e.gameId&&t.uint32(18).string(e.gameId),void 0!==e.playerId&&t.uint32(26).string(e.playerId),void 0!==e.data&&t.uint32(34).string(e.data),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={state:0,gameId:void 0,playerId:void 0,data:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;a.state=n.int32();continue;case 2:if(18!==e)break;a.gameId=n.string();continue;case 3:if(26!==e)break;a.playerId=n.string();continue;case 4:if(34!==e)break;a.data=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({state:l(e.state)?s(e.state):0,gameId:l(e.gameId)?globalThis.String(e.gameId):void 0,playerId:l(e.playerId)?globalThis.String(e.playerId):void 0,data:l(e.data)?globalThis.String(e.data):void 0}),toJSON(e){const t={};return 0!==e.state&&(t.state=o(e.state)),void 0!==e.gameId&&(t.gameId=e.gameId),void 0!==e.playerId&&(t.playerId=e.playerId),void 0!==e.data&&(t.data=e.data),t},create:e=>t.Instance.fromPartial(e??{}),fromPartial(e){const t={state:0,gameId:void 0,playerId:void 0,data:void 0};return t.state=e.state??0,t.gameId=e.gameId??void 0,t.playerId=e.playerId??void 0,t.data=e.data??void 0,t}},t.InstanceNotification={encode:(e,t=new i.BinaryWriter)=>(0!==e.state&&t.uint32(8).int32(e.state),void 0!==e.gameId&&t.uint32(18).string(e.gameId),void 0!==e.playerId&&t.uint32(26).string(e.playerId),void 0!==e.data&&t.uint32(34).string(e.data),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={state:0,gameId:void 0,playerId:void 0,data:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;a.state=n.int32();continue;case 2:if(18!==e)break;a.gameId=n.string();continue;case 3:if(26!==e)break;a.playerId=n.string();continue;case 4:if(34!==e)break;a.data=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({state:l(e.state)?s(e.state):0,gameId:l(e.gameId)?globalThis.String(e.gameId):void 0,playerId:l(e.playerId)?globalThis.String(e.playerId):void 0,data:l(e.data)?globalThis.String(e.data):void 0}),toJSON(e){const t={};return 0!==e.state&&(t.state=o(e.state)),void 0!==e.gameId&&(t.gameId=e.gameId),void 0!==e.playerId&&(t.playerId=e.playerId),void 0!==e.data&&(t.data=e.data),t},create:e=>t.InstanceNotification.fromPartial(e??{}),fromPartial(e){const t={state:0,gameId:void 0,playerId:void 0,data:void 0};return t.state=e.state??0,t.gameId=e.gameId??void 0,t.playerId=e.playerId??void 0,t.data=e.data??void 0,t}},t.InstanceCommandMessage={encode:(e,n=new i.BinaryWriter)=>(0!==e.state&&n.uint32(8).int32(e.state),void 0!==e.gameId&&n.uint32(18).string(e.gameId),void 0!==e.playerId&&n.uint32(26).string(e.playerId),void 0!==e.data&&n.uint32(34).string(e.data),void 0!==e.authConfig&&t.AuthConfig.encode(e.authConfig,n.uint32(42).fork()).join(),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={state:0,gameId:void 0,playerId:void 0,data:void 0,authConfig:void 0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(8!==e)break;s.state=r.int32();continue;case 2:if(18!==e)break;s.gameId=r.string();continue;case 3:if(26!==e)break;s.playerId=r.string();continue;case 4:if(34!==e)break;s.data=r.string();continue;case 5:if(42!==e)break;s.authConfig=t.AuthConfig.decode(r,r.uint32());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON:e=>({state:l(e.state)?c(e.state):0,gameId:l(e.gameId)?globalThis.String(e.gameId):void 0,playerId:l(e.playerId)?globalThis.String(e.playerId):void 0,data:l(e.data)?globalThis.String(e.data):void 0,authConfig:l(e.authConfig)?t.AuthConfig.fromJSON(e.authConfig):void 0}),toJSON(e){const n={};return 0!==e.state&&(n.state=u(e.state)),void 0!==e.gameId&&(n.gameId=e.gameId),void 0!==e.playerId&&(n.playerId=e.playerId),void 0!==e.data&&(n.data=e.data),void 0!==e.authConfig&&(n.authConfig=t.AuthConfig.toJSON(e.authConfig)),n},create:e=>t.InstanceCommandMessage.fromPartial(e??{}),fromPartial(e){const n={state:0,gameId:void 0,playerId:void 0,data:void 0,authConfig:void 0};return n.state=e.state??0,n.gameId=e.gameId??void 0,n.playerId=e.playerId??void 0,n.data=e.data??void 0,n.authConfig=void 0!==e.authConfig&&null!==e.authConfig?t.AuthConfig.fromPartial(e.authConfig):void 0,n}},t.AuthConfig={encode:(e,n=new i.BinaryWriter)=>(""!==e.token&&n.uint32(10).string(e.token),Object.entries(e.config).forEach((([e,i])=>{t.AuthConfig_ConfigEntry.encode({key:e,value:i},n.uint32(18).fork()).join()})),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={token:"",config:{}};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.token=r.string();continue;case 2:{if(18!==e)break;const n=t.AuthConfig_ConfigEntry.decode(r,r.uint32());void 0!==n.value&&(s.config[n.key]=n.value);continue}}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON(e){return{token:l(e.token)?globalThis.String(e.token):"",config:(t=e.config,"object"==typeof t&&null!==t?Object.entries(e.config).reduce(((e,[t,n])=>(e[t]=String(n),e)),{}):{})};var t},toJSON(e){const t={};if(""!==e.token&&(t.token=e.token),e.config){const n=Object.entries(e.config);n.length>0&&(t.config={},n.forEach((([e,n])=>{t.config[e]=n})))}return t},create:e=>t.AuthConfig.fromPartial(e??{}),fromPartial(e){const t={token:"",config:{}};return t.token=e.token??"",t.config=Object.entries(e.config??{}).reduce(((e,[t,n])=>(void 0!==n&&(e[t]=globalThis.String(n)),e)),{}),t}},t.AuthConfig_ConfigEntry={encode:(e,t=new i.BinaryWriter)=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={key:"",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;a.key=n.string();continue;case 2:if(18!==e)break;a.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({key:l(e.key)?globalThis.String(e.key):"",value:l(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>t.AuthConfig_ConfigEntry.fromPartial(e??{}),fromPartial(e){const t={key:"",value:""};return t.key=e.key??"",t.value=e.value??"",t}}},1935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Session_GameAttribute=t.Session_AttributesEntry=t.Session=t.Session_GameState=t.protobufPackage=void 0,t.session_GameStateFromJSON=a,t.session_GameStateToJSON=s;const i=n(4489);var r;function a(e){switch(e){case 0:case"CREATED":return r.CREATED;case 1:case"WAITING":return r.WAITING;case 2:case"STARTED":return r.STARTED;case 3:case"FINISHED":return r.FINISHED;default:return r.UNRECOGNIZED}}function s(e){switch(e){case r.CREATED:return"CREATED";case r.WAITING:return"WAITING";case r.STARTED:return"STARTED";case r.FINISHED:return"FINISHED";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function o(e){return null!=e}t.protobufPackage="game",function(e){e[e.CREATED=0]="CREATED",e[e.WAITING=1]="WAITING",e[e.STARTED=2]="STARTED",e[e.FINISHED=3]="FINISHED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.Session_GameState=r={})),t.Session={encode(e,n=new i.BinaryWriter){""!==e.id&&n.uint32(10).string(e.id),""!==e.gameId&&n.uint32(18).string(e.gameId);for(const t of e.playerIds)n.uint32(26).string(t);return 0!==e.state&&n.uint32(32).int32(e.state),Object.entries(e.attributes).forEach((([e,i])=>{t.Session_AttributesEntry.encode({key:e,value:i},n.uint32(42).fork()).join()})),n},decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={id:"",gameId:"",playerIds:[],state:0,attributes:{}};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.id=r.string();continue;case 2:if(18!==e)break;s.gameId=r.string();continue;case 3:if(26!==e)break;s.playerIds.push(r.string());continue;case 4:if(32!==e)break;s.state=r.int32();continue;case 5:{if(42!==e)break;const n=t.Session_AttributesEntry.decode(r,r.uint32());void 0!==n.value&&(s.attributes[n.key]=n.value);continue}}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON(e){return{id:o(e.id)?globalThis.String(e.id):"",gameId:o(e.gameId)?globalThis.String(e.gameId):"",playerIds:globalThis.Array.isArray(e?.playerIds)?e.playerIds.map((e=>globalThis.String(e))):[],state:o(e.state)?a(e.state):0,attributes:(n=e.attributes,"object"==typeof n&&null!==n?Object.entries(e.attributes).reduce(((e,[n,i])=>(e[n]=t.Session_GameAttribute.fromJSON(i),e)),{}):{})};var n},toJSON(e){const n={};if(""!==e.id&&(n.id=e.id),""!==e.gameId&&(n.gameId=e.gameId),e.playerIds?.length&&(n.playerIds=e.playerIds),0!==e.state&&(n.state=s(e.state)),e.attributes){const i=Object.entries(e.attributes);i.length>0&&(n.attributes={},i.forEach((([e,i])=>{n.attributes[e]=t.Session_GameAttribute.toJSON(i)})))}return n},create:e=>t.Session.fromPartial(e??{}),fromPartial(e){const n={id:"",gameId:"",playerIds:[],state:0,attributes:{}};return n.id=e.id??"",n.gameId=e.gameId??"",n.playerIds=e.playerIds?.map((e=>e))||[],n.state=e.state??0,n.attributes=Object.entries(e.attributes??{}).reduce(((e,[n,i])=>(void 0!==i&&(e[n]=t.Session_GameAttribute.fromPartial(i)),e)),{}),n}},t.Session_AttributesEntry={encode:(e,n=new i.BinaryWriter)=>(""!==e.key&&n.uint32(10).string(e.key),void 0!==e.value&&t.Session_GameAttribute.encode(e.value,n.uint32(18).fork()).join(),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={key:"",value:void 0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=r.string();continue;case 2:if(18!==e)break;s.value=t.Session_GameAttribute.decode(r,r.uint32());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON:e=>({key:o(e.key)?globalThis.String(e.key):"",value:o(e.value)?t.Session_GameAttribute.fromJSON(e.value):void 0}),toJSON(e){const n={};return""!==e.key&&(n.key=e.key),void 0!==e.value&&(n.value=t.Session_GameAttribute.toJSON(e.value)),n},create:e=>t.Session_AttributesEntry.fromPartial(e??{}),fromPartial(e){const n={key:"",value:void 0};return n.key=e.key??"",n.value=void 0!==e.value&&null!==e.value?t.Session_GameAttribute.fromPartial(e.value):void 0,n}},t.Session_GameAttribute={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(18).string(e.stringValue),void 0!==e.intValue&&t.uint32(24).int32(e.intValue),void 0!==e.floatValue&&t.uint32(37).float(e.floatValue),void 0!==e.boolValue&&t.uint32(40).bool(e.boolValue),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 2:if(18!==e)break;a.stringValue=n.string();continue;case 3:if(24!==e)break;a.intValue=n.int32();continue;case 4:if(37!==e)break;a.floatValue=n.float();continue;case 5:if(40!==e)break;a.boolValue=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({stringValue:o(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:o(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:o(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:o(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.Session_GameAttribute.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}}},4910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalEvent_EventAttribute=t.GlobalEvent_AttributesEntry=t.GlobalEvent=t.GlobalEvent_EventType=t.protobufPackage=void 0,t.globalEvent_EventTypeFromJSON=a,t.globalEvent_EventTypeToJSON=s;const i=n(4489);var r;function a(e){switch(e){case 0:case"CUSTOM":return r.CUSTOM;case 1:case"ANNOUNCEMENT":return r.ANNOUNCEMENT;case 2:case"ALERT":return r.ALERT;case 3:case"EVENT":return r.EVENT;case 4:case"REQUEST":return r.REQUEST;default:return r.UNRECOGNIZED}}function s(e){switch(e){case r.CUSTOM:return"CUSTOM";case r.ANNOUNCEMENT:return"ANNOUNCEMENT";case r.ALERT:return"ALERT";case r.EVENT:return"EVENT";case r.REQUEST:return"REQUEST";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function o(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function c(e){return null!=e}t.protobufPackage="global",function(e){e[e.CUSTOM=0]="CUSTOM",e[e.ANNOUNCEMENT=1]="ANNOUNCEMENT",e[e.ALERT=2]="ALERT",e[e.EVENT=3]="EVENT",e[e.REQUEST=4]="REQUEST",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.GlobalEvent_EventType=r={})),t.GlobalEvent={encode:(e,n=new i.BinaryWriter)=>(""!==e.id&&n.uint32(10).string(e.id),""!==e.eventName&&n.uint32(18).string(e.eventName),0!==e.timestamp&&n.uint32(24).int64(e.timestamp),void 0!==e.gameId&&n.uint32(34).string(e.gameId),void 0!==e.playerId&&n.uint32(42).string(e.playerId),void 0!==e.teamId&&n.uint32(50).string(e.teamId),Object.entries(e.attributes).forEach((([e,i])=>{t.GlobalEvent_AttributesEntry.encode({key:e,value:i},n.uint32(58).fork()).join()})),0!==e.type&&n.uint32(64).int32(e.type),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={id:"",eventName:"",timestamp:0,gameId:void 0,playerId:void 0,teamId:void 0,attributes:{},type:0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.id=r.string();continue;case 2:if(18!==e)break;s.eventName=r.string();continue;case 3:if(24!==e)break;s.timestamp=o(r.int64());continue;case 4:if(34!==e)break;s.gameId=r.string();continue;case 5:if(42!==e)break;s.playerId=r.string();continue;case 6:if(50!==e)break;s.teamId=r.string();continue;case 7:{if(58!==e)break;const n=t.GlobalEvent_AttributesEntry.decode(r,r.uint32());void 0!==n.value&&(s.attributes[n.key]=n.value);continue}case 8:if(64!==e)break;s.type=r.int32();continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON(e){return{id:c(e.id)?globalThis.String(e.id):"",eventName:c(e.eventName)?globalThis.String(e.eventName):"",timestamp:c(e.timestamp)?globalThis.Number(e.timestamp):0,gameId:c(e.gameId)?globalThis.String(e.gameId):void 0,playerId:c(e.playerId)?globalThis.String(e.playerId):void 0,teamId:c(e.teamId)?globalThis.String(e.teamId):void 0,attributes:(n=e.attributes,"object"==typeof n&&null!==n?Object.entries(e.attributes).reduce(((e,[n,i])=>(e[n]=t.GlobalEvent_EventAttribute.fromJSON(i),e)),{}):{}),type:c(e.type)?a(e.type):0};var n},toJSON(e){const n={};if(""!==e.id&&(n.id=e.id),""!==e.eventName&&(n.eventName=e.eventName),0!==e.timestamp&&(n.timestamp=Math.round(e.timestamp)),void 0!==e.gameId&&(n.gameId=e.gameId),void 0!==e.playerId&&(n.playerId=e.playerId),void 0!==e.teamId&&(n.teamId=e.teamId),e.attributes){const i=Object.entries(e.attributes);i.length>0&&(n.attributes={},i.forEach((([e,i])=>{n.attributes[e]=t.GlobalEvent_EventAttribute.toJSON(i)})))}return 0!==e.type&&(n.type=s(e.type)),n},create:e=>t.GlobalEvent.fromPartial(e??{}),fromPartial(e){const n={id:"",eventName:"",timestamp:0,gameId:void 0,playerId:void 0,teamId:void 0,attributes:{},type:0};return n.id=e.id??"",n.eventName=e.eventName??"",n.timestamp=e.timestamp??0,n.gameId=e.gameId??void 0,n.playerId=e.playerId??void 0,n.teamId=e.teamId??void 0,n.attributes=Object.entries(e.attributes??{}).reduce(((e,[n,i])=>(void 0!==i&&(e[n]=t.GlobalEvent_EventAttribute.fromPartial(i)),e)),{}),n.type=e.type??0,n}},t.GlobalEvent_AttributesEntry={encode:(e,n=new i.BinaryWriter)=>(""!==e.key&&n.uint32(10).string(e.key),void 0!==e.value&&t.GlobalEvent_EventAttribute.encode(e.value,n.uint32(18).fork()).join(),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={key:"",value:void 0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=r.string();continue;case 2:if(18!==e)break;s.value=t.GlobalEvent_EventAttribute.decode(r,r.uint32());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON:e=>({key:c(e.key)?globalThis.String(e.key):"",value:c(e.value)?t.GlobalEvent_EventAttribute.fromJSON(e.value):void 0}),toJSON(e){const n={};return""!==e.key&&(n.key=e.key),void 0!==e.value&&(n.value=t.GlobalEvent_EventAttribute.toJSON(e.value)),n},create:e=>t.GlobalEvent_AttributesEntry.fromPartial(e??{}),fromPartial(e){const n={key:"",value:void 0};return n.key=e.key??"",n.value=void 0!==e.value&&null!==e.value?t.GlobalEvent_EventAttribute.fromPartial(e.value):void 0,n}},t.GlobalEvent_EventAttribute={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(10).string(e.stringValue),void 0!==e.intValue&&t.uint32(16).int32(e.intValue),void 0!==e.floatValue&&t.uint32(29).float(e.floatValue),void 0!==e.boolValue&&t.uint32(32).bool(e.boolValue),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;a.stringValue=n.string();continue;case 2:if(16!==e)break;a.intValue=n.int32();continue;case 3:if(29!==e)break;a.floatValue=n.float();continue;case 4:if(32!==e)break;a.boolValue=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({stringValue:c(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:c(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:c(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:c(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.GlobalEvent_EventAttribute.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}}},7460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JoinLeaveGame=t.JoinLeaveGame_Action=t.RegionEnum=t.protobufPackage=void 0,t.regionEnumFromJSON=s,t.regionEnumToJSON=o,t.joinLeaveGame_ActionFromJSON=c,t.joinLeaveGame_ActionToJSON=u;const i=n(4489);var r,a;function s(e){switch(e){case 0:case"REGION_UNSPECIFIED":return r.REGION_UNSPECIFIED;case 1:case"NA_EAST":return r.NA_EAST;case 2:case"NA_WEST":return r.NA_WEST;case 3:case"SA":return r.SA;case 4:case"EU_WEST":return r.EU_WEST;case 5:case"EU_CENTRAL":return r.EU_CENTRAL;case 6:case"EU_NORTH":return r.EU_NORTH;case 7:case"AS_EAST":return r.AS_EAST;case 8:case"AS_SE":return r.AS_SE;case 9:case"AS_SOUTH":return r.AS_SOUTH;case 10:case"OC":return r.OC;case 11:case"MENA":return r.MENA;case 12:case"AFRICA":return r.AFRICA;case 13:case"GLOBAL":return r.GLOBAL;default:return r.UNRECOGNIZED}}function o(e){switch(e){case r.REGION_UNSPECIFIED:return"REGION_UNSPECIFIED";case r.NA_EAST:return"NA_EAST";case r.NA_WEST:return"NA_WEST";case r.SA:return"SA";case r.EU_WEST:return"EU_WEST";case r.EU_CENTRAL:return"EU_CENTRAL";case r.EU_NORTH:return"EU_NORTH";case r.AS_EAST:return"AS_EAST";case r.AS_SE:return"AS_SE";case r.AS_SOUTH:return"AS_SOUTH";case r.OC:return"OC";case r.MENA:return"MENA";case r.AFRICA:return"AFRICA";case r.GLOBAL:return"GLOBAL";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function c(e){switch(e){case 0:case"JOIN":return a.JOIN;case 1:case"LEAVE":return a.LEAVE;default:return a.UNRECOGNIZED}}function u(e){switch(e){case a.JOIN:return"JOIN";case a.LEAVE:return"LEAVE";case a.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function l(e){return null!=e}t.protobufPackage="global",function(e){e[e.REGION_UNSPECIFIED=0]="REGION_UNSPECIFIED",e[e.NA_EAST=1]="NA_EAST",e[e.NA_WEST=2]="NA_WEST",e[e.SA=3]="SA",e[e.EU_WEST=4]="EU_WEST",e[e.EU_CENTRAL=5]="EU_CENTRAL",e[e.EU_NORTH=6]="EU_NORTH",e[e.AS_EAST=7]="AS_EAST",e[e.AS_SE=8]="AS_SE",e[e.AS_SOUTH=9]="AS_SOUTH",e[e.OC=10]="OC",e[e.MENA=11]="MENA",e[e.AFRICA=12]="AFRICA",e[e.GLOBAL=13]="GLOBAL",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.RegionEnum=r={})),function(e){e[e.JOIN=0]="JOIN",e[e.LEAVE=1]="LEAVE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(a||(t.JoinLeaveGame_Action=a={})),t.JoinLeaveGame={encode:(e,t=new i.BinaryWriter)=>(""!==e.playerId&&t.uint32(10).string(e.playerId),""!==e.gameId&&t.uint32(18).string(e.gameId),0!==e.action&&t.uint32(24).int32(e.action),void 0!==e.teamId&&t.uint32(34).string(e.teamId),void 0!==e.sessionId&&t.uint32(42).string(e.sessionId),void 0!==e.region&&t.uint32(48).int32(e.region),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={playerId:"",gameId:"",action:0,teamId:void 0,sessionId:void 0,region:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;a.playerId=n.string();continue;case 2:if(18!==e)break;a.gameId=n.string();continue;case 3:if(24!==e)break;a.action=n.int32();continue;case 4:if(34!==e)break;a.teamId=n.string();continue;case 5:if(42!==e)break;a.sessionId=n.string();continue;case 6:if(48!==e)break;a.region=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({playerId:l(e.playerId)?globalThis.String(e.playerId):"",gameId:l(e.gameId)?globalThis.String(e.gameId):"",action:l(e.action)?c(e.action):0,teamId:l(e.teamId)?globalThis.String(e.teamId):void 0,sessionId:l(e.sessionId)?globalThis.String(e.sessionId):void 0,region:l(e.region)?s(e.region):void 0}),toJSON(e){const t={};return""!==e.playerId&&(t.playerId=e.playerId),""!==e.gameId&&(t.gameId=e.gameId),0!==e.action&&(t.action=u(e.action)),void 0!==e.teamId&&(t.teamId=e.teamId),void 0!==e.sessionId&&(t.sessionId=e.sessionId),void 0!==e.region&&(t.region=o(e.region)),t},create:e=>t.JoinLeaveGame.fromPartial(e??{}),fromPartial(e){const t={playerId:"",gameId:"",action:0,teamId:void 0,sessionId:void 0,region:void 0};return t.playerId=e.playerId??"",t.gameId=e.gameId??"",t.action=e.action??0,t.teamId=e.teamId??void 0,t.sessionId=e.sessionId??void 0,t.region=e.region??void 0,t}}},6449:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalTime=t.protobufPackage=void 0;const i=n(4489);function r(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function a(e){return null!=e}t.protobufPackage="global",t.GlobalTime={encode:(e,t=new i.BinaryWriter)=>(0!==e.timestamp&&t.uint32(8).int64(e.timestamp),""!==e.hash&&t.uint32(18).string(e.hash),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===t?n.len:n.pos+t;const s={timestamp:0,hash:""};for(;n.pos<a;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;s.timestamp=r(n.int64());continue;case 2:if(18!==e)break;s.hash=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({timestamp:a(e.timestamp)?globalThis.Number(e.timestamp):0,hash:a(e.hash)?globalThis.String(e.hash):""}),toJSON(e){const t={};return 0!==e.timestamp&&(t.timestamp=Math.round(e.timestamp)),""!==e.hash&&(t.hash=e.hash),t},create:e=>t.GlobalTime.fromPartial(e??{}),fromPartial(e){const t={timestamp:0,hash:""};return t.timestamp=e.timestamp??0,t.hash=e.hash??"",t}}},7476:(e,t,n)=>{"use strict";t.Dk=void 0,n(7548),n(963);const i=n(3996);t.Dk=i,n(1935),n(4910),n(7460),n(6449),n(504),n(4891),n(4621)},504:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Action_PlayerAction=t.Action_Velocity=t.Action_Position=t.Action_ActionEntry=t.Action=t.Action_ActionType=t.protobufPackage=void 0,t.action_ActionTypeFromJSON=a,t.action_ActionTypeToJSON=s;const i=n(4489);var r;function a(e){switch(e){case 0:case"CUSTOM":return r.CUSTOM;case 1:case"MOVE":return r.MOVE;case 2:case"JUMP":return r.JUMP;case 3:case"SHOOT":return r.SHOOT;case 4:case"PICKUP":return r.PICKUP;case 5:case"DROP":return r.DROP;case 6:case"USE":return r.USE;case 7:case"INTERACT":return r.INTERACT;default:return r.UNRECOGNIZED}}function s(e){switch(e){case r.CUSTOM:return"CUSTOM";case r.MOVE:return"MOVE";case r.JUMP:return"JUMP";case r.SHOOT:return"SHOOT";case r.PICKUP:return"PICKUP";case r.DROP:return"DROP";case r.USE:return"USE";case r.INTERACT:return"INTERACT";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function o(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function c(e){return null!=e}t.protobufPackage="player",function(e){e[e.CUSTOM=0]="CUSTOM",e[e.MOVE=1]="MOVE",e[e.JUMP=2]="JUMP",e[e.SHOOT=3]="SHOOT",e[e.PICKUP=4]="PICKUP",e[e.DROP=5]="DROP",e[e.USE=6]="USE",e[e.INTERACT=7]="INTERACT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.Action_ActionType=r={})),t.Action={encode:(e,n=new i.BinaryWriter)=>(""!==e.playerId&&n.uint32(10).string(e.playerId),""!==e.sessionId&&n.uint32(18).string(e.sessionId),""!==e.gameId&&n.uint32(26).string(e.gameId),0!==e.type&&n.uint32(32).int32(e.type),void 0!==e.position&&t.Action_Position.encode(e.position,n.uint32(42).fork()).join(),void 0!==e.velocity&&t.Action_Velocity.encode(e.velocity,n.uint32(50).fork()).join(),Object.entries(e.action).forEach((([e,i])=>{t.Action_ActionEntry.encode({key:e,value:i},n.uint32(58).fork()).join()})),0!==e.timestamp&&n.uint32(64).int64(e.timestamp),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={playerId:"",sessionId:"",gameId:"",type:0,position:void 0,velocity:void 0,action:{},timestamp:0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.playerId=r.string();continue;case 2:if(18!==e)break;s.sessionId=r.string();continue;case 3:if(26!==e)break;s.gameId=r.string();continue;case 4:if(32!==e)break;s.type=r.int32();continue;case 5:if(42!==e)break;s.position=t.Action_Position.decode(r,r.uint32());continue;case 6:if(50!==e)break;s.velocity=t.Action_Velocity.decode(r,r.uint32());continue;case 7:{if(58!==e)break;const n=t.Action_ActionEntry.decode(r,r.uint32());void 0!==n.value&&(s.action[n.key]=n.value);continue}case 8:if(64!==e)break;s.timestamp=o(r.int64());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON(e){return{playerId:c(e.playerId)?globalThis.String(e.playerId):"",sessionId:c(e.sessionId)?globalThis.String(e.sessionId):"",gameId:c(e.gameId)?globalThis.String(e.gameId):"",type:c(e.type)?a(e.type):0,position:c(e.position)?t.Action_Position.fromJSON(e.position):void 0,velocity:c(e.velocity)?t.Action_Velocity.fromJSON(e.velocity):void 0,action:(n=e.action,"object"==typeof n&&null!==n?Object.entries(e.action).reduce(((e,[n,i])=>(e[n]=t.Action_PlayerAction.fromJSON(i),e)),{}):{}),timestamp:c(e.timestamp)?globalThis.Number(e.timestamp):0};var n},toJSON(e){const n={};if(""!==e.playerId&&(n.playerId=e.playerId),""!==e.sessionId&&(n.sessionId=e.sessionId),""!==e.gameId&&(n.gameId=e.gameId),0!==e.type&&(n.type=s(e.type)),void 0!==e.position&&(n.position=t.Action_Position.toJSON(e.position)),void 0!==e.velocity&&(n.velocity=t.Action_Velocity.toJSON(e.velocity)),e.action){const i=Object.entries(e.action);i.length>0&&(n.action={},i.forEach((([e,i])=>{n.action[e]=t.Action_PlayerAction.toJSON(i)})))}return 0!==e.timestamp&&(n.timestamp=Math.round(e.timestamp)),n},create:e=>t.Action.fromPartial(e??{}),fromPartial(e){const n={playerId:"",sessionId:"",gameId:"",type:0,position:void 0,velocity:void 0,action:{},timestamp:0};return n.playerId=e.playerId??"",n.sessionId=e.sessionId??"",n.gameId=e.gameId??"",n.type=e.type??0,n.position=void 0!==e.position&&null!==e.position?t.Action_Position.fromPartial(e.position):void 0,n.velocity=void 0!==e.velocity&&null!==e.velocity?t.Action_Velocity.fromPartial(e.velocity):void 0,n.action=Object.entries(e.action??{}).reduce(((e,[n,i])=>(void 0!==i&&(e[n]=t.Action_PlayerAction.fromPartial(i)),e)),{}),n.timestamp=e.timestamp??0,n}},t.Action_ActionEntry={encode:(e,n=new i.BinaryWriter)=>(""!==e.key&&n.uint32(10).string(e.key),void 0!==e.value&&t.Action_PlayerAction.encode(e.value,n.uint32(18).fork()).join(),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={key:"",value:void 0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=r.string();continue;case 2:if(18!==e)break;s.value=t.Action_PlayerAction.decode(r,r.uint32());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON:e=>({key:c(e.key)?globalThis.String(e.key):"",value:c(e.value)?t.Action_PlayerAction.fromJSON(e.value):void 0}),toJSON(e){const n={};return""!==e.key&&(n.key=e.key),void 0!==e.value&&(n.value=t.Action_PlayerAction.toJSON(e.value)),n},create:e=>t.Action_ActionEntry.fromPartial(e??{}),fromPartial(e){const n={key:"",value:void 0};return n.key=e.key??"",n.value=void 0!==e.value&&null!==e.value?t.Action_PlayerAction.fromPartial(e.value):void 0,n}},t.Action_Position={encode:(e,t=new i.BinaryWriter)=>(0!==e.x&&t.uint32(13).float(e.x),0!==e.y&&t.uint32(21).float(e.y),0!==e.z&&t.uint32(29).float(e.z),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={x:0,y:0,z:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(13!==e)break;a.x=n.float();continue;case 2:if(21!==e)break;a.y=n.float();continue;case 3:if(29!==e)break;a.z=n.float();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({x:c(e.x)?globalThis.Number(e.x):0,y:c(e.y)?globalThis.Number(e.y):0,z:c(e.z)?globalThis.Number(e.z):0}),toJSON(e){const t={};return 0!==e.x&&(t.x=e.x),0!==e.y&&(t.y=e.y),0!==e.z&&(t.z=e.z),t},create:e=>t.Action_Position.fromPartial(e??{}),fromPartial(e){const t={x:0,y:0,z:0};return t.x=e.x??0,t.y=e.y??0,t.z=e.z??0,t}},t.Action_Velocity={encode:(e,t=new i.BinaryWriter)=>(0!==e.x&&t.uint32(13).float(e.x),0!==e.y&&t.uint32(21).float(e.y),0!==e.z&&t.uint32(29).float(e.z),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={x:0,y:0,z:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(13!==e)break;a.x=n.float();continue;case 2:if(21!==e)break;a.y=n.float();continue;case 3:if(29!==e)break;a.z=n.float();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({x:c(e.x)?globalThis.Number(e.x):0,y:c(e.y)?globalThis.Number(e.y):0,z:c(e.z)?globalThis.Number(e.z):0}),toJSON(e){const t={};return 0!==e.x&&(t.x=e.x),0!==e.y&&(t.y=e.y),0!==e.z&&(t.z=e.z),t},create:e=>t.Action_Velocity.fromPartial(e??{}),fromPartial(e){const t={x:0,y:0,z:0};return t.x=e.x??0,t.y=e.y??0,t.z=e.z??0,t}},t.Action_PlayerAction={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(18).string(e.stringValue),void 0!==e.intValue&&t.uint32(24).int32(e.intValue),void 0!==e.floatValue&&t.uint32(37).float(e.floatValue),void 0!==e.boolValue&&t.uint32(40).bool(e.boolValue),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 2:if(18!==e)break;a.stringValue=n.string();continue;case 3:if(24!==e)break;a.intValue=n.int32();continue;case 4:if(37!==e)break;a.floatValue=n.float();continue;case 5:if(40!==e)break;a.boolValue=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({stringValue:c(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:c(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:c(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:c(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.Action_PlayerAction.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}}},4891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Player=t.Player_PlayerStatus=t.Player_PlayerType=t.protobufPackage=void 0,t.player_PlayerTypeFromJSON=s,t.player_PlayerTypeToJSON=o,t.player_PlayerStatusFromJSON=c,t.player_PlayerStatusToJSON=u;const i=n(4489);var r,a;function s(e){switch(e){case 0:case"HUMAN":return r.HUMAN;case 1:case"AI":return r.AI;default:return r.UNRECOGNIZED}}function o(e){switch(e){case r.HUMAN:return"HUMAN";case r.AI:return"AI";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function c(e){switch(e){case 0:case"ACTIVE":return a.ACTIVE;case 1:case"INACTIVE":return a.INACTIVE;default:return a.UNRECOGNIZED}}function u(e){switch(e){case a.ACTIVE:return"ACTIVE";case a.INACTIVE:return"INACTIVE";case a.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function l(e){return null!=e}t.protobufPackage="player",function(e){e[e.HUMAN=0]="HUMAN",e[e.AI=1]="AI",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.Player_PlayerType=r={})),function(e){e[e.ACTIVE=0]="ACTIVE",e[e.INACTIVE=1]="INACTIVE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(a||(t.Player_PlayerStatus=a={})),t.Player={encode:(e,t=new i.BinaryWriter)=>(""!==e.id&&t.uint32(10).string(e.id),""!==e.username&&t.uint32(18).string(e.username),void 0!==e.email&&t.uint32(26).string(e.email),void 0!==e.team&&t.uint32(34).string(e.team),0!==e.score&&t.uint32(40).int32(e.score),0!==e.type&&t.uint32(48).int32(e.type),0!==e.status&&t.uint32(56).int32(e.status),void 0!==e.role&&t.uint32(66).string(e.role),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={id:"",username:"",email:void 0,team:void 0,score:0,type:0,status:0,role:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;a.id=n.string();continue;case 2:if(18!==e)break;a.username=n.string();continue;case 3:if(26!==e)break;a.email=n.string();continue;case 4:if(34!==e)break;a.team=n.string();continue;case 5:if(40!==e)break;a.score=n.int32();continue;case 6:if(48!==e)break;a.type=n.int32();continue;case 7:if(56!==e)break;a.status=n.int32();continue;case 8:if(66!==e)break;a.role=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({id:l(e.id)?globalThis.String(e.id):"",username:l(e.username)?globalThis.String(e.username):"",email:l(e.email)?globalThis.String(e.email):void 0,team:l(e.team)?globalThis.String(e.team):void 0,score:l(e.score)?globalThis.Number(e.score):0,type:l(e.type)?s(e.type):0,status:l(e.status)?c(e.status):0,role:l(e.role)?globalThis.String(e.role):void 0}),toJSON(e){const t={};return""!==e.id&&(t.id=e.id),""!==e.username&&(t.username=e.username),void 0!==e.email&&(t.email=e.email),void 0!==e.team&&(t.team=e.team),0!==e.score&&(t.score=Math.round(e.score)),0!==e.type&&(t.type=o(e.type)),0!==e.status&&(t.status=u(e.status)),void 0!==e.role&&(t.role=e.role),t},create:e=>t.Player.fromPartial(e??{}),fromPartial(e){const t={id:"",username:"",email:void 0,team:void 0,score:0,type:0,status:0,role:void 0};return t.id=e.id??"",t.username=e.username??"",t.email=e.email??void 0,t.team=e.team??void 0,t.score=e.score??0,t.type=e.type??0,t.status=e.status??0,t.role=e.role??void 0,t}}},4621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.State_PlayerAttribute=t.State_AttributesEntry=t.State=t.State_PlayerState=t.protobufPackage=void 0,t.state_PlayerStateFromJSON=a,t.state_PlayerStateToJSON=s;const i=n(4489);var r;function a(e){switch(e){case 0:case"WAITING":return r.WAITING;case 1:case"PLAYING":return r.PLAYING;case 2:case"FINISHED":return r.FINISHED;default:return r.UNRECOGNIZED}}function s(e){switch(e){case r.WAITING:return"WAITING";case r.PLAYING:return"PLAYING";case r.FINISHED:return"FINISHED";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function o(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function c(e){return null!=e}t.protobufPackage="player",function(e){e[e.WAITING=0]="WAITING",e[e.PLAYING=1]="PLAYING",e[e.FINISHED=2]="FINISHED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.State_PlayerState=r={})),t.State={encode:(e,n=new i.BinaryWriter)=>(""!==e.playerId&&n.uint32(10).string(e.playerId),""!==e.sessionId&&n.uint32(18).string(e.sessionId),""!==e.gameId&&n.uint32(26).string(e.gameId),0!==e.state&&n.uint32(32).int32(e.state),Object.entries(e.attributes).forEach((([e,i])=>{t.State_AttributesEntry.encode({key:e,value:i},n.uint32(42).fork()).join()})),0!==e.timestamp&&n.uint32(48).int64(e.timestamp),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={playerId:"",sessionId:"",gameId:"",state:0,attributes:{},timestamp:0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.playerId=r.string();continue;case 2:if(18!==e)break;s.sessionId=r.string();continue;case 3:if(26!==e)break;s.gameId=r.string();continue;case 4:if(32!==e)break;s.state=r.int32();continue;case 5:{if(42!==e)break;const n=t.State_AttributesEntry.decode(r,r.uint32());void 0!==n.value&&(s.attributes[n.key]=n.value);continue}case 6:if(48!==e)break;s.timestamp=o(r.int64());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON(e){return{playerId:c(e.playerId)?globalThis.String(e.playerId):"",sessionId:c(e.sessionId)?globalThis.String(e.sessionId):"",gameId:c(e.gameId)?globalThis.String(e.gameId):"",state:c(e.state)?a(e.state):0,attributes:(n=e.attributes,"object"==typeof n&&null!==n?Object.entries(e.attributes).reduce(((e,[n,i])=>(e[n]=t.State_PlayerAttribute.fromJSON(i),e)),{}):{}),timestamp:c(e.timestamp)?globalThis.Number(e.timestamp):0};var n},toJSON(e){const n={};if(""!==e.playerId&&(n.playerId=e.playerId),""!==e.sessionId&&(n.sessionId=e.sessionId),""!==e.gameId&&(n.gameId=e.gameId),0!==e.state&&(n.state=s(e.state)),e.attributes){const i=Object.entries(e.attributes);i.length>0&&(n.attributes={},i.forEach((([e,i])=>{n.attributes[e]=t.State_PlayerAttribute.toJSON(i)})))}return 0!==e.timestamp&&(n.timestamp=Math.round(e.timestamp)),n},create:e=>t.State.fromPartial(e??{}),fromPartial(e){const n={playerId:"",sessionId:"",gameId:"",state:0,attributes:{},timestamp:0};return n.playerId=e.playerId??"",n.sessionId=e.sessionId??"",n.gameId=e.gameId??"",n.state=e.state??0,n.attributes=Object.entries(e.attributes??{}).reduce(((e,[n,i])=>(void 0!==i&&(e[n]=t.State_PlayerAttribute.fromPartial(i)),e)),{}),n.timestamp=e.timestamp??0,n}},t.State_AttributesEntry={encode:(e,n=new i.BinaryWriter)=>(""!==e.key&&n.uint32(10).string(e.key),void 0!==e.value&&t.State_PlayerAttribute.encode(e.value,n.uint32(18).fork()).join(),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={key:"",value:void 0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=r.string();continue;case 2:if(18!==e)break;s.value=t.State_PlayerAttribute.decode(r,r.uint32());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON:e=>({key:c(e.key)?globalThis.String(e.key):"",value:c(e.value)?t.State_PlayerAttribute.fromJSON(e.value):void 0}),toJSON(e){const n={};return""!==e.key&&(n.key=e.key),void 0!==e.value&&(n.value=t.State_PlayerAttribute.toJSON(e.value)),n},create:e=>t.State_AttributesEntry.fromPartial(e??{}),fromPartial(e){const n={key:"",value:void 0};return n.key=e.key??"",n.value=void 0!==e.value&&null!==e.value?t.State_PlayerAttribute.fromPartial(e.value):void 0,n}},t.State_PlayerAttribute={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(18).string(e.stringValue),void 0!==e.intValue&&t.uint32(24).int32(e.intValue),void 0!==e.floatValue&&t.uint32(37).float(e.floatValue),void 0!==e.boolValue&&t.uint32(40).bool(e.boolValue),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 2:if(18!==e)break;a.stringValue=n.string();continue;case 3:if(24!==e)break;a.intValue=n.int32();continue;case 4:if(37!==e)break;a.floatValue=n.float();continue;case 5:if(40!==e)break;a.boolValue=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({stringValue:c(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:c(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:c(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:c(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.State_PlayerAttribute.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}}},2692:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SocketGameChannel=void 0,t.SocketGameChannel=class{constructor(e){this.namespace="/game",this.webSocketManager=e}async connect(e){try{await this.webSocketManager.connect(e),console.log("Connected to game WebSocket channel.")}catch(e){throw console.error("Failed to connect to game WebSocket channel:",e),e}}sendEvent(e,t){this.webSocketManager.sendEvent(e,t)}onEvent(e,t){this.webSocketManager.onEvent(e,t)}disconnect(){this.webSocketManager.disconnect()}}},3079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SocketGlobalChannel=void 0;const i=n(8262);t.SocketGlobalChannel=class{constructor(e){this.namespace="/global",this.webSocketManager=e}subscribeToGlobalEvent(e,t){this.webSocketManager.onEvent(e,(e=>{const n=i.global_event.GlobalEvent.decode(e);t(n)}))}}},1502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketManager=void 0;const i=n(7551);t.WebSocketManager=class{constructor(e){this.url=e,this.socket=(0,i.io)(this.url)}async connect(e){this.socket.auth={token:e},this.socket.connect()}sendEvent(e,t){this.socket.emit(e,t)}onEvent(e,t){this.socket.on(e,t)}disconnect(){this.socket.disconnect()}}},8849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventDispatcher=void 0;const i=n(6237);class r extends i.EventEmitter{constructor(e="/workers/worker.js"){super(),this.workerUrl=e,this.eventLog={},this.worker=null,this.eventListeners=new Map,"undefined"!=typeof SharedWorker&&(console.log("[EventDispatcher] SharedWorker is supported",e),this.worker=new SharedWorker(e,"oof-shared-worker"),this.port=this.worker.port)}emitEvent(e,t,n){if(this.isAllowedEvent(t)){const i=`${e}.${t}`;this.eventLog[i]=(this.eventLog[i]||0)+1,this.port?"local"===e&&(console.log(`[EventDispatcher] Emitting event (worker): ${i}`,n),this.port.postMessage({namespace:e,eventType:t,data:n})):(console.log(`[EventDispatcher] Emitting event (local): ${i}`,n),this.emit(i,n))}else console.warn(`Event type "${t}" is not allowed.`)}subscribe(e,t,n){const i=`${e}.${t}`,r=i=>{i.data.namespace===e&&i.data.eventType===t&&n(i.data.data)};this.eventListeners.set(i,r),this.port?this.port.addEventListener("message",r):this.on(i,n)}unsubscribe(e,t){const n=`${e}.${t}`,i=this.eventListeners.get(n);i&&(this.port?this.port.removeEventListener("message",i):this.off(n,i),this.eventListeners.delete(n))}isAllowedEvent(e){return"DISALLOWED_EVENT"!==e}getEventLog(){return this.eventLog}}t.EventDispatcher=r},740:(e,t,n)=>{"use strict";t.b=void 0;const i=n(2692),r=n(3079),a=n(8849),s=n(1502);t.b=class{constructor(){this.authenticated=!1,this.events={local:{on:(e,t)=>{this.eventDispatcher.subscribe("local",e,t)},emit:(e,t,n)=>{this.eventDispatcher.emitEvent("local",e,t)},off:e=>{this.eventDispatcher.unsubscribe("local",e)}},web:{game:{on:(e,t)=>{this.gameChannel.onEvent(e,(n=>{this.eventDispatcher.emitEvent("websocket.game",e,n),t(n)}))},emit:(e,t)=>{this.gameChannel.sendEvent(e,t)}},global:{on:(e,t)=>{this.globalChannel.subscribeToGlobalEvent(e,(n=>{this.eventDispatcher.emitEvent("websocket.global",e,n),t(n)}))}}},log:{getEventLog:()=>this.eventDispatcher.getEventLog()}}}init(e){this.eventDispatcher=new a.EventDispatcher(e.workerUrl),this.webSocketManager=new s.WebSocketManager(e.socketUrl),this.gameChannel=new i.SocketGameChannel(this.webSocketManager),this.globalChannel=new r.SocketGlobalChannel(this.webSocketManager)}async connect(e){try{await this.gameChannel.connect(e),this.authenticated=!0,console.log("GameSDK connected successfully.")}catch(e){throw console.error("Failed to connect GameSDK:",e),e}}disconnect(){this.gameChannel.disconnect(),this.authenticated=!1}}},7094:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntityUpdate=t.RegisterEntity_EntityAttribute=t.RegisterEntity_AttributesEntry=t.RegisterEntity=t.RegisterEntity_ControllerStateEnum=t.protobufPackage=void 0,t.registerEntity_ControllerStateEnumFromJSON=a,t.registerEntity_ControllerStateEnumToJSON=s;const i=n(4222);var r;function a(e){switch(e){case 0:case"SERVER":return r.SERVER;case 1:case"PLAYER":return r.PLAYER;default:return r.UNRECOGNIZED}}function s(e){switch(e){case r.SERVER:return"SERVER";case r.PLAYER:return"PLAYER";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function o(e){return null!=e}t.protobufPackage="game",function(e){e[e.SERVER=0]="SERVER",e[e.PLAYER=1]="PLAYER",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.RegisterEntity_ControllerStateEnum=r={})),t.RegisterEntity={encode:(e,n=new i.BinaryWriter)=>(""!==e.name&&n.uint32(10).string(e.name),""!==e.type&&n.uint32(18).string(e.type),""!==e.id&&n.uint32(26).string(e.id),""!==e.sessionId&&n.uint32(34).string(e.sessionId),""!==e.gameId&&n.uint32(42).string(e.gameId),Object.entries(e.attributes).forEach((([e,i])=>{t.RegisterEntity_AttributesEntry.encode({key:e,value:i},n.uint32(50).fork()).join()})),0!==e.controllerState&&n.uint32(56).int32(e.controllerState),void 0!==e.playerId&&n.uint32(66).string(e.playerId),void 0!==e.data&&n.uint32(74).string(e.data),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={name:"",type:"",id:"",sessionId:"",gameId:"",attributes:{},controllerState:0,playerId:void 0,data:void 0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.name=r.string();continue;case 2:if(18!==e)break;s.type=r.string();continue;case 3:if(26!==e)break;s.id=r.string();continue;case 4:if(34!==e)break;s.sessionId=r.string();continue;case 5:if(42!==e)break;s.gameId=r.string();continue;case 6:{if(50!==e)break;const n=t.RegisterEntity_AttributesEntry.decode(r,r.uint32());void 0!==n.value&&(s.attributes[n.key]=n.value);continue}case 7:if(56!==e)break;s.controllerState=r.int32();continue;case 8:if(66!==e)break;s.playerId=r.string();continue;case 9:if(74!==e)break;s.data=r.string();continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON(e){return{name:o(e.name)?globalThis.String(e.name):"",type:o(e.type)?globalThis.String(e.type):"",id:o(e.id)?globalThis.String(e.id):"",sessionId:o(e.sessionId)?globalThis.String(e.sessionId):"",gameId:o(e.gameId)?globalThis.String(e.gameId):"",attributes:(n=e.attributes,"object"==typeof n&&null!==n?Object.entries(e.attributes).reduce(((e,[n,i])=>(e[n]=t.RegisterEntity_EntityAttribute.fromJSON(i),e)),{}):{}),controllerState:o(e.controllerState)?a(e.controllerState):0,playerId:o(e.playerId)?globalThis.String(e.playerId):void 0,data:o(e.data)?globalThis.String(e.data):void 0};var n},toJSON(e){const n={};if(""!==e.name&&(n.name=e.name),""!==e.type&&(n.type=e.type),""!==e.id&&(n.id=e.id),""!==e.sessionId&&(n.sessionId=e.sessionId),""!==e.gameId&&(n.gameId=e.gameId),e.attributes){const i=Object.entries(e.attributes);i.length>0&&(n.attributes={},i.forEach((([e,i])=>{n.attributes[e]=t.RegisterEntity_EntityAttribute.toJSON(i)})))}return 0!==e.controllerState&&(n.controllerState=s(e.controllerState)),void 0!==e.playerId&&(n.playerId=e.playerId),void 0!==e.data&&(n.data=e.data),n},create:e=>t.RegisterEntity.fromPartial(e??{}),fromPartial(e){const n={name:"",type:"",id:"",sessionId:"",gameId:"",attributes:{},controllerState:0,playerId:void 0,data:void 0};return n.name=e.name??"",n.type=e.type??"",n.id=e.id??"",n.sessionId=e.sessionId??"",n.gameId=e.gameId??"",n.attributes=Object.entries(e.attributes??{}).reduce(((e,[n,i])=>(void 0!==i&&(e[n]=t.RegisterEntity_EntityAttribute.fromPartial(i)),e)),{}),n.controllerState=e.controllerState??0,n.playerId=e.playerId??void 0,n.data=e.data??void 0,n}},t.RegisterEntity_AttributesEntry={encode:(e,n=new i.BinaryWriter)=>(""!==e.key&&n.uint32(10).string(e.key),void 0!==e.value&&t.RegisterEntity_EntityAttribute.encode(e.value,n.uint32(18).fork()).join(),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={key:"",value:void 0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=r.string();continue;case 2:if(18!==e)break;s.value=t.RegisterEntity_EntityAttribute.decode(r,r.uint32());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON:e=>({key:o(e.key)?globalThis.String(e.key):"",value:o(e.value)?t.RegisterEntity_EntityAttribute.fromJSON(e.value):void 0}),toJSON(e){const n={};return""!==e.key&&(n.key=e.key),void 0!==e.value&&(n.value=t.RegisterEntity_EntityAttribute.toJSON(e.value)),n},create:e=>t.RegisterEntity_AttributesEntry.fromPartial(e??{}),fromPartial(e){const n={key:"",value:void 0};return n.key=e.key??"",n.value=void 0!==e.value&&null!==e.value?t.RegisterEntity_EntityAttribute.fromPartial(e.value):void 0,n}},t.RegisterEntity_EntityAttribute={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(18).string(e.stringValue),void 0!==e.intValue&&t.uint32(24).int32(e.intValue),void 0!==e.floatValue&&t.uint32(37).float(e.floatValue),void 0!==e.boolValue&&t.uint32(40).bool(e.boolValue),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 2:if(18!==e)break;a.stringValue=n.string();continue;case 3:if(24!==e)break;a.intValue=n.int32();continue;case 4:if(37!==e)break;a.floatValue=n.float();continue;case 5:if(40!==e)break;a.boolValue=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({stringValue:o(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:o(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:o(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:o(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.RegisterEntity_EntityAttribute.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}},t.EntityUpdate={encode(e,n=new i.BinaryWriter){""!==e.id&&n.uint32(10).string(e.id),""!==e.sessionId&&n.uint32(18).string(e.sessionId),""!==e.gameId&&n.uint32(26).string(e.gameId);for(const i of e.attributes)t.RegisterEntity_EntityAttribute.encode(i,n.uint32(34).fork()).join();return n},decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={id:"",sessionId:"",gameId:"",attributes:[]};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.id=r.string();continue;case 2:if(18!==e)break;s.sessionId=r.string();continue;case 3:if(26!==e)break;s.gameId=r.string();continue;case 4:if(34!==e)break;s.attributes.push(t.RegisterEntity_EntityAttribute.decode(r,r.uint32()));continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON:e=>({id:o(e.id)?globalThis.String(e.id):"",sessionId:o(e.sessionId)?globalThis.String(e.sessionId):"",gameId:o(e.gameId)?globalThis.String(e.gameId):"",attributes:globalThis.Array.isArray(e?.attributes)?e.attributes.map((e=>t.RegisterEntity_EntityAttribute.fromJSON(e))):[]}),toJSON(e){const n={};return""!==e.id&&(n.id=e.id),""!==e.sessionId&&(n.sessionId=e.sessionId),""!==e.gameId&&(n.gameId=e.gameId),e.attributes?.length&&(n.attributes=e.attributes.map((e=>t.RegisterEntity_EntityAttribute.toJSON(e)))),n},create:e=>t.EntityUpdate.fromPartial(e??{}),fromPartial(e){const n={id:"",sessionId:"",gameId:"",attributes:[]};return n.id=e.id??"",n.sessionId=e.sessionId??"",n.gameId=e.gameId??"",n.attributes=e.attributes?.map((e=>t.RegisterEntity_EntityAttribute.fromPartial(e)))||[],n}}},6117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameEvent_EventAttribute=t.GameEvent_AttributesEntry=t.GameEvent=t.GameEvent_EventType=t.protobufPackage=void 0,t.gameEvent_EventTypeFromJSON=a,t.gameEvent_EventTypeToJSON=s;const i=n(4222);var r;function a(e){switch(e){case 0:case"CUSTOM":return r.CUSTOM;default:return r.UNRECOGNIZED}}function s(e){switch(e){case r.CUSTOM:return"CUSTOM";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function o(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function c(e){return null!=e}t.protobufPackage="game",function(e){e[e.CUSTOM=0]="CUSTOM",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.GameEvent_EventType=r={})),t.GameEvent={encode:(e,n=new i.BinaryWriter)=>(""!==e.id&&n.uint32(10).string(e.id),""!==e.eventName&&n.uint32(18).string(e.eventName),0!==e.timestamp&&n.uint32(24).int64(e.timestamp),void 0!==e.gameId&&n.uint32(34).string(e.gameId),void 0!==e.playerId&&n.uint32(42).string(e.playerId),void 0!==e.sessionId&&n.uint32(58).string(e.sessionId),void 0!==e.teamId&&n.uint32(66).string(e.teamId),Object.entries(e.attributes).forEach((([e,i])=>{t.GameEvent_AttributesEntry.encode({key:e,value:i},n.uint32(74).fork()).join()})),0!==e.type&&n.uint32(80).int32(e.type),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={id:"",eventName:"",timestamp:0,gameId:void 0,playerId:void 0,sessionId:void 0,teamId:void 0,attributes:{},type:0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.id=r.string();continue;case 2:if(18!==e)break;s.eventName=r.string();continue;case 3:if(24!==e)break;s.timestamp=o(r.int64());continue;case 4:if(34!==e)break;s.gameId=r.string();continue;case 5:if(42!==e)break;s.playerId=r.string();continue;case 7:if(58!==e)break;s.sessionId=r.string();continue;case 8:if(66!==e)break;s.teamId=r.string();continue;case 9:{if(74!==e)break;const n=t.GameEvent_AttributesEntry.decode(r,r.uint32());void 0!==n.value&&(s.attributes[n.key]=n.value);continue}case 10:if(80!==e)break;s.type=r.int32();continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON(e){return{id:c(e.id)?globalThis.String(e.id):"",eventName:c(e.eventName)?globalThis.String(e.eventName):"",timestamp:c(e.timestamp)?globalThis.Number(e.timestamp):0,gameId:c(e.gameId)?globalThis.String(e.gameId):void 0,playerId:c(e.playerId)?globalThis.String(e.playerId):void 0,sessionId:c(e.sessionId)?globalThis.String(e.sessionId):void 0,teamId:c(e.teamId)?globalThis.String(e.teamId):void 0,attributes:(n=e.attributes,"object"==typeof n&&null!==n?Object.entries(e.attributes).reduce(((e,[n,i])=>(e[n]=t.GameEvent_EventAttribute.fromJSON(i),e)),{}):{}),type:c(e.type)?a(e.type):0};var n},toJSON(e){const n={};if(""!==e.id&&(n.id=e.id),""!==e.eventName&&(n.eventName=e.eventName),0!==e.timestamp&&(n.timestamp=Math.round(e.timestamp)),void 0!==e.gameId&&(n.gameId=e.gameId),void 0!==e.playerId&&(n.playerId=e.playerId),void 0!==e.sessionId&&(n.sessionId=e.sessionId),void 0!==e.teamId&&(n.teamId=e.teamId),e.attributes){const i=Object.entries(e.attributes);i.length>0&&(n.attributes={},i.forEach((([e,i])=>{n.attributes[e]=t.GameEvent_EventAttribute.toJSON(i)})))}return 0!==e.type&&(n.type=s(e.type)),n},create:e=>t.GameEvent.fromPartial(e??{}),fromPartial(e){const n={id:"",eventName:"",timestamp:0,gameId:void 0,playerId:void 0,sessionId:void 0,teamId:void 0,attributes:{},type:0};return n.id=e.id??"",n.eventName=e.eventName??"",n.timestamp=e.timestamp??0,n.gameId=e.gameId??void 0,n.playerId=e.playerId??void 0,n.sessionId=e.sessionId??void 0,n.teamId=e.teamId??void 0,n.attributes=Object.entries(e.attributes??{}).reduce(((e,[n,i])=>(void 0!==i&&(e[n]=t.GameEvent_EventAttribute.fromPartial(i)),e)),{}),n.type=e.type??0,n}},t.GameEvent_AttributesEntry={encode:(e,n=new i.BinaryWriter)=>(""!==e.key&&n.uint32(10).string(e.key),void 0!==e.value&&t.GameEvent_EventAttribute.encode(e.value,n.uint32(18).fork()).join(),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={key:"",value:void 0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=r.string();continue;case 2:if(18!==e)break;s.value=t.GameEvent_EventAttribute.decode(r,r.uint32());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON:e=>({key:c(e.key)?globalThis.String(e.key):"",value:c(e.value)?t.GameEvent_EventAttribute.fromJSON(e.value):void 0}),toJSON(e){const n={};return""!==e.key&&(n.key=e.key),void 0!==e.value&&(n.value=t.GameEvent_EventAttribute.toJSON(e.value)),n},create:e=>t.GameEvent_AttributesEntry.fromPartial(e??{}),fromPartial(e){const n={key:"",value:void 0};return n.key=e.key??"",n.value=void 0!==e.value&&null!==e.value?t.GameEvent_EventAttribute.fromPartial(e.value):void 0,n}},t.GameEvent_EventAttribute={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(10).string(e.stringValue),void 0!==e.intValue&&t.uint32(16).int32(e.intValue),void 0!==e.floatValue&&t.uint32(29).float(e.floatValue),void 0!==e.boolValue&&t.uint32(32).bool(e.boolValue),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;a.stringValue=n.string();continue;case 2:if(16!==e)break;a.intValue=n.int32();continue;case 3:if(29!==e)break;a.floatValue=n.float();continue;case 4:if(32!==e)break;a.boolValue=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({stringValue:c(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:c(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:c(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:c(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.GameEvent_EventAttribute.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}}},9562:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthConfig_ConfigEntry=t.AuthConfig=t.InstanceCommandMessage=t.InstanceNotification=t.Instance=t.InstanceCommandEnum=t.InstanceStateEnum=t.protobufPackage=void 0,t.instanceStateEnumFromJSON=s,t.instanceStateEnumToJSON=o,t.instanceCommandEnumFromJSON=c,t.instanceCommandEnumToJSON=u;const i=n(4222);var r,a;function s(e){switch(e){case 0:case"INITIALIZING":return r.INITIALIZING;case 1:case"RUNNING":return r.RUNNING;case 2:case"PAUSED":return r.PAUSED;case 3:case"CRASHED":return r.CRASHED;case 4:case"ABORTED":return r.ABORTED;case 5:case"SHUTTING_DOWN":return r.SHUTTING_DOWN;case 6:case"STOPPED":return r.STOPPED;default:return r.UNRECOGNIZED}}function o(e){switch(e){case r.INITIALIZING:return"INITIALIZING";case r.RUNNING:return"RUNNING";case r.PAUSED:return"PAUSED";case r.CRASHED:return"CRASHED";case r.ABORTED:return"ABORTED";case r.SHUTTING_DOWN:return"SHUTTING_DOWN";case r.STOPPED:return"STOPPED";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function c(e){switch(e){case 0:case"START":return a.START;case 1:case"PAUSE":return a.PAUSE;case 2:case"RESUME":return a.RESUME;case 3:case"STOP":return a.STOP;case 4:case"ABORT":return a.ABORT;case 5:case"SHUTDOWN":return a.SHUTDOWN;default:return a.UNRECOGNIZED}}function u(e){switch(e){case a.START:return"START";case a.PAUSE:return"PAUSE";case a.RESUME:return"RESUME";case a.STOP:return"STOP";case a.ABORT:return"ABORT";case a.SHUTDOWN:return"SHUTDOWN";case a.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function l(e){return null!=e}t.protobufPackage="game",function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.RUNNING=1]="RUNNING",e[e.PAUSED=2]="PAUSED",e[e.CRASHED=3]="CRASHED",e[e.ABORTED=4]="ABORTED",e[e.SHUTTING_DOWN=5]="SHUTTING_DOWN",e[e.STOPPED=6]="STOPPED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.InstanceStateEnum=r={})),function(e){e[e.START=0]="START",e[e.PAUSE=1]="PAUSE",e[e.RESUME=2]="RESUME",e[e.STOP=3]="STOP",e[e.ABORT=4]="ABORT",e[e.SHUTDOWN=5]="SHUTDOWN",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(a||(t.InstanceCommandEnum=a={})),t.Instance={encode:(e,t=new i.BinaryWriter)=>(0!==e.state&&t.uint32(8).int32(e.state),void 0!==e.gameId&&t.uint32(18).string(e.gameId),void 0!==e.playerId&&t.uint32(26).string(e.playerId),void 0!==e.data&&t.uint32(34).string(e.data),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={state:0,gameId:void 0,playerId:void 0,data:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;a.state=n.int32();continue;case 2:if(18!==e)break;a.gameId=n.string();continue;case 3:if(26!==e)break;a.playerId=n.string();continue;case 4:if(34!==e)break;a.data=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({state:l(e.state)?s(e.state):0,gameId:l(e.gameId)?globalThis.String(e.gameId):void 0,playerId:l(e.playerId)?globalThis.String(e.playerId):void 0,data:l(e.data)?globalThis.String(e.data):void 0}),toJSON(e){const t={};return 0!==e.state&&(t.state=o(e.state)),void 0!==e.gameId&&(t.gameId=e.gameId),void 0!==e.playerId&&(t.playerId=e.playerId),void 0!==e.data&&(t.data=e.data),t},create:e=>t.Instance.fromPartial(e??{}),fromPartial(e){const t={state:0,gameId:void 0,playerId:void 0,data:void 0};return t.state=e.state??0,t.gameId=e.gameId??void 0,t.playerId=e.playerId??void 0,t.data=e.data??void 0,t}},t.InstanceNotification={encode:(e,t=new i.BinaryWriter)=>(0!==e.state&&t.uint32(8).int32(e.state),void 0!==e.gameId&&t.uint32(18).string(e.gameId),void 0!==e.playerId&&t.uint32(26).string(e.playerId),void 0!==e.data&&t.uint32(34).string(e.data),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={state:0,gameId:void 0,playerId:void 0,data:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;a.state=n.int32();continue;case 2:if(18!==e)break;a.gameId=n.string();continue;case 3:if(26!==e)break;a.playerId=n.string();continue;case 4:if(34!==e)break;a.data=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({state:l(e.state)?s(e.state):0,gameId:l(e.gameId)?globalThis.String(e.gameId):void 0,playerId:l(e.playerId)?globalThis.String(e.playerId):void 0,data:l(e.data)?globalThis.String(e.data):void 0}),toJSON(e){const t={};return 0!==e.state&&(t.state=o(e.state)),void 0!==e.gameId&&(t.gameId=e.gameId),void 0!==e.playerId&&(t.playerId=e.playerId),void 0!==e.data&&(t.data=e.data),t},create:e=>t.InstanceNotification.fromPartial(e??{}),fromPartial(e){const t={state:0,gameId:void 0,playerId:void 0,data:void 0};return t.state=e.state??0,t.gameId=e.gameId??void 0,t.playerId=e.playerId??void 0,t.data=e.data??void 0,t}},t.InstanceCommandMessage={encode:(e,n=new i.BinaryWriter)=>(0!==e.state&&n.uint32(8).int32(e.state),void 0!==e.gameId&&n.uint32(18).string(e.gameId),void 0!==e.playerId&&n.uint32(26).string(e.playerId),void 0!==e.data&&n.uint32(34).string(e.data),void 0!==e.authConfig&&t.AuthConfig.encode(e.authConfig,n.uint32(42).fork()).join(),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={state:0,gameId:void 0,playerId:void 0,data:void 0,authConfig:void 0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(8!==e)break;s.state=r.int32();continue;case 2:if(18!==e)break;s.gameId=r.string();continue;case 3:if(26!==e)break;s.playerId=r.string();continue;case 4:if(34!==e)break;s.data=r.string();continue;case 5:if(42!==e)break;s.authConfig=t.AuthConfig.decode(r,r.uint32());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON:e=>({state:l(e.state)?c(e.state):0,gameId:l(e.gameId)?globalThis.String(e.gameId):void 0,playerId:l(e.playerId)?globalThis.String(e.playerId):void 0,data:l(e.data)?globalThis.String(e.data):void 0,authConfig:l(e.authConfig)?t.AuthConfig.fromJSON(e.authConfig):void 0}),toJSON(e){const n={};return 0!==e.state&&(n.state=u(e.state)),void 0!==e.gameId&&(n.gameId=e.gameId),void 0!==e.playerId&&(n.playerId=e.playerId),void 0!==e.data&&(n.data=e.data),void 0!==e.authConfig&&(n.authConfig=t.AuthConfig.toJSON(e.authConfig)),n},create:e=>t.InstanceCommandMessage.fromPartial(e??{}),fromPartial(e){const n={state:0,gameId:void 0,playerId:void 0,data:void 0,authConfig:void 0};return n.state=e.state??0,n.gameId=e.gameId??void 0,n.playerId=e.playerId??void 0,n.data=e.data??void 0,n.authConfig=void 0!==e.authConfig&&null!==e.authConfig?t.AuthConfig.fromPartial(e.authConfig):void 0,n}},t.AuthConfig={encode:(e,n=new i.BinaryWriter)=>(""!==e.token&&n.uint32(10).string(e.token),Object.entries(e.config).forEach((([e,i])=>{t.AuthConfig_ConfigEntry.encode({key:e,value:i},n.uint32(18).fork()).join()})),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={token:"",config:{}};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.token=r.string();continue;case 2:{if(18!==e)break;const n=t.AuthConfig_ConfigEntry.decode(r,r.uint32());void 0!==n.value&&(s.config[n.key]=n.value);continue}}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON(e){return{token:l(e.token)?globalThis.String(e.token):"",config:(t=e.config,"object"==typeof t&&null!==t?Object.entries(e.config).reduce(((e,[t,n])=>(e[t]=String(n),e)),{}):{})};var t},toJSON(e){const t={};if(""!==e.token&&(t.token=e.token),e.config){const n=Object.entries(e.config);n.length>0&&(t.config={},n.forEach((([e,n])=>{t.config[e]=n})))}return t},create:e=>t.AuthConfig.fromPartial(e??{}),fromPartial(e){const t={token:"",config:{}};return t.token=e.token??"",t.config=Object.entries(e.config??{}).reduce(((e,[t,n])=>(void 0!==n&&(e[t]=globalThis.String(n)),e)),{}),t}},t.AuthConfig_ConfigEntry={encode:(e,t=new i.BinaryWriter)=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={key:"",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;a.key=n.string();continue;case 2:if(18!==e)break;a.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({key:l(e.key)?globalThis.String(e.key):"",value:l(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>t.AuthConfig_ConfigEntry.fromPartial(e??{}),fromPartial(e){const t={key:"",value:""};return t.key=e.key??"",t.value=e.value??"",t}}},4637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Session_GameAttribute=t.Session_AttributesEntry=t.Session=t.Session_GameState=t.protobufPackage=void 0,t.session_GameStateFromJSON=a,t.session_GameStateToJSON=s;const i=n(4222);var r;function a(e){switch(e){case 0:case"CREATED":return r.CREATED;case 1:case"WAITING":return r.WAITING;case 2:case"STARTED":return r.STARTED;case 3:case"FINISHED":return r.FINISHED;default:return r.UNRECOGNIZED}}function s(e){switch(e){case r.CREATED:return"CREATED";case r.WAITING:return"WAITING";case r.STARTED:return"STARTED";case r.FINISHED:return"FINISHED";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function o(e){return null!=e}t.protobufPackage="game",function(e){e[e.CREATED=0]="CREATED",e[e.WAITING=1]="WAITING",e[e.STARTED=2]="STARTED",e[e.FINISHED=3]="FINISHED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.Session_GameState=r={})),t.Session={encode(e,n=new i.BinaryWriter){""!==e.id&&n.uint32(10).string(e.id),""!==e.gameId&&n.uint32(18).string(e.gameId);for(const t of e.playerIds)n.uint32(26).string(t);return 0!==e.state&&n.uint32(32).int32(e.state),Object.entries(e.attributes).forEach((([e,i])=>{t.Session_AttributesEntry.encode({key:e,value:i},n.uint32(42).fork()).join()})),n},decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={id:"",gameId:"",playerIds:[],state:0,attributes:{}};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.id=r.string();continue;case 2:if(18!==e)break;s.gameId=r.string();continue;case 3:if(26!==e)break;s.playerIds.push(r.string());continue;case 4:if(32!==e)break;s.state=r.int32();continue;case 5:{if(42!==e)break;const n=t.Session_AttributesEntry.decode(r,r.uint32());void 0!==n.value&&(s.attributes[n.key]=n.value);continue}}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON(e){return{id:o(e.id)?globalThis.String(e.id):"",gameId:o(e.gameId)?globalThis.String(e.gameId):"",playerIds:globalThis.Array.isArray(e?.playerIds)?e.playerIds.map((e=>globalThis.String(e))):[],state:o(e.state)?a(e.state):0,attributes:(n=e.attributes,"object"==typeof n&&null!==n?Object.entries(e.attributes).reduce(((e,[n,i])=>(e[n]=t.Session_GameAttribute.fromJSON(i),e)),{}):{})};var n},toJSON(e){const n={};if(""!==e.id&&(n.id=e.id),""!==e.gameId&&(n.gameId=e.gameId),e.playerIds?.length&&(n.playerIds=e.playerIds),0!==e.state&&(n.state=s(e.state)),e.attributes){const i=Object.entries(e.attributes);i.length>0&&(n.attributes={},i.forEach((([e,i])=>{n.attributes[e]=t.Session_GameAttribute.toJSON(i)})))}return n},create:e=>t.Session.fromPartial(e??{}),fromPartial(e){const n={id:"",gameId:"",playerIds:[],state:0,attributes:{}};return n.id=e.id??"",n.gameId=e.gameId??"",n.playerIds=e.playerIds?.map((e=>e))||[],n.state=e.state??0,n.attributes=Object.entries(e.attributes??{}).reduce(((e,[n,i])=>(void 0!==i&&(e[n]=t.Session_GameAttribute.fromPartial(i)),e)),{}),n}},t.Session_AttributesEntry={encode:(e,n=new i.BinaryWriter)=>(""!==e.key&&n.uint32(10).string(e.key),void 0!==e.value&&t.Session_GameAttribute.encode(e.value,n.uint32(18).fork()).join(),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={key:"",value:void 0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=r.string();continue;case 2:if(18!==e)break;s.value=t.Session_GameAttribute.decode(r,r.uint32());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON:e=>({key:o(e.key)?globalThis.String(e.key):"",value:o(e.value)?t.Session_GameAttribute.fromJSON(e.value):void 0}),toJSON(e){const n={};return""!==e.key&&(n.key=e.key),void 0!==e.value&&(n.value=t.Session_GameAttribute.toJSON(e.value)),n},create:e=>t.Session_AttributesEntry.fromPartial(e??{}),fromPartial(e){const n={key:"",value:void 0};return n.key=e.key??"",n.value=void 0!==e.value&&null!==e.value?t.Session_GameAttribute.fromPartial(e.value):void 0,n}},t.Session_GameAttribute={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(18).string(e.stringValue),void 0!==e.intValue&&t.uint32(24).int32(e.intValue),void 0!==e.floatValue&&t.uint32(37).float(e.floatValue),void 0!==e.boolValue&&t.uint32(40).bool(e.boolValue),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 2:if(18!==e)break;a.stringValue=n.string();continue;case 3:if(24!==e)break;a.intValue=n.int32();continue;case 4:if(37!==e)break;a.floatValue=n.float();continue;case 5:if(40!==e)break;a.boolValue=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({stringValue:o(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:o(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:o(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:o(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.Session_GameAttribute.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}}},5264:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalEvent_EventAttribute=t.GlobalEvent_AttributesEntry=t.GlobalEvent=t.GlobalEvent_EventType=t.protobufPackage=void 0,t.globalEvent_EventTypeFromJSON=a,t.globalEvent_EventTypeToJSON=s;const i=n(4222);var r;function a(e){switch(e){case 0:case"CUSTOM":return r.CUSTOM;case 1:case"ANNOUNCEMENT":return r.ANNOUNCEMENT;case 2:case"ALERT":return r.ALERT;case 3:case"EVENT":return r.EVENT;case 4:case"REQUEST":return r.REQUEST;default:return r.UNRECOGNIZED}}function s(e){switch(e){case r.CUSTOM:return"CUSTOM";case r.ANNOUNCEMENT:return"ANNOUNCEMENT";case r.ALERT:return"ALERT";case r.EVENT:return"EVENT";case r.REQUEST:return"REQUEST";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function o(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function c(e){return null!=e}t.protobufPackage="global",function(e){e[e.CUSTOM=0]="CUSTOM",e[e.ANNOUNCEMENT=1]="ANNOUNCEMENT",e[e.ALERT=2]="ALERT",e[e.EVENT=3]="EVENT",e[e.REQUEST=4]="REQUEST",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.GlobalEvent_EventType=r={})),t.GlobalEvent={encode:(e,n=new i.BinaryWriter)=>(""!==e.id&&n.uint32(10).string(e.id),""!==e.eventName&&n.uint32(18).string(e.eventName),0!==e.timestamp&&n.uint32(24).int64(e.timestamp),void 0!==e.gameId&&n.uint32(34).string(e.gameId),void 0!==e.playerId&&n.uint32(42).string(e.playerId),void 0!==e.teamId&&n.uint32(50).string(e.teamId),Object.entries(e.attributes).forEach((([e,i])=>{t.GlobalEvent_AttributesEntry.encode({key:e,value:i},n.uint32(58).fork()).join()})),0!==e.type&&n.uint32(64).int32(e.type),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={id:"",eventName:"",timestamp:0,gameId:void 0,playerId:void 0,teamId:void 0,attributes:{},type:0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.id=r.string();continue;case 2:if(18!==e)break;s.eventName=r.string();continue;case 3:if(24!==e)break;s.timestamp=o(r.int64());continue;case 4:if(34!==e)break;s.gameId=r.string();continue;case 5:if(42!==e)break;s.playerId=r.string();continue;case 6:if(50!==e)break;s.teamId=r.string();continue;case 7:{if(58!==e)break;const n=t.GlobalEvent_AttributesEntry.decode(r,r.uint32());void 0!==n.value&&(s.attributes[n.key]=n.value);continue}case 8:if(64!==e)break;s.type=r.int32();continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON(e){return{id:c(e.id)?globalThis.String(e.id):"",eventName:c(e.eventName)?globalThis.String(e.eventName):"",timestamp:c(e.timestamp)?globalThis.Number(e.timestamp):0,gameId:c(e.gameId)?globalThis.String(e.gameId):void 0,playerId:c(e.playerId)?globalThis.String(e.playerId):void 0,teamId:c(e.teamId)?globalThis.String(e.teamId):void 0,attributes:(n=e.attributes,"object"==typeof n&&null!==n?Object.entries(e.attributes).reduce(((e,[n,i])=>(e[n]=t.GlobalEvent_EventAttribute.fromJSON(i),e)),{}):{}),type:c(e.type)?a(e.type):0};var n},toJSON(e){const n={};if(""!==e.id&&(n.id=e.id),""!==e.eventName&&(n.eventName=e.eventName),0!==e.timestamp&&(n.timestamp=Math.round(e.timestamp)),void 0!==e.gameId&&(n.gameId=e.gameId),void 0!==e.playerId&&(n.playerId=e.playerId),void 0!==e.teamId&&(n.teamId=e.teamId),e.attributes){const i=Object.entries(e.attributes);i.length>0&&(n.attributes={},i.forEach((([e,i])=>{n.attributes[e]=t.GlobalEvent_EventAttribute.toJSON(i)})))}return 0!==e.type&&(n.type=s(e.type)),n},create:e=>t.GlobalEvent.fromPartial(e??{}),fromPartial(e){const n={id:"",eventName:"",timestamp:0,gameId:void 0,playerId:void 0,teamId:void 0,attributes:{},type:0};return n.id=e.id??"",n.eventName=e.eventName??"",n.timestamp=e.timestamp??0,n.gameId=e.gameId??void 0,n.playerId=e.playerId??void 0,n.teamId=e.teamId??void 0,n.attributes=Object.entries(e.attributes??{}).reduce(((e,[n,i])=>(void 0!==i&&(e[n]=t.GlobalEvent_EventAttribute.fromPartial(i)),e)),{}),n.type=e.type??0,n}},t.GlobalEvent_AttributesEntry={encode:(e,n=new i.BinaryWriter)=>(""!==e.key&&n.uint32(10).string(e.key),void 0!==e.value&&t.GlobalEvent_EventAttribute.encode(e.value,n.uint32(18).fork()).join(),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={key:"",value:void 0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=r.string();continue;case 2:if(18!==e)break;s.value=t.GlobalEvent_EventAttribute.decode(r,r.uint32());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON:e=>({key:c(e.key)?globalThis.String(e.key):"",value:c(e.value)?t.GlobalEvent_EventAttribute.fromJSON(e.value):void 0}),toJSON(e){const n={};return""!==e.key&&(n.key=e.key),void 0!==e.value&&(n.value=t.GlobalEvent_EventAttribute.toJSON(e.value)),n},create:e=>t.GlobalEvent_AttributesEntry.fromPartial(e??{}),fromPartial(e){const n={key:"",value:void 0};return n.key=e.key??"",n.value=void 0!==e.value&&null!==e.value?t.GlobalEvent_EventAttribute.fromPartial(e.value):void 0,n}},t.GlobalEvent_EventAttribute={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(10).string(e.stringValue),void 0!==e.intValue&&t.uint32(16).int32(e.intValue),void 0!==e.floatValue&&t.uint32(29).float(e.floatValue),void 0!==e.boolValue&&t.uint32(32).bool(e.boolValue),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;a.stringValue=n.string();continue;case 2:if(16!==e)break;a.intValue=n.int32();continue;case 3:if(29!==e)break;a.floatValue=n.float();continue;case 4:if(32!==e)break;a.boolValue=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({stringValue:c(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:c(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:c(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:c(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.GlobalEvent_EventAttribute.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}}},4726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JoinLeaveGame=t.JoinLeaveGame_Action=t.RegionEnum=t.protobufPackage=void 0,t.regionEnumFromJSON=s,t.regionEnumToJSON=o,t.joinLeaveGame_ActionFromJSON=c,t.joinLeaveGame_ActionToJSON=u;const i=n(4222);var r,a;function s(e){switch(e){case 0:case"REGION_UNSPECIFIED":return r.REGION_UNSPECIFIED;case 1:case"NA_EAST":return r.NA_EAST;case 2:case"NA_WEST":return r.NA_WEST;case 3:case"SA":return r.SA;case 4:case"EU_WEST":return r.EU_WEST;case 5:case"EU_CENTRAL":return r.EU_CENTRAL;case 6:case"EU_NORTH":return r.EU_NORTH;case 7:case"AS_EAST":return r.AS_EAST;case 8:case"AS_SE":return r.AS_SE;case 9:case"AS_SOUTH":return r.AS_SOUTH;case 10:case"OC":return r.OC;case 11:case"MENA":return r.MENA;case 12:case"AFRICA":return r.AFRICA;case 13:case"GLOBAL":return r.GLOBAL;default:return r.UNRECOGNIZED}}function o(e){switch(e){case r.REGION_UNSPECIFIED:return"REGION_UNSPECIFIED";case r.NA_EAST:return"NA_EAST";case r.NA_WEST:return"NA_WEST";case r.SA:return"SA";case r.EU_WEST:return"EU_WEST";case r.EU_CENTRAL:return"EU_CENTRAL";case r.EU_NORTH:return"EU_NORTH";case r.AS_EAST:return"AS_EAST";case r.AS_SE:return"AS_SE";case r.AS_SOUTH:return"AS_SOUTH";case r.OC:return"OC";case r.MENA:return"MENA";case r.AFRICA:return"AFRICA";case r.GLOBAL:return"GLOBAL";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function c(e){switch(e){case 0:case"JOIN":return a.JOIN;case 1:case"LEAVE":return a.LEAVE;default:return a.UNRECOGNIZED}}function u(e){switch(e){case a.JOIN:return"JOIN";case a.LEAVE:return"LEAVE";case a.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function l(e){return null!=e}t.protobufPackage="global",function(e){e[e.REGION_UNSPECIFIED=0]="REGION_UNSPECIFIED",e[e.NA_EAST=1]="NA_EAST",e[e.NA_WEST=2]="NA_WEST",e[e.SA=3]="SA",e[e.EU_WEST=4]="EU_WEST",e[e.EU_CENTRAL=5]="EU_CENTRAL",e[e.EU_NORTH=6]="EU_NORTH",e[e.AS_EAST=7]="AS_EAST",e[e.AS_SE=8]="AS_SE",e[e.AS_SOUTH=9]="AS_SOUTH",e[e.OC=10]="OC",e[e.MENA=11]="MENA",e[e.AFRICA=12]="AFRICA",e[e.GLOBAL=13]="GLOBAL",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.RegionEnum=r={})),function(e){e[e.JOIN=0]="JOIN",e[e.LEAVE=1]="LEAVE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(a||(t.JoinLeaveGame_Action=a={})),t.JoinLeaveGame={encode:(e,t=new i.BinaryWriter)=>(""!==e.playerId&&t.uint32(10).string(e.playerId),""!==e.gameId&&t.uint32(18).string(e.gameId),0!==e.action&&t.uint32(24).int32(e.action),void 0!==e.teamId&&t.uint32(34).string(e.teamId),void 0!==e.sessionId&&t.uint32(42).string(e.sessionId),void 0!==e.region&&t.uint32(48).int32(e.region),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={playerId:"",gameId:"",action:0,teamId:void 0,sessionId:void 0,region:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;a.playerId=n.string();continue;case 2:if(18!==e)break;a.gameId=n.string();continue;case 3:if(24!==e)break;a.action=n.int32();continue;case 4:if(34!==e)break;a.teamId=n.string();continue;case 5:if(42!==e)break;a.sessionId=n.string();continue;case 6:if(48!==e)break;a.region=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({playerId:l(e.playerId)?globalThis.String(e.playerId):"",gameId:l(e.gameId)?globalThis.String(e.gameId):"",action:l(e.action)?c(e.action):0,teamId:l(e.teamId)?globalThis.String(e.teamId):void 0,sessionId:l(e.sessionId)?globalThis.String(e.sessionId):void 0,region:l(e.region)?s(e.region):void 0}),toJSON(e){const t={};return""!==e.playerId&&(t.playerId=e.playerId),""!==e.gameId&&(t.gameId=e.gameId),0!==e.action&&(t.action=u(e.action)),void 0!==e.teamId&&(t.teamId=e.teamId),void 0!==e.sessionId&&(t.sessionId=e.sessionId),void 0!==e.region&&(t.region=o(e.region)),t},create:e=>t.JoinLeaveGame.fromPartial(e??{}),fromPartial(e){const t={playerId:"",gameId:"",action:0,teamId:void 0,sessionId:void 0,region:void 0};return t.playerId=e.playerId??"",t.gameId=e.gameId??"",t.action=e.action??0,t.teamId=e.teamId??void 0,t.sessionId=e.sessionId??void 0,t.region=e.region??void 0,t}}},3343:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalTime=t.protobufPackage=void 0;const i=n(4222);function r(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function a(e){return null!=e}t.protobufPackage="global",t.GlobalTime={encode:(e,t=new i.BinaryWriter)=>(0!==e.timestamp&&t.uint32(8).int64(e.timestamp),""!==e.hash&&t.uint32(18).string(e.hash),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===t?n.len:n.pos+t;const s={timestamp:0,hash:""};for(;n.pos<a;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;s.timestamp=r(n.int64());continue;case 2:if(18!==e)break;s.hash=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({timestamp:a(e.timestamp)?globalThis.Number(e.timestamp):0,hash:a(e.hash)?globalThis.String(e.hash):""}),toJSON(e){const t={};return 0!==e.timestamp&&(t.timestamp=Math.round(e.timestamp)),""!==e.hash&&(t.hash=e.hash),t},create:e=>t.GlobalTime.fromPartial(e??{}),fromPartial(e){const t={timestamp:0,hash:""};return t.timestamp=e.timestamp??0,t.hash=e.hash??"",t}}},8262:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.player_state=t.player_player=t.player_action=t.global_time=t.global_join_leave=t.global_event=t.game_session=t.game_instance=t.game_event=t.game_entity=void 0;const i=n(7094);t.game_entity=i;const r=n(6117);t.game_event=r;const a=n(9562);t.game_instance=a;const s=n(4637);t.game_session=s;const o=n(5264);t.global_event=o;const c=n(4726);t.global_join_leave=c;const u=n(3343);t.global_time=u;const l=n(2706);t.player_action=l;const d=n(2821);t.player_player=d;const f=n(7515);t.player_state=f},2706:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Action_PlayerAction=t.Action_Velocity=t.Action_Position=t.Action_ActionEntry=t.Action=t.Action_ActionType=t.protobufPackage=void 0,t.action_ActionTypeFromJSON=a,t.action_ActionTypeToJSON=s;const i=n(4222);var r;function a(e){switch(e){case 0:case"CUSTOM":return r.CUSTOM;case 1:case"MOVE":return r.MOVE;case 2:case"JUMP":return r.JUMP;case 3:case"SHOOT":return r.SHOOT;case 4:case"PICKUP":return r.PICKUP;case 5:case"DROP":return r.DROP;case 6:case"USE":return r.USE;case 7:case"INTERACT":return r.INTERACT;default:return r.UNRECOGNIZED}}function s(e){switch(e){case r.CUSTOM:return"CUSTOM";case r.MOVE:return"MOVE";case r.JUMP:return"JUMP";case r.SHOOT:return"SHOOT";case r.PICKUP:return"PICKUP";case r.DROP:return"DROP";case r.USE:return"USE";case r.INTERACT:return"INTERACT";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function o(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function c(e){return null!=e}t.protobufPackage="player",function(e){e[e.CUSTOM=0]="CUSTOM",e[e.MOVE=1]="MOVE",e[e.JUMP=2]="JUMP",e[e.SHOOT=3]="SHOOT",e[e.PICKUP=4]="PICKUP",e[e.DROP=5]="DROP",e[e.USE=6]="USE",e[e.INTERACT=7]="INTERACT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.Action_ActionType=r={})),t.Action={encode:(e,n=new i.BinaryWriter)=>(""!==e.playerId&&n.uint32(10).string(e.playerId),""!==e.sessionId&&n.uint32(18).string(e.sessionId),""!==e.gameId&&n.uint32(26).string(e.gameId),0!==e.type&&n.uint32(32).int32(e.type),void 0!==e.position&&t.Action_Position.encode(e.position,n.uint32(42).fork()).join(),void 0!==e.velocity&&t.Action_Velocity.encode(e.velocity,n.uint32(50).fork()).join(),Object.entries(e.action).forEach((([e,i])=>{t.Action_ActionEntry.encode({key:e,value:i},n.uint32(58).fork()).join()})),0!==e.timestamp&&n.uint32(64).int64(e.timestamp),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={playerId:"",sessionId:"",gameId:"",type:0,position:void 0,velocity:void 0,action:{},timestamp:0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.playerId=r.string();continue;case 2:if(18!==e)break;s.sessionId=r.string();continue;case 3:if(26!==e)break;s.gameId=r.string();continue;case 4:if(32!==e)break;s.type=r.int32();continue;case 5:if(42!==e)break;s.position=t.Action_Position.decode(r,r.uint32());continue;case 6:if(50!==e)break;s.velocity=t.Action_Velocity.decode(r,r.uint32());continue;case 7:{if(58!==e)break;const n=t.Action_ActionEntry.decode(r,r.uint32());void 0!==n.value&&(s.action[n.key]=n.value);continue}case 8:if(64!==e)break;s.timestamp=o(r.int64());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON(e){return{playerId:c(e.playerId)?globalThis.String(e.playerId):"",sessionId:c(e.sessionId)?globalThis.String(e.sessionId):"",gameId:c(e.gameId)?globalThis.String(e.gameId):"",type:c(e.type)?a(e.type):0,position:c(e.position)?t.Action_Position.fromJSON(e.position):void 0,velocity:c(e.velocity)?t.Action_Velocity.fromJSON(e.velocity):void 0,action:(n=e.action,"object"==typeof n&&null!==n?Object.entries(e.action).reduce(((e,[n,i])=>(e[n]=t.Action_PlayerAction.fromJSON(i),e)),{}):{}),timestamp:c(e.timestamp)?globalThis.Number(e.timestamp):0};var n},toJSON(e){const n={};if(""!==e.playerId&&(n.playerId=e.playerId),""!==e.sessionId&&(n.sessionId=e.sessionId),""!==e.gameId&&(n.gameId=e.gameId),0!==e.type&&(n.type=s(e.type)),void 0!==e.position&&(n.position=t.Action_Position.toJSON(e.position)),void 0!==e.velocity&&(n.velocity=t.Action_Velocity.toJSON(e.velocity)),e.action){const i=Object.entries(e.action);i.length>0&&(n.action={},i.forEach((([e,i])=>{n.action[e]=t.Action_PlayerAction.toJSON(i)})))}return 0!==e.timestamp&&(n.timestamp=Math.round(e.timestamp)),n},create:e=>t.Action.fromPartial(e??{}),fromPartial(e){const n={playerId:"",sessionId:"",gameId:"",type:0,position:void 0,velocity:void 0,action:{},timestamp:0};return n.playerId=e.playerId??"",n.sessionId=e.sessionId??"",n.gameId=e.gameId??"",n.type=e.type??0,n.position=void 0!==e.position&&null!==e.position?t.Action_Position.fromPartial(e.position):void 0,n.velocity=void 0!==e.velocity&&null!==e.velocity?t.Action_Velocity.fromPartial(e.velocity):void 0,n.action=Object.entries(e.action??{}).reduce(((e,[n,i])=>(void 0!==i&&(e[n]=t.Action_PlayerAction.fromPartial(i)),e)),{}),n.timestamp=e.timestamp??0,n}},t.Action_ActionEntry={encode:(e,n=new i.BinaryWriter)=>(""!==e.key&&n.uint32(10).string(e.key),void 0!==e.value&&t.Action_PlayerAction.encode(e.value,n.uint32(18).fork()).join(),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={key:"",value:void 0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=r.string();continue;case 2:if(18!==e)break;s.value=t.Action_PlayerAction.decode(r,r.uint32());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON:e=>({key:c(e.key)?globalThis.String(e.key):"",value:c(e.value)?t.Action_PlayerAction.fromJSON(e.value):void 0}),toJSON(e){const n={};return""!==e.key&&(n.key=e.key),void 0!==e.value&&(n.value=t.Action_PlayerAction.toJSON(e.value)),n},create:e=>t.Action_ActionEntry.fromPartial(e??{}),fromPartial(e){const n={key:"",value:void 0};return n.key=e.key??"",n.value=void 0!==e.value&&null!==e.value?t.Action_PlayerAction.fromPartial(e.value):void 0,n}},t.Action_Position={encode:(e,t=new i.BinaryWriter)=>(0!==e.x&&t.uint32(13).float(e.x),0!==e.y&&t.uint32(21).float(e.y),0!==e.z&&t.uint32(29).float(e.z),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={x:0,y:0,z:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(13!==e)break;a.x=n.float();continue;case 2:if(21!==e)break;a.y=n.float();continue;case 3:if(29!==e)break;a.z=n.float();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({x:c(e.x)?globalThis.Number(e.x):0,y:c(e.y)?globalThis.Number(e.y):0,z:c(e.z)?globalThis.Number(e.z):0}),toJSON(e){const t={};return 0!==e.x&&(t.x=e.x),0!==e.y&&(t.y=e.y),0!==e.z&&(t.z=e.z),t},create:e=>t.Action_Position.fromPartial(e??{}),fromPartial(e){const t={x:0,y:0,z:0};return t.x=e.x??0,t.y=e.y??0,t.z=e.z??0,t}},t.Action_Velocity={encode:(e,t=new i.BinaryWriter)=>(0!==e.x&&t.uint32(13).float(e.x),0!==e.y&&t.uint32(21).float(e.y),0!==e.z&&t.uint32(29).float(e.z),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={x:0,y:0,z:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(13!==e)break;a.x=n.float();continue;case 2:if(21!==e)break;a.y=n.float();continue;case 3:if(29!==e)break;a.z=n.float();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({x:c(e.x)?globalThis.Number(e.x):0,y:c(e.y)?globalThis.Number(e.y):0,z:c(e.z)?globalThis.Number(e.z):0}),toJSON(e){const t={};return 0!==e.x&&(t.x=e.x),0!==e.y&&(t.y=e.y),0!==e.z&&(t.z=e.z),t},create:e=>t.Action_Velocity.fromPartial(e??{}),fromPartial(e){const t={x:0,y:0,z:0};return t.x=e.x??0,t.y=e.y??0,t.z=e.z??0,t}},t.Action_PlayerAction={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(18).string(e.stringValue),void 0!==e.intValue&&t.uint32(24).int32(e.intValue),void 0!==e.floatValue&&t.uint32(37).float(e.floatValue),void 0!==e.boolValue&&t.uint32(40).bool(e.boolValue),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 2:if(18!==e)break;a.stringValue=n.string();continue;case 3:if(24!==e)break;a.intValue=n.int32();continue;case 4:if(37!==e)break;a.floatValue=n.float();continue;case 5:if(40!==e)break;a.boolValue=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({stringValue:c(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:c(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:c(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:c(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.Action_PlayerAction.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}}},2821:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Player=t.Player_PlayerStatus=t.Player_PlayerType=t.protobufPackage=void 0,t.player_PlayerTypeFromJSON=s,t.player_PlayerTypeToJSON=o,t.player_PlayerStatusFromJSON=c,t.player_PlayerStatusToJSON=u;const i=n(4222);var r,a;function s(e){switch(e){case 0:case"HUMAN":return r.HUMAN;case 1:case"AI":return r.AI;default:return r.UNRECOGNIZED}}function o(e){switch(e){case r.HUMAN:return"HUMAN";case r.AI:return"AI";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function c(e){switch(e){case 0:case"ACTIVE":return a.ACTIVE;case 1:case"INACTIVE":return a.INACTIVE;default:return a.UNRECOGNIZED}}function u(e){switch(e){case a.ACTIVE:return"ACTIVE";case a.INACTIVE:return"INACTIVE";case a.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function l(e){return null!=e}t.protobufPackage="player",function(e){e[e.HUMAN=0]="HUMAN",e[e.AI=1]="AI",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.Player_PlayerType=r={})),function(e){e[e.ACTIVE=0]="ACTIVE",e[e.INACTIVE=1]="INACTIVE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(a||(t.Player_PlayerStatus=a={})),t.Player={encode:(e,t=new i.BinaryWriter)=>(""!==e.id&&t.uint32(10).string(e.id),""!==e.username&&t.uint32(18).string(e.username),void 0!==e.email&&t.uint32(26).string(e.email),void 0!==e.team&&t.uint32(34).string(e.team),0!==e.score&&t.uint32(40).int32(e.score),0!==e.type&&t.uint32(48).int32(e.type),0!==e.status&&t.uint32(56).int32(e.status),void 0!==e.role&&t.uint32(66).string(e.role),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={id:"",username:"",email:void 0,team:void 0,score:0,type:0,status:0,role:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;a.id=n.string();continue;case 2:if(18!==e)break;a.username=n.string();continue;case 3:if(26!==e)break;a.email=n.string();continue;case 4:if(34!==e)break;a.team=n.string();continue;case 5:if(40!==e)break;a.score=n.int32();continue;case 6:if(48!==e)break;a.type=n.int32();continue;case 7:if(56!==e)break;a.status=n.int32();continue;case 8:if(66!==e)break;a.role=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({id:l(e.id)?globalThis.String(e.id):"",username:l(e.username)?globalThis.String(e.username):"",email:l(e.email)?globalThis.String(e.email):void 0,team:l(e.team)?globalThis.String(e.team):void 0,score:l(e.score)?globalThis.Number(e.score):0,type:l(e.type)?s(e.type):0,status:l(e.status)?c(e.status):0,role:l(e.role)?globalThis.String(e.role):void 0}),toJSON(e){const t={};return""!==e.id&&(t.id=e.id),""!==e.username&&(t.username=e.username),void 0!==e.email&&(t.email=e.email),void 0!==e.team&&(t.team=e.team),0!==e.score&&(t.score=Math.round(e.score)),0!==e.type&&(t.type=o(e.type)),0!==e.status&&(t.status=u(e.status)),void 0!==e.role&&(t.role=e.role),t},create:e=>t.Player.fromPartial(e??{}),fromPartial(e){const t={id:"",username:"",email:void 0,team:void 0,score:0,type:0,status:0,role:void 0};return t.id=e.id??"",t.username=e.username??"",t.email=e.email??void 0,t.team=e.team??void 0,t.score=e.score??0,t.type=e.type??0,t.status=e.status??0,t.role=e.role??void 0,t}}},7515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.State_PlayerAttribute=t.State_AttributesEntry=t.State=t.State_PlayerState=t.protobufPackage=void 0,t.state_PlayerStateFromJSON=a,t.state_PlayerStateToJSON=s;const i=n(4222);var r;function a(e){switch(e){case 0:case"WAITING":return r.WAITING;case 1:case"PLAYING":return r.PLAYING;case 2:case"FINISHED":return r.FINISHED;default:return r.UNRECOGNIZED}}function s(e){switch(e){case r.WAITING:return"WAITING";case r.PLAYING:return"PLAYING";case r.FINISHED:return"FINISHED";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function o(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function c(e){return null!=e}t.protobufPackage="player",function(e){e[e.WAITING=0]="WAITING",e[e.PLAYING=1]="PLAYING",e[e.FINISHED=2]="FINISHED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.State_PlayerState=r={})),t.State={encode:(e,n=new i.BinaryWriter)=>(""!==e.playerId&&n.uint32(10).string(e.playerId),""!==e.sessionId&&n.uint32(18).string(e.sessionId),""!==e.gameId&&n.uint32(26).string(e.gameId),0!==e.state&&n.uint32(32).int32(e.state),Object.entries(e.attributes).forEach((([e,i])=>{t.State_AttributesEntry.encode({key:e,value:i},n.uint32(42).fork()).join()})),0!==e.timestamp&&n.uint32(48).int64(e.timestamp),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={playerId:"",sessionId:"",gameId:"",state:0,attributes:{},timestamp:0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.playerId=r.string();continue;case 2:if(18!==e)break;s.sessionId=r.string();continue;case 3:if(26!==e)break;s.gameId=r.string();continue;case 4:if(32!==e)break;s.state=r.int32();continue;case 5:{if(42!==e)break;const n=t.State_AttributesEntry.decode(r,r.uint32());void 0!==n.value&&(s.attributes[n.key]=n.value);continue}case 6:if(48!==e)break;s.timestamp=o(r.int64());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON(e){return{playerId:c(e.playerId)?globalThis.String(e.playerId):"",sessionId:c(e.sessionId)?globalThis.String(e.sessionId):"",gameId:c(e.gameId)?globalThis.String(e.gameId):"",state:c(e.state)?a(e.state):0,attributes:(n=e.attributes,"object"==typeof n&&null!==n?Object.entries(e.attributes).reduce(((e,[n,i])=>(e[n]=t.State_PlayerAttribute.fromJSON(i),e)),{}):{}),timestamp:c(e.timestamp)?globalThis.Number(e.timestamp):0};var n},toJSON(e){const n={};if(""!==e.playerId&&(n.playerId=e.playerId),""!==e.sessionId&&(n.sessionId=e.sessionId),""!==e.gameId&&(n.gameId=e.gameId),0!==e.state&&(n.state=s(e.state)),e.attributes){const i=Object.entries(e.attributes);i.length>0&&(n.attributes={},i.forEach((([e,i])=>{n.attributes[e]=t.State_PlayerAttribute.toJSON(i)})))}return 0!==e.timestamp&&(n.timestamp=Math.round(e.timestamp)),n},create:e=>t.State.fromPartial(e??{}),fromPartial(e){const n={playerId:"",sessionId:"",gameId:"",state:0,attributes:{},timestamp:0};return n.playerId=e.playerId??"",n.sessionId=e.sessionId??"",n.gameId=e.gameId??"",n.state=e.state??0,n.attributes=Object.entries(e.attributes??{}).reduce(((e,[n,i])=>(void 0!==i&&(e[n]=t.State_PlayerAttribute.fromPartial(i)),e)),{}),n.timestamp=e.timestamp??0,n}},t.State_AttributesEntry={encode:(e,n=new i.BinaryWriter)=>(""!==e.key&&n.uint32(10).string(e.key),void 0!==e.value&&t.State_PlayerAttribute.encode(e.value,n.uint32(18).fork()).join(),n),decode(e,n){const r=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let a=void 0===n?r.len:r.pos+n;const s={key:"",value:void 0};for(;r.pos<a;){const e=r.uint32();switch(e>>>3){case 1:if(10!==e)break;s.key=r.string();continue;case 2:if(18!==e)break;s.value=t.State_PlayerAttribute.decode(r,r.uint32());continue}if(4==(7&e)||0===e)break;r.skip(7&e)}return s},fromJSON:e=>({key:c(e.key)?globalThis.String(e.key):"",value:c(e.value)?t.State_PlayerAttribute.fromJSON(e.value):void 0}),toJSON(e){const n={};return""!==e.key&&(n.key=e.key),void 0!==e.value&&(n.value=t.State_PlayerAttribute.toJSON(e.value)),n},create:e=>t.State_AttributesEntry.fromPartial(e??{}),fromPartial(e){const n={key:"",value:void 0};return n.key=e.key??"",n.value=void 0!==e.value&&null!==e.value?t.State_PlayerAttribute.fromPartial(e.value):void 0,n}},t.State_PlayerAttribute={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(18).string(e.stringValue),void 0!==e.intValue&&t.uint32(24).int32(e.intValue),void 0!==e.floatValue&&t.uint32(37).float(e.floatValue),void 0!==e.boolValue&&t.uint32(40).bool(e.boolValue),t),decode(e,t){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?n.len:n.pos+t;const a={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 2:if(18!==e)break;a.stringValue=n.string();continue;case 3:if(24!==e)break;a.intValue=n.int32();continue;case 4:if(37!==e)break;a.floatValue=n.float();continue;case 5:if(40!==e)break;a.boolValue=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({stringValue:c(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:c(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:c(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:c(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.State_PlayerAttribute.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}}},8855:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(i++,"%c"===e&&(r=i))})),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(4010)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},4010:(e,t,n)=>{e.exports=function(e){function t(e){let n,r,a,s=null;function o(...e){if(!o.enabled)return;const i=o,r=Number(new Date),a=r-(n||r);i.diff=a,i.prev=n,i.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,r)=>{if("%%"===n)return"%";s++;const a=t.formatters[r];if("function"==typeof a){const t=e[s];n=a.call(i,t),e.splice(s,1),s--}return n})),t.formatArgs.call(i,e),(i.log||t.log).apply(i,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=i,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(r!==t.namespaces&&(r=t.namespaces,a=t.enabled(e)),a),set:e=>{s=e}}),"function"==typeof t.init&&t.init(o),o}function i(e,n){const i=t(this.namespace+(void 0===n?":":n)+e);return i.log=this.log,i}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(7323),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},6237:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,a),i(n)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}g(e,t,a,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,r)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,n,i){var r,a,s,u;if(o(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),void 0===s)s=a[t]=n,++e._eventsCount;else if("function"==typeof s?s=a[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=c(e))>0&&s.length>r&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=l.bind(i);return r.listener=n,i.wrapFn=r,r}function f(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):p(r,r.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function g(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(a){i.once&&e.removeEventListener(t,r),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,a=this._events;if(void 0!==a)r=r&&void 0===a.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var c=a[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var u=c.length,l=p(c,u);for(n=0;n<u;++n)i(l[n],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return o(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,a,s;if(o(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,r=a;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,a=Object.keys(n);for(i=0;i<a.length;++i)"removeListener"!==(r=a[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7323:e=>{var t=1e3,n=60*t,i=60*n,r=24*i,a=7*r;function s(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}e.exports=function(e,o){o=o||{};var c,u,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var o=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return o*a;case"days":case"day":case"d":return o*r;case"hours":case"hour":case"hrs":case"hr":case"h":return o*i;case"minutes":case"minute":case"mins":case"min":case"m":return o*n;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===l&&isFinite(e))return o.long?(c=e,(u=Math.abs(c))>=r?s(c,u,r,"day"):u>=i?s(c,u,i,"hour"):u>=n?s(c,u,n,"minute"):u>=t?s(c,u,t,"second"):c+" ms"):function(e){var a=Math.abs(e);return a>=r?Math.round(e/r)+"d":a>=i?Math.round(e/i)+"h":a>=n?Math.round(e/n)+"m":a>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},1583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=f;const i=n(621),r=n(2885),a=n(2949),s=n(8792),o=n(7299),c=n(2992),u=999,l=998,d=2;function f(e,t){if((0,i.isMessage)(t,e))return t;const n=function(e){let t;if(function(e){switch(e.file.edition){case u:return!1;case l:return!0;default:return e.fields.some((e=>e.presence!=d&&"message"!=e.fieldKind&&!e.oneof))}}(e)){const n=I.get(e);let i,r;if(n)({prototype:i,members:r}=n);else{i={},r=new Set;for(const t of e.members)"oneof"!=t.kind&&("scalar"!=t.fieldKind&&"enum"!=t.fieldKind||t.presence!=d&&(r.add(t),i[t.localName]=E(t)));I.set(e,{prototype:i,members:r})}t=Object.create(i),t.$typeName=e.typeName;for(const n of e.members)if(!r.has(n)){if("field"==n.kind){if("message"==n.fieldKind)continue;if(("scalar"==n.fieldKind||"enum"==n.fieldKind)&&n.presence!=d)continue}t[n.localName]=E(n)}}else{t={$typeName:e.typeName};for(const n of e.members)"oneof"!=n.kind&&n.presence!=d||(t[n.localName]=E(n))}return t}(e);return void 0!==t&&function(e,t,n){for(const i of e.members){let e,r=n[i.localName];if(null!=r){if("oneof"==i.kind){const t=(0,o.unsafeOneofCase)(n,i);if(!t)continue;e=t,r=(0,o.unsafeGet)(n,t)}else e=i;switch(e.fieldKind){case"message":r=y(e,r);break;case"scalar":r=h(e,r);break;case"list":r=g(e,r);break;case"map":r=p(e,r)}(0,o.unsafeSet)(t,e,r)}}}(e,n,t),n}function h(e,t){return e.scalar==r.ScalarType.BYTES?m(t):t}function p(e,t){if((0,s.isObject)(t)){if(e.scalar==r.ScalarType.BYTES)return b(t,m);if("message"==e.mapKind)return b(t,(t=>y(e,t)))}return t}function g(e,t){if(Array.isArray(t)){if(e.scalar==r.ScalarType.BYTES)return t.map(m);if("message"==e.listKind)return t.map((t=>y(e,t)))}return t}function y(e,t){if("message"==e.fieldKind&&!e.oneof&&(0,c.isWrapperDesc)(e.message))return h(e.message.fields[0],t);if((0,s.isObject)(t)){if("google.protobuf.Struct"==e.message.typeName&&"google.protobuf.Value"!==e.parent.typeName)return t;if(!(0,i.isMessage)(t,e.message))return f(e.message,t)}return t}function m(e){return Array.isArray(e)?new Uint8Array(e):e}function b(e,t){const n={};for(const i of Object.entries(e))n[i[0]]=t(i[1]);return n}const v=Symbol(),I=new WeakMap;function E(e){if("oneof"==e.kind)return{case:void 0};if("list"==e.fieldKind)return[];if("map"==e.fieldKind)return{};if("message"==e.fieldKind)return v;const t=e.getDefaultValue();return void 0!==t?"scalar"==e.fieldKind&&e.longAsString?t.toString():t:"scalar"==e.fieldKind?(0,a.scalarZeroValue)(e.scalar,e.longAsString):e.enum.values[0].number}},2885:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ScalarType=void 0,function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"}(n||(t.ScalarType=n={}))},9201:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromBinary=function(e,t,n){const i=(0,a.reflect)(e,void 0,!1);return u(i,new s.BinaryReader(t),c(n),!1,t.byteLength),i.message},t.mergeFromBinary=function(e,t,n,i){return u((0,a.reflect)(e,t,!1),new s.BinaryReader(n),c(i),!1,n.byteLength),t},t.readField=l;const i=n(2885),r=n(2949),a=n(9644),s=n(3056),o={readUnknownFields:!0};function c(e){return e?Object.assign(Object.assign({},o),e):o}function u(e,t,n,i,r){var a;const o=i?t.len:t.pos+r;let c,u;const d=null!==(a=e.getUnknown())&&void 0!==a?a:[];for(;t.pos<o&&([c,u]=t.tag(),!i||u!=s.WireType.EndGroup);){const i=e.findNumber(c);if(i)l(e,t,i,u,n);else{const e=t.skip(u,c);n.readUnknownFields&&d.push({no:c,wireType:u,data:e})}}if(i&&(u!=s.WireType.EndGroup||c!==r))throw new Error("invalid end group tag");d.length>0&&e.setUnknown(d)}function l(e,t,n,o,c){switch(n.fieldKind){case"scalar":e.set(n,f(t,n.scalar));break;case"enum":e.set(n,f(t,i.ScalarType.INT32));break;case"message":e.set(n,d(t,c,n,e.get(n)));break;case"list":!function(e,t,n,r){var a;const o=n.field();if("message"===o.listKind)return void n.add(d(e,r,o));const c=null!==(a=o.scalar)&&void 0!==a?a:i.ScalarType.INT32;if(!(t==s.WireType.LengthDelimited&&c!=i.ScalarType.STRING&&c!=i.ScalarType.BYTES))return void n.add(f(e,c));const u=e.uint32()+e.pos;for(;e.pos<u;)n.add(f(e,c))}(t,o,e.get(n),c);break;case"map":!function(e,t,n){const i=t.field();let s,o;const c=e.pos+e.uint32();for(;e.pos<c;){const[t]=e.tag();switch(t){case 1:s=f(e,i.mapKey);break;case 2:switch(i.mapKind){case"scalar":o=f(e,i.scalar);break;case"enum":o=e.int32();break;case"message":o=d(e,n,i)}}}if(void 0===s&&(s=(0,r.scalarZeroValue)(i.mapKey,!1)),void 0===o)switch(i.mapKind){case"scalar":o=(0,r.scalarZeroValue)(i.scalar,!1);break;case"enum":o=i.enum.values[0].number;break;case"message":o=(0,a.reflect)(i.message,void 0,!1)}t.set(s,o)}(t,e.get(n),c)}}function d(e,t,n,i){const r=n.delimitedEncoding,s=null!=i?i:(0,a.reflect)(n.message,void 0,!1);return u(s,e,t,r,r?n.number:e.uint32()),s}function f(e,t){switch(t){case i.ScalarType.STRING:return e.string();case i.ScalarType.BOOL:return e.bool();case i.ScalarType.DOUBLE:return e.double();case i.ScalarType.FLOAT:return e.float();case i.ScalarType.INT32:return e.int32();case i.ScalarType.INT64:return e.int64();case i.ScalarType.UINT64:return e.uint64();case i.ScalarType.FIXED64:return e.fixed64();case i.ScalarType.BYTES:return e.bytes();case i.ScalarType.FIXED32:return e.fixed32();case i.ScalarType.SFIXED32:return e.sfixed32();case i.ScalarType.SFIXED64:return e.sfixed64();case i.ScalarType.SINT64:return e.sint64();case i.ScalarType.UINT32:return e.uint32();case i.ScalarType.SINT32:return e.sint32()}}},621:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMessage=function(e,t){return!(null===e||"object"!=typeof e||!("$typeName"in e)||"string"!=typeof e.$typeName)&&(void 0===t||t.typeName===e.$typeName)}},4011:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.protoInt64=void 0;const i=n(9119);function r(e){if(!/^-?[0-9]+$/.test(e))throw new Error("invalid int64: "+e)}function a(e){if(!/^[0-9]+$/.test(e))throw new Error("invalid uint64: "+e)}t.protoInt64=function(){const e=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&("object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){const t=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),i=BigInt("0"),r=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(e){const i="bigint"==typeof e?e:BigInt(e);if(i>n||i<t)throw new Error(`invalid int64: ${e}`);return i},uParse(e){const t="bigint"==typeof e?e:BigInt(e);if(t>r||t<i)throw new Error(`invalid uint64: ${e}`);return t},enc(t){return e.setBigInt64(0,this.parse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(t){return e.setBigInt64(0,this.uParse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigInt64(0,!0)),uDec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigUint64(0,!0))}}return{zero:"0",supported:!1,parse:e=>("string"!=typeof e&&(e=e.toString()),r(e),e),uParse:e=>("string"!=typeof e&&(e=e.toString()),a(e),e),enc:e=>("string"!=typeof e&&(e=e.toString()),r(e),(0,i.int64FromString)(e)),uEnc:e=>("string"!=typeof e&&(e=e.toString()),a(e),(0,i.int64FromString)(e)),dec:(e,t)=>(0,i.int64ToString)(e,t),uDec:(e,t)=>(0,i.uInt64ToString)(e,t)}}()},5067:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldError=void 0,t.isFieldError=function(e){return e instanceof Error&&n.includes(e.name)&&"field"in e&&"function"==typeof e.field};const n=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class i extends Error{constructor(e,t,n="FieldValueInvalidError"){super(t),this.name=n,this.field=()=>e}}t.FieldError=i},8792:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=r,t.isOneofADT=function(e){return null!==e&&"object"==typeof e&&"case"in e&&("string"==typeof e.case&&"value"in e&&null!=e.value||void 0===e.case&&(!("value"in e)||void 0===e.value))},t.isReflectList=function(e,t){var n,a,s,o;if(r(e)&&i.unsafeLocal in e&&"add"in e&&"field"in e&&"function"==typeof e.field){if(void 0!==t){const i=t,r=e.field();return i.listKind==r.listKind&&i.scalar===r.scalar&&(null===(n=i.message)||void 0===n?void 0:n.typeName)===(null===(a=r.message)||void 0===a?void 0:a.typeName)&&(null===(s=i.enum)||void 0===s?void 0:s.typeName)===(null===(o=r.enum)||void 0===o?void 0:o.typeName)}return!0}return!1},t.isReflectMap=function(e,t){var n,a,s,o;if(r(e)&&i.unsafeLocal in e&&"has"in e&&"field"in e&&"function"==typeof e.field){if(void 0!==t){const i=t,r=e.field();return i.mapKey===r.mapKey&&i.mapKind==r.mapKind&&i.scalar===r.scalar&&(null===(n=i.message)||void 0===n?void 0:n.typeName)===(null===(a=r.message)||void 0===a?void 0:a.typeName)&&(null===(s=i.enum)||void 0===s?void 0:s.typeName)===(null===(o=r.enum)||void 0===o?void 0:o.typeName)}return!0}return!1},t.isReflectMessage=function(e,t){return r(e)&&i.unsafeLocal in e&&"desc"in e&&r(e.desc)&&"message"===e.desc.kind&&(void 0===t||e.desc.typeName==t.typeName)};const i=n(7299);function r(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}},1841:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkField=function(e,t){const n="list"==e.fieldKind?(0,s.isReflectList)(t,e):"map"==e.fieldKind?(0,s.isReflectMap)(t,e):l(e,t);if(!0===n)return;let i;switch(e.fieldKind){case"list":i=`expected ${g(e)}, got ${h(t)}`;break;case"map":i=`expected ${y(e)}, got ${h(t)}`;break;default:i=f(e,t,n)}return new a.FieldError(e,i)},t.checkListItem=function(e,t,n){const i=l(e,n);if(!0!==i)return new a.FieldError(e,`list item #${t+1}: ${f(e,n,i)}`)},t.checkMapEntry=function(e,t,n){const i=d(t,e.mapKey);if(!0!==i)return new a.FieldError(e,`invalid map key: ${f({scalar:e.mapKey},t,i)}`);const r=l(e,n);return!0!==r?new a.FieldError(e,`map entry ${h(t)}: ${f(e,n,r)}`):void 0},t.formatVal=h;const i=n(2885),r=n(621),a=n(5067),s=n(8792),o=n(3056),c=n(898),u=n(4011);function l(e,t){return void 0!==e.scalar?d(t,e.scalar):void 0!==e.enum?e.enum.open?Number.isInteger(t):e.enum.values.some((e=>e.number===t)):(0,s.isReflectMessage)(t,e.message)}function d(e,t){switch(t){case i.ScalarType.DOUBLE:return"number"==typeof e;case i.ScalarType.FLOAT:return"number"==typeof e&&(!(!Number.isNaN(e)&&Number.isFinite(e))||!(e>o.FLOAT32_MAX||e<o.FLOAT32_MIN)||`${e.toFixed()} out of range`);case i.ScalarType.INT32:case i.ScalarType.SFIXED32:case i.ScalarType.SINT32:return!("number"!=typeof e||!Number.isInteger(e))&&(!(e>o.INT32_MAX||e<o.INT32_MIN)||`${e.toFixed()} out of range`);case i.ScalarType.FIXED32:case i.ScalarType.UINT32:return!("number"!=typeof e||!Number.isInteger(e))&&(!(e>o.UINT32_MAX||e<0)||`${e.toFixed()} out of range`);case i.ScalarType.BOOL:return"boolean"==typeof e;case i.ScalarType.STRING:return"string"==typeof e&&((0,c.getTextEncoding)().checkUtf8(e)||"invalid UTF8");case i.ScalarType.BYTES:return e instanceof Uint8Array;case i.ScalarType.INT64:case i.ScalarType.SFIXED64:case i.ScalarType.SINT64:if("string"!=typeof e&&"bigint"!=typeof e&&"number"!=typeof e)return!1;try{u.protoInt64.parse(e)}catch(t){return`${e} out of range`}return!0;case i.ScalarType.FIXED64:case i.ScalarType.UINT64:if("string"!=typeof e&&"bigint"!=typeof e&&"number"!=typeof e)return!1;try{u.protoInt64.uParse(e)}catch(t){return`${e} out of range`}return!0}}function f(e,t,n){return n="string"==typeof n?`: ${n}`:`, got ${h(t)}`,void 0!==e.scalar?`expected ${function(e){switch(e){case i.ScalarType.STRING:return"string";case i.ScalarType.BOOL:return"boolean";case i.ScalarType.INT64:case i.ScalarType.SINT64:case i.ScalarType.SFIXED64:return"bigint (int64)";case i.ScalarType.UINT64:case i.ScalarType.FIXED64:return"bigint (uint64)";case i.ScalarType.BYTES:return"Uint8Array";case i.ScalarType.DOUBLE:return"number (float64)";case i.ScalarType.FLOAT:return"number (float32)";case i.ScalarType.FIXED32:case i.ScalarType.UINT32:return"number (uint32)";case i.ScalarType.INT32:case i.ScalarType.SFIXED32:case i.ScalarType.SINT32:return"number (int32)"}}(e.scalar)}`+n:void 0!==e.enum?`expected ${e.enum.toString()}`+n:`expected ${p(e.message)}`+n}function h(e){switch(typeof e){case"object":return null===e?"null":e instanceof Uint8Array?`Uint8Array(${e.length})`:Array.isArray(e)?`Array(${e.length})`:(0,s.isReflectList)(e)?g(e.field()):(0,s.isReflectMap)(e)?y(e.field()):(0,s.isReflectMessage)(e)?p(e.desc):(0,r.isMessage)(e)?`message ${e.$typeName}`:"object";case"string":return e.length>30?"string":`"${e.split('"').join('\\"')}"`;case"boolean":case"number":return String(e);case"bigint":return String(e)+"n";default:return typeof e}}function p(e){return`ReflectMessage (${e.typeName})`}function g(e){switch(e.listKind){case"message":return`ReflectList (${e.message.toString()})`;case"enum":return`ReflectList (${e.enum.toString()})`;case"scalar":return`ReflectList (${i.ScalarType[e.scalar]})`}}function y(e){switch(e.mapKind){case"message":return`ReflectMap (${i.ScalarType[e.mapKey]}, ${e.message.toString()})`;case"enum":return`ReflectMap (${i.ScalarType[e.mapKey]}, ${e.enum.toString()})`;case"scalar":return`ReflectMap (${i.ScalarType[e.mapKey]}, ${i.ScalarType[e.scalar]})`}}},9644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reflect=function(e,t,n=!0){return new f(e,t,n)},t.reflectList=function(e,t,n=!0){return new p(e,null!=t?t:[],n)},t.reflectMap=function(e,t,n=!0){return new g(e,t,n)};const i=n(2885),r=n(1841),a=n(5067),s=n(7299),o=n(1583),c=n(2992),u=n(2949),l=n(4011),d=n(8792);class f{get sortedFields(){var e;return null!==(e=this._sortedFields)&&void 0!==e?e:this._sortedFields=this.desc.fields.concat().sort(((e,t)=>e.number-t.number))}constructor(e,t,n=!0){this.lists=new Map,this.maps=new Map,this.check=n,this.desc=e,this.message=this[s.unsafeLocal]=null!=t?t:(0,o.create)(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map((e=>[e.number,e])))),this._fieldsByNumber.get(e)}oneofCase(e){return h(this.message,e),(0,s.unsafeOneofCase)(this.message,e)}isSet(e){return h(this.message,e),(0,s.unsafeIsSet)(this.message,e)}clear(e){h(this.message,e),(0,s.unsafeClear)(this.message,e)}get(e){h(this.message,e);const t=(0,s.unsafeGet)(this.message,e);switch(e.fieldKind){case"list":let n=this.lists.get(e);return n&&n[s.unsafeLocal]===t||this.lists.set(e,n=new p(e,t,this.check)),n;case"map":let i=this.maps.get(e);return i&&i[s.unsafeLocal]===t||this.maps.set(e,i=new g(e,t,this.check)),i;case"message":return m(e,t,this.check);case"scalar":return void 0===t?(0,u.scalarZeroValue)(e.scalar,!1):T(e,t);case"enum":return null!=t?t:e.enum.values[0].number}}set(e,t){if(h(this.message,e),this.check){const n=(0,r.checkField)(e,t);if(n)throw n}let n;n="message"==e.fieldKind?y(e,t):(0,d.isReflectMap)(t)||(0,d.isReflectList)(t)?t[s.unsafeLocal]:N(e,t),(0,s.unsafeSet)(this.message,e,n)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}}function h(e,t){if(t.parent.typeName!==e.$typeName)throw new a.FieldError(t,`cannot use ${t.toString()} with message ${e.$typeName}`,"ForeignFieldError")}class p{field(){return this._field}get size(){return this._arr.length}constructor(e,t,n){this._field=e,this._arr=this[s.unsafeLocal]=t,this.check=n}get(e){const t=this._arr[e];return void 0===t?void 0:v(this._field,t,this.check)}set(e,t){if(e<0||e>=this._arr.length)throw new a.FieldError(this._field,`list item #${e+1}: out of range`);if(this.check){const n=(0,r.checkListItem)(this._field,e,t);if(n)throw n}this._arr[e]=b(this._field,t)}add(e){if(this.check){const t=(0,r.checkListItem)(this._field,this._arr.length,e);if(t)throw t}this._arr.push(b(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield v(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,v(this._field,this._arr[e],this.check)]}}class g{constructor(e,t,n=!0){this.obj=this[s.unsafeLocal]=null!=t?t:{},this.check=n,this._field=e}field(){return this._field}set(e,t){if(this.check){const n=(0,r.checkMapEntry)(this._field,e,t);if(n)throw n}return this.obj[E(e)]=function(e,t){return"message"==e.mapKind?y(e,t):N(e,t)}(this._field,t),this}delete(e){const t=E(e),n=Object.prototype.hasOwnProperty.call(this.obj,t);return n&&delete this.obj[t],n}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let t=this.obj[E(e)];return void 0!==t&&(t=I(this._field,t,this.check)),t}has(e){return Object.prototype.hasOwnProperty.call(this.obj,E(e))}*keys(){for(const e of Object.keys(this.obj))yield S(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[S(e[0],this._field.mapKey),I(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield I(this._field,e,this.check)}forEach(e,t){for(const n of this.entries())e.call(t,n[1],n[0],this)}}function y(e,t){return(0,d.isReflectMessage)(t)?(0,c.isWrapper)(t.message)&&!e.oneof&&"message"==e.fieldKind?t.message.value:"google.protobuf.Struct"==t.desc.typeName&&"google.protobuf.Value"!=e.parent.typeName?_(t.message):t.message:t}function m(e,t,n){return void 0!==t&&((0,c.isWrapperDesc)(e.message)&&!e.oneof&&"message"==e.fieldKind?t={$typeName:e.message.typeName,value:T(e.message.fields[0],t)}:"google.protobuf.Struct"==e.message.typeName&&"google.protobuf.Value"!=e.parent.typeName&&(0,d.isObject)(t)&&(t=k(t))),new f(e.message,t,n)}function b(e,t){return"message"==e.listKind?y(e,t):N(e,t)}function v(e,t,n){return"message"==e.listKind?m(e,t,n):T(e,t)}function I(e,t,n){return"message"==e.mapKind?m(e,t,n):t}function E(e){return"string"==typeof e||"number"==typeof e?e:String(e)}function S(e,t){switch(t){case i.ScalarType.STRING:return e;case i.ScalarType.INT32:case i.ScalarType.FIXED32:case i.ScalarType.UINT32:case i.ScalarType.SFIXED32:case i.ScalarType.SINT32:{const t=Number.parseInt(e);if(Number.isFinite(t))return t;break}case i.ScalarType.BOOL:switch(e){case"true":return!0;case"false":return!1}break;case i.ScalarType.UINT64:case i.ScalarType.FIXED64:try{return l.protoInt64.uParse(e)}catch(e){}break;default:try{return l.protoInt64.parse(e)}catch(e){}}return e}function T(e,t){switch(e.scalar){case i.ScalarType.INT64:case i.ScalarType.SFIXED64:case i.ScalarType.SINT64:"longAsString"in e&&e.longAsString&&"string"==typeof t&&(t=l.protoInt64.parse(t));break;case i.ScalarType.FIXED64:case i.ScalarType.UINT64:"longAsString"in e&&e.longAsString&&"string"==typeof t&&(t=l.protoInt64.uParse(t))}return t}function N(e,t){switch(e.scalar){case i.ScalarType.INT64:case i.ScalarType.SFIXED64:case i.ScalarType.SINT64:"longAsString"in e&&e.longAsString?t=String(t):"string"!=typeof t&&"number"!=typeof t||(t=l.protoInt64.parse(t));break;case i.ScalarType.FIXED64:case i.ScalarType.UINT64:"longAsString"in e&&e.longAsString?t=String(t):"string"!=typeof t&&"number"!=typeof t||(t=l.protoInt64.uParse(t))}return t}function k(e){const t={$typeName:"google.protobuf.Struct",fields:{}};if((0,d.isObject)(e))for(const[n,i]of Object.entries(e))t.fields[n]=O(i);return t}function _(e){const t={};for(const[n,i]of Object.entries(e.fields))t[n]=A(i);return t}function A(e){switch(e.kind.case){case"structValue":return _(e.kind.value);case"listValue":return e.kind.value.values.map(A);case"nullValue":case void 0:return null;default:return e.kind.value}}function O(e){const t={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof e){case"number":t.kind={case:"numberValue",value:e};break;case"string":t.kind={case:"stringValue",value:e};break;case"boolean":t.kind={case:"boolValue",value:e};break;case"object":if(null===e){const e=0;t.kind={case:"nullValue",value:e}}else if(Array.isArray(e)){const n={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(e))for(const t of e)n.values.push(O(t));t.kind={case:"listValue",value:n}}else t.kind={case:"structValue",value:k(e)}}return t}},2949:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scalarEquals=function(e,t,n){if(t===n)return!0;if(e==r.ScalarType.BYTES){if(!(t instanceof Uint8Array&&n instanceof Uint8Array))return!1;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}switch(e){case r.ScalarType.UINT64:case r.ScalarType.FIXED64:case r.ScalarType.INT64:case r.ScalarType.SFIXED64:case r.ScalarType.SINT64:return t==n}return!1},t.scalarZeroValue=function(e,t){switch(e){case r.ScalarType.STRING:return"";case r.ScalarType.BOOL:return!1;default:case r.ScalarType.DOUBLE:case r.ScalarType.FLOAT:return 0;case r.ScalarType.INT64:case r.ScalarType.UINT64:case r.ScalarType.SFIXED64:case r.ScalarType.FIXED64:case r.ScalarType.SINT64:return t?"0":i.protoInt64.zero;case r.ScalarType.BYTES:return new Uint8Array(0)}},t.isScalarZeroValue=function(e,t){switch(e){case r.ScalarType.BOOL:return!1===t;case r.ScalarType.STRING:return""===t;case r.ScalarType.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return 0==t}};const i=n(4011),r=n(2885)},7299:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsafeLocal=void 0,t.unsafeOneofCase=function(e,t){const n=e[t.localName].case;return void 0===n?n:t.fields.find((e=>e.localName===n))},t.unsafeIsSet=function(e,t){const n=t.localName;if(t.oneof)return e[t.oneof.localName].case===n;if(t.presence!=r)return void 0!==e[n]&&Object.prototype.hasOwnProperty.call(e,n);switch(t.fieldKind){case"list":return e[n].length>0;case"map":return Object.keys(e[n]).length>0;case"scalar":return!(0,i.isScalarZeroValue)(t.scalar,e[n]);case"enum":return e[n]!==t.enum.values[0].number}throw new Error("message field with implicit presence")},t.unsafeIsSetExplicit=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)&&void 0!==e[t]},t.unsafeGet=function(e,t){if(t.oneof){const n=e[t.oneof.localName];return n.case===t.localName?n.value:void 0}return e[t.localName]},t.unsafeSet=function(e,t,n){t.oneof?e[t.oneof.localName]={case:t.localName,value:n}:e[t.localName]=n},t.unsafeClear=function(e,t){const n=t.localName;if(t.oneof){const i=t.oneof.localName;e[i].case===n&&(e[i]={case:void 0})}else if(t.presence!=r)delete e[n];else switch(t.fieldKind){case"map":e[n]={};break;case"list":e[n]=[];break;case"enum":e[n]=t.enum.values[0].number;break;case"scalar":e[n]=(0,i.scalarZeroValue)(t.scalar,t.longAsString)}};const i=n(2949),r=2;t.unsafeLocal=Symbol.for("reflect unsafe local")},7110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBinary=function(e,t,n){return c(new r.BinaryWriter,function(e){return e?Object.assign(Object.assign({},o),e):o}(n),(0,i.reflect)(e,t)).finish()},t.writeField=u;const i=n(9644),r=n(3056),a=n(2885),s=3,o={writeUnknownFields:!0};function c(e,t,n){var i;for(const i of n.sortedFields)if(n.isSet(i))u(e,t,n,i);else if(i.presence==s)throw new Error(`cannot encode field ${n.desc.typeName}.${i.name} to binary: required field not set`);if(t.writeUnknownFields)for(const{no:t,wireType:r,data:a}of null!==(i=n.getUnknown())&&void 0!==i?i:[])e.tag(t,r).raw(a);return e}function u(e,t,n,i){var s;switch(i.fieldKind){case"scalar":case"enum":l(e,null!==(s=i.scalar)&&void 0!==s?s:a.ScalarType.INT32,i.number,n.get(i));break;case"list":!function(e,t,n,i){var s;if("message"==n.listKind){for(const r of i)d(e,t,n,r);return}const o=null!==(s=n.scalar)&&void 0!==s?s:a.ScalarType.INT32;if(n.packed){if(!i.size)return;e.tag(n.number,r.WireType.LengthDelimited).fork();for(const t of i)h(e,o,t);e.join()}else for(const t of i)l(e,o,n.number,t)}(e,t,i,n.get(i));break;case"message":d(e,t,i,n.get(i));break;case"map":for(const[r,a]of n.get(i))f(e,t,i,r,a)}}function l(e,t,n,i){h(e.tag(n,function(e){switch(e){case a.ScalarType.BYTES:case a.ScalarType.STRING:return r.WireType.LengthDelimited;case a.ScalarType.DOUBLE:case a.ScalarType.FIXED64:case a.ScalarType.SFIXED64:return r.WireType.Bit64;case a.ScalarType.FIXED32:case a.ScalarType.SFIXED32:case a.ScalarType.FLOAT:return r.WireType.Bit32;default:return r.WireType.Varint}}(t)),t,i)}function d(e,t,n,i){n.delimitedEncoding?c(e.tag(n.number,r.WireType.StartGroup),t,i).tag(n.number,r.WireType.EndGroup):c(e.tag(n.number,r.WireType.LengthDelimited).fork(),t,i).join()}function f(e,t,n,i,s){var o;switch(e.tag(n.number,r.WireType.LengthDelimited).fork(),l(e,n.mapKey,1,i),n.mapKind){case"scalar":case"enum":l(e,null!==(o=n.scalar)&&void 0!==o?o:a.ScalarType.INT32,2,s);break;case"message":c(e.tag(2,r.WireType.LengthDelimited).fork(),t,s).join()}e.join()}function h(e,t,n){switch(t){case a.ScalarType.STRING:e.string(n);break;case a.ScalarType.BOOL:e.bool(n);break;case a.ScalarType.DOUBLE:e.double(n);break;case a.ScalarType.FLOAT:e.float(n);break;case a.ScalarType.INT32:e.int32(n);break;case a.ScalarType.INT64:e.int64(n);break;case a.ScalarType.UINT64:e.uint64(n);break;case a.ScalarType.FIXED64:e.fixed64(n);break;case a.ScalarType.BYTES:e.bytes(n);break;case a.ScalarType.FIXED32:e.fixed32(n);break;case a.ScalarType.SFIXED32:e.sfixed32(n);break;case a.ScalarType.SFIXED64:e.sfixed64(n);break;case a.ScalarType.SINT64:e.sint64(n);break;case a.ScalarType.UINT32:e.uint32(n);break;case a.ScalarType.SINT32:e.sint32(n)}}},7662:(e,t)=>{"use strict";let n,i,r;function a(e){return n||(n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),i=n.slice(0,-2).concat("-","_")),"url"==e?i:n}Object.defineProperty(t,"__esModule",{value:!0}),t.base64Decode=function(e){const t=function(){if(!r){r=[];const e=a("std");for(let t=0;t<e.length;t++)r[e[t].charCodeAt(0)]=t;r["-".charCodeAt(0)]=e.indexOf("+"),r["_".charCodeAt(0)]=e.indexOf("/")}return r}();let n=3*e.length/4;"="==e[e.length-2]?n-=2:"="==e[e.length-1]&&(n-=1);let i,s=new Uint8Array(n),o=0,c=0,u=0;for(let n=0;n<e.length;n++){if(i=t[e.charCodeAt(n)],void 0===i)switch(e[n]){case"=":c=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string")}switch(c){case 0:u=i,c=1;break;case 1:s[o++]=u<<2|(48&i)>>4,u=i,c=2;break;case 2:s[o++]=(15&u)<<4|(60&i)>>2,u=i,c=3;break;case 3:s[o++]=(3&u)<<6|i,c=0}}if(1==c)throw Error("invalid base64 string");return s.subarray(0,o)},t.base64Encode=function(e,t="std"){const n=a(t),i="std"==t;let r,s="",o=0,c=0;for(let t=0;t<e.length;t++)switch(r=e[t],o){case 0:s+=n[r>>2],c=(3&r)<<4,o=1;break;case 1:s+=n[c|r>>4],c=(15&r)<<2,o=2;break;case 2:s+=n[c|r>>6],s+=n[63&r],o=0}return o&&(s+=n[c],i&&(s+="=",1==o&&(s+="="))),s}},3056:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryReader=t.BinaryWriter=t.INT32_MIN=t.INT32_MAX=t.UINT32_MAX=t.FLOAT32_MIN=t.FLOAT32_MAX=t.WireType=void 0;const i=n(9119),r=n(4011),a=n(898);var s;function o(e){if("string"==typeof e)e=Number(e);else if("number"!=typeof e)throw new Error("invalid int32: "+typeof e);if(!Number.isInteger(e)||e>t.INT32_MAX||e<t.INT32_MIN)throw new Error("invalid int32: "+e)}function c(e){if("string"==typeof e)e=Number(e);else if("number"!=typeof e)throw new Error("invalid uint32: "+typeof e);if(!Number.isInteger(e)||e>t.UINT32_MAX||e<0)throw new Error("invalid uint32: "+e)}!function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(s||(t.WireType=s={})),t.FLOAT32_MAX=34028234663852886e22,t.FLOAT32_MIN=-34028234663852886e22,t.UINT32_MAX=4294967295,t.INT32_MAX=2147483647,t.INT32_MIN=-2147483648,t.BinaryWriter=class{constructor(e=(0,a.getTextEncoding)().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),n=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],n),n+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(c(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return o(e),(0,i.varint32write)(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.encodeUtf8(e);return this.uint32(t.byteLength),this.raw(t)}float(e){!function(e){if("string"==typeof e){const t=e;if(e=Number(e),isNaN(e)&&"NaN"!==t)throw new Error("invalid float32: "+t)}else if("number"!=typeof e)throw new Error("invalid float32: "+typeof e);if(Number.isFinite(e)&&(e>t.FLOAT32_MAX||e<t.FLOAT32_MIN))throw new Error("invalid float32: "+e)}(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){c(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){o(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return o(e),e=(e<<1^e>>31)>>>0,(0,i.varint32write)(e,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=r.protoInt64.enc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=r.protoInt64.uEnc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}int64(e){let t=r.protoInt64.enc(e);return(0,i.varint64write)(t.lo,t.hi,this.buf),this}sint64(e){let t=r.protoInt64.enc(e),n=t.hi>>31,a=t.lo<<1^n,s=(t.hi<<1|t.lo>>>31)^n;return(0,i.varint64write)(a,s,this.buf),this}uint64(e){let t=r.protoInt64.uEnc(e);return(0,i.varint64write)(t.lo,t.hi,this.buf),this}},t.BinaryReader=class{constructor(e,t=(0,a.getTextEncoding)().decodeUtf8){this.decodeUtf8=t,this.varint64=i.varint64read,this.uint32=i.varint32read,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e,t){let n=this.pos;switch(e){case s.Varint:for(;128&this.buf[this.pos++];);break;case s.Bit64:this.pos+=4;case s.Bit32:this.pos+=4;break;case s.LengthDelimited:let n=this.uint32();this.pos+=n;break;case s.StartGroup:for(;;){const[e,n]=this.tag();if(n===s.EndGroup){if(void 0!==t&&e!==t)throw new Error("invalid end group tag");break}this.skip(n,e)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return r.protoInt64.dec(...this.varint64())}uint64(){return r.protoInt64.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,r.protoInt64.dec(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return r.protoInt64.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return r.protoInt64.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.decodeUtf8(this.bytes())}}},4489:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(3056),t),r(n(7662),t),r(n(898),t),r(n(9212),t),r(n(4966),t)},4966:function(e,t,n){"use strict";var i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){!function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}(i,r,(t=e[n](t)).done,t.value)}))}}},r=this&&this.__await||function(e){return this instanceof r?(this.v=e,this):new r(e)},a=this&&this.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,a=n.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return",(function(e){return function(t){return Promise.resolve(t).then(e,l)}})),i[Symbol.asyncIterator]=function(){return this},i;function o(e,t){a[e]&&(i[e]=function(t){return new Promise((function(n,i){s.push([e,t,n,i])>1||c(e,t)}))},t&&(i[e]=t(i[e])))}function c(e,t){try{(n=a[e](t)).value instanceof r?Promise.resolve(n.value.v).then(u,l):d(s[0][2],n)}catch(e){d(s[0][3],e)}var n}function u(e){c("next",e)}function l(e){c("throw",e)}function d(e,t){e(t),s.shift(),s.length&&c(s[0][0],s[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.sizeDelimitedEncode=function(e,t,n){const i=new o.BinaryWriter;return i.bytes((0,s.toBinary)(e,t,n)),i.finish()},t.sizeDelimitedDecodeStream=function(e,t,n){return a(this,arguments,(function*(){var a,s,o,l;function d(e,t){const n=new Uint8Array(e.byteLength+t.byteLength);return n.set(e),n.set(t,e.length),n}let f=new Uint8Array(0);try{for(var h,p=!0,g=i(t);!(a=(h=yield r(g.next())).done);p=!0)for(l=h.value,p=!1,f=d(f,l);;){const t=u(f);if(t.eof)break;if(t.offset+t.size>f.byteLength)break;yield yield r((0,c.fromBinary)(e,f.subarray(t.offset,t.offset+t.size),n)),f=f.subarray(t.offset+t.size)}}catch(e){s={error:e}}finally{try{p||a||!(o=g.return)||(yield r(o.call(g)))}finally{if(s)throw s.error}}if(f.byteLength>0)throw new Error("incomplete data")}))},t.sizeDelimitedPeek=u;const s=n(7110),o=n(3056),c=n(9201);function u(e){const t={eof:!0,size:null,offset:null};for(let n=0;n<10;n++){if(n>e.byteLength)return t;if(!(128&e[n])){const n=new o.BinaryReader(e);let i;try{i=n.uint32()}catch(e){if(e instanceof RangeError)return t;throw e}return{eof:!1,size:i,offset:n.pos}}}throw new Error("invalid varint")}},898:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configureTextEncoding=function(e){globalThis[n]=e},t.getTextEncoding=function(){if(null==globalThis[n]){const e=new globalThis.TextEncoder,t=new globalThis.TextDecoder;globalThis[n]={encodeUtf8:t=>e.encode(t),decodeUtf8:e=>t.decode(e),checkUtf8(e){try{return encodeURIComponent(e),!0}catch(e){return!1}}}}return globalThis[n]};const n=Symbol.for("@bufbuild/protobuf/text-encoding")},9212:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextFormatEnumValue=function(e,t){const n=e.values.find((e=>e.name===t));if(!n)throw new Error(`cannot parse ${e} default value: ${t}`);return n.number},t.parseTextFormatScalarValue=function(e,t){switch(e){case i.ScalarType.STRING:return t;case i.ScalarType.BYTES:{const n=function(e){const t=[],n={tail:e,c:"",next(){return 0!=this.tail.length&&(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(e){if(this.tail.length>=e){const t=this.tail.substring(0,e);return this.tail=this.tail.substring(e),t}return!1}};for(;n.next();)if("\\"===n.c){if(n.next())switch(n.c){case"\\":t.push(n.c.charCodeAt(0));break;case"b":t.push(8);break;case"f":t.push(12);break;case"n":t.push(10);break;case"r":t.push(13);break;case"t":t.push(9);break;case"v":t.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const e=n.c,i=n.take(2);if(!1===i)return!1;const r=parseInt(e+i,8);if(isNaN(r))return!1;t.push(r);break}case"x":{const e=n.c,i=n.take(2);if(!1===i)return!1;const r=parseInt(e+i,16);if(isNaN(r))return!1;t.push(r);break}case"u":{const e=n.c,i=n.take(4);if(!1===i)return!1;const r=parseInt(e+i,16);if(isNaN(r))return!1;const a=new Uint8Array(4);new DataView(a.buffer).setInt32(0,r,!0),t.push(a[0],a[1],a[2],a[3]);break}case"U":{const e=n.c,i=n.take(8);if(!1===i)return!1;const a=r.protoInt64.uEnc(e+i),s=new Uint8Array(8),o=new DataView(s.buffer);o.setInt32(0,a.lo,!0),o.setInt32(4,a.hi,!0),t.push(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7]);break}}}else t.push(n.c.charCodeAt(0));return new Uint8Array(t)}(t);if(!1===n)throw new Error(`cannot parse ${i.ScalarType[e]} default value: ${t}`);return n}case i.ScalarType.INT64:case i.ScalarType.SFIXED64:case i.ScalarType.SINT64:return r.protoInt64.parse(t);case i.ScalarType.UINT64:case i.ScalarType.FIXED64:return r.protoInt64.uParse(t);case i.ScalarType.DOUBLE:case i.ScalarType.FLOAT:switch(t){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(t)}case i.ScalarType.BOOL:return"true"===t;case i.ScalarType.INT32:case i.ScalarType.UINT32:case i.ScalarType.SINT32:case i.ScalarType.FIXED32:case i.ScalarType.SFIXED32:return parseInt(t,10)}};const i=n(2885),r=n(4011)},9119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.varint64read=function(){let e=0,t=0;for(let n=0;n<28;n+=7){let i=this.buf[this.pos++];if(e|=(127&i)<<n,!(128&i))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,!(128&n))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let i=this.buf[this.pos++];if(t|=(127&i)<<n,!(128&i))return this.assertBounds(),[e,t]}throw new Error("invalid varint")},t.varint64write=function(e,t,n){for(let i=0;i<28;i+=7){const r=e>>>i,a=!(r>>>7==0&&0==t),s=255&(a?128|r:r);if(n.push(s),!a)return}const i=e>>>28&15|(7&t)<<4,r=!!(t>>3);if(n.push(255&(r?128|i:i)),r){for(let e=3;e<31;e+=7){const i=t>>>e,r=!(i>>>7==0),a=255&(r?128|i:i);if(n.push(a),!r)return}n.push(t>>>31&1)}},t.int64FromString=function(e){const t="-"===e[0];t&&(e=e.slice(1));const i=1e6;let s=0,o=0;function c(t,r){const a=Number(e.slice(t,r));o*=i,s=s*i+a,s>=n&&(o+=s/n|0,s%=n)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),t?a(s,o):r(s,o)},t.int64ToString=function(e,t){let n=r(e,t);const s=2147483648&n.hi;s&&(n=a(n.lo,n.hi));const o=i(n.lo,n.hi);return s?"-"+o:o},t.uInt64ToString=i,t.varint32write=function(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}},t.varint32read=function(){let e=this.buf[this.pos++],t=127&e;if(!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,!(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let t=5;128&e&&t<10;t++)e=this.buf[this.pos++];if(128&e)throw new Error("invalid varint");return this.assertBounds(),t>>>0};const n=4294967296;function i(e,t){if(({lo:e,hi:t}=function(e,t){return{lo:e>>>0,hi:t>>>0}}(e,t)),t<=2097151)return String(n*t+e);const i=16777215&(e>>>24|t<<8),r=t>>16&65535;let a=(16777215&e)+6777216*i+6710656*r,o=i+8147497*r,c=2*r;const u=1e7;return a>=u&&(o+=Math.floor(a/u),a%=u),o>=u&&(c+=Math.floor(o/u),o%=u),c.toString()+s(o)+s(a)}function r(e,t){return{lo:0|e,hi:0|t}}function a(e,t){return t=~t,e?e=1+~e:t+=1,r(e,t)}const s=e=>{const t=String(e);return"0000000".slice(t.length)+t}},2992:(e,t)=>{"use strict";function n(e){return e.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(e.substring(16))}Object.defineProperty(t,"__esModule",{value:!0}),t.isWrapper=function(e){return n(e.$typeName)},t.isWrapperDesc=function(e){const t=e.fields[0];return n(e.typeName)&&void 0!==t&&"scalar"==t.fieldKind&&"value"==t.name&&1==t.number}},9431:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=f;const i=n(1509),r=n(6317),a=n(4493),s=n(6880),o=n(875),c=n(7544),u=999,l=998,d=2;function f(e,t){if((0,i.isMessage)(t,e))return t;const n=function(e){let t;if(function(e){switch(e.file.edition){case u:return!1;case l:return!0;default:return e.fields.some((e=>e.presence!=d&&"message"!=e.fieldKind&&!e.oneof))}}(e)){const n=I.get(e);let i,r;if(n)({prototype:i,members:r}=n);else{i={},r=new Set;for(const t of e.members)"oneof"!=t.kind&&("scalar"!=t.fieldKind&&"enum"!=t.fieldKind||t.presence!=d&&(r.add(t),i[t.localName]=E(t)));I.set(e,{prototype:i,members:r})}t=Object.create(i),t.$typeName=e.typeName;for(const n of e.members)if(!r.has(n)){if("field"==n.kind){if("message"==n.fieldKind)continue;if(("scalar"==n.fieldKind||"enum"==n.fieldKind)&&n.presence!=d)continue}t[n.localName]=E(n)}}else{t={$typeName:e.typeName};for(const n of e.members)"oneof"!=n.kind&&n.presence!=d||(t[n.localName]=E(n))}return t}(e);return void 0!==t&&function(e,t,n){for(const i of e.members){let e,r=n[i.localName];if(null!=r){if("oneof"==i.kind){const t=(0,o.unsafeOneofCase)(n,i);if(!t)continue;e=t,r=(0,o.unsafeGet)(n,t)}else e=i;switch(e.fieldKind){case"message":r=y(e,r);break;case"scalar":r=h(e,r);break;case"list":r=g(e,r);break;case"map":r=p(e,r)}(0,o.unsafeSet)(t,e,r)}}}(e,n,t),n}function h(e,t){return e.scalar==r.ScalarType.BYTES?m(t):t}function p(e,t){if((0,s.isObject)(t)){if(e.scalar==r.ScalarType.BYTES)return b(t,m);if("message"==e.mapKind)return b(t,(t=>y(e,t)))}return t}function g(e,t){if(Array.isArray(t)){if(e.scalar==r.ScalarType.BYTES)return t.map(m);if("message"==e.listKind)return t.map((t=>y(e,t)))}return t}function y(e,t){if("message"==e.fieldKind&&!e.oneof&&(0,c.isWrapperDesc)(e.message))return h(e.message.fields[0],t);if((0,s.isObject)(t)){if("google.protobuf.Struct"==e.message.typeName&&"google.protobuf.Value"!==e.parent.typeName)return t;if(!(0,i.isMessage)(t,e.message))return f(e.message,t)}return t}function m(e){return Array.isArray(e)?new Uint8Array(e):e}function b(e,t){const n={};for(const i of Object.entries(e))n[i[0]]=t(i[1]);return n}const v=Symbol(),I=new WeakMap;function E(e){if("oneof"==e.kind)return{case:void 0};if("list"==e.fieldKind)return[];if("map"==e.fieldKind)return{};if("message"==e.fieldKind)return v;const t=e.getDefaultValue();return void 0!==t?"scalar"==e.fieldKind&&e.longAsString?t.toString():t:"scalar"==e.fieldKind?(0,a.scalarZeroValue)(e.scalar,e.longAsString):e.enum.values[0].number}},6317:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ScalarType=void 0,function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"}(n||(t.ScalarType=n={}))},5529:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromBinary=function(e,t,n){const i=(0,a.reflect)(e,void 0,!1);return u(i,new s.BinaryReader(t),c(n),!1,t.byteLength),i.message},t.mergeFromBinary=function(e,t,n,i){return u((0,a.reflect)(e,t,!1),new s.BinaryReader(n),c(i),!1,n.byteLength),t},t.readField=l;const i=n(6317),r=n(4493),a=n(2276),s=n(8200),o={readUnknownFields:!0};function c(e){return e?Object.assign(Object.assign({},o),e):o}function u(e,t,n,i,r){var a;const o=i?t.len:t.pos+r;let c,u;const d=null!==(a=e.getUnknown())&&void 0!==a?a:[];for(;t.pos<o&&([c,u]=t.tag(),!i||u!=s.WireType.EndGroup);){const i=e.findNumber(c);if(i)l(e,t,i,u,n);else{const e=t.skip(u,c);n.readUnknownFields&&d.push({no:c,wireType:u,data:e})}}if(i&&(u!=s.WireType.EndGroup||c!==r))throw new Error("invalid end group tag");d.length>0&&e.setUnknown(d)}function l(e,t,n,o,c){switch(n.fieldKind){case"scalar":e.set(n,f(t,n.scalar));break;case"enum":e.set(n,f(t,i.ScalarType.INT32));break;case"message":e.set(n,d(t,c,n,e.get(n)));break;case"list":!function(e,t,n,r){var a;const o=n.field();if("message"===o.listKind)return void n.add(d(e,r,o));const c=null!==(a=o.scalar)&&void 0!==a?a:i.ScalarType.INT32;if(!(t==s.WireType.LengthDelimited&&c!=i.ScalarType.STRING&&c!=i.ScalarType.BYTES))return void n.add(f(e,c));const u=e.uint32()+e.pos;for(;e.pos<u;)n.add(f(e,c))}(t,o,e.get(n),c);break;case"map":!function(e,t,n){const i=t.field();let s,o;const c=e.pos+e.uint32();for(;e.pos<c;){const[t]=e.tag();switch(t){case 1:s=f(e,i.mapKey);break;case 2:switch(i.mapKind){case"scalar":o=f(e,i.scalar);break;case"enum":o=e.int32();break;case"message":o=d(e,n,i)}}}if(void 0===s&&(s=(0,r.scalarZeroValue)(i.mapKey,!1)),void 0===o)switch(i.mapKind){case"scalar":o=(0,r.scalarZeroValue)(i.scalar,!1);break;case"enum":o=i.enum.values[0].number;break;case"message":o=(0,a.reflect)(i.message,void 0,!1)}t.set(s,o)}(t,e.get(n),c)}}function d(e,t,n,i){const r=n.delimitedEncoding,s=null!=i?i:(0,a.reflect)(n.message,void 0,!1);return u(s,e,t,r,r?n.number:e.uint32()),s}function f(e,t){switch(t){case i.ScalarType.STRING:return e.string();case i.ScalarType.BOOL:return e.bool();case i.ScalarType.DOUBLE:return e.double();case i.ScalarType.FLOAT:return e.float();case i.ScalarType.INT32:return e.int32();case i.ScalarType.INT64:return e.int64();case i.ScalarType.UINT64:return e.uint64();case i.ScalarType.FIXED64:return e.fixed64();case i.ScalarType.BYTES:return e.bytes();case i.ScalarType.FIXED32:return e.fixed32();case i.ScalarType.SFIXED32:return e.sfixed32();case i.ScalarType.SFIXED64:return e.sfixed64();case i.ScalarType.SINT64:return e.sint64();case i.ScalarType.UINT32:return e.uint32();case i.ScalarType.SINT32:return e.sint32()}}},1509:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMessage=function(e,t){return!(null===e||"object"!=typeof e||!("$typeName"in e)||"string"!=typeof e.$typeName)&&(void 0===t||t.typeName===e.$typeName)}},7907:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.protoInt64=void 0;const i=n(327);function r(e){if(!/^-?[0-9]+$/.test(e))throw new Error("invalid int64: "+e)}function a(e){if(!/^[0-9]+$/.test(e))throw new Error("invalid uint64: "+e)}t.protoInt64=function(){const e=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&("object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){const t=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),i=BigInt("0"),r=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(e){const i="bigint"==typeof e?e:BigInt(e);if(i>n||i<t)throw new Error(`invalid int64: ${e}`);return i},uParse(e){const t="bigint"==typeof e?e:BigInt(e);if(t>r||t<i)throw new Error(`invalid uint64: ${e}`);return t},enc(t){return e.setBigInt64(0,this.parse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(t){return e.setBigInt64(0,this.uParse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigInt64(0,!0)),uDec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigUint64(0,!0))}}return{zero:"0",supported:!1,parse:e=>("string"!=typeof e&&(e=e.toString()),r(e),e),uParse:e=>("string"!=typeof e&&(e=e.toString()),a(e),e),enc:e=>("string"!=typeof e&&(e=e.toString()),r(e),(0,i.int64FromString)(e)),uEnc:e=>("string"!=typeof e&&(e=e.toString()),a(e),(0,i.int64FromString)(e)),dec:(e,t)=>(0,i.int64ToString)(e,t),uDec:(e,t)=>(0,i.uInt64ToString)(e,t)}}()},259:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldError=void 0,t.isFieldError=function(e){return e instanceof Error&&n.includes(e.name)&&"field"in e&&"function"==typeof e.field};const n=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class i extends Error{constructor(e,t,n="FieldValueInvalidError"){super(t),this.name=n,this.field=()=>e}}t.FieldError=i},6880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=r,t.isOneofADT=function(e){return null!==e&&"object"==typeof e&&"case"in e&&("string"==typeof e.case&&"value"in e&&null!=e.value||void 0===e.case&&(!("value"in e)||void 0===e.value))},t.isReflectList=function(e,t){var n,a,s,o;if(r(e)&&i.unsafeLocal in e&&"add"in e&&"field"in e&&"function"==typeof e.field){if(void 0!==t){const i=t,r=e.field();return i.listKind==r.listKind&&i.scalar===r.scalar&&(null===(n=i.message)||void 0===n?void 0:n.typeName)===(null===(a=r.message)||void 0===a?void 0:a.typeName)&&(null===(s=i.enum)||void 0===s?void 0:s.typeName)===(null===(o=r.enum)||void 0===o?void 0:o.typeName)}return!0}return!1},t.isReflectMap=function(e,t){var n,a,s,o;if(r(e)&&i.unsafeLocal in e&&"has"in e&&"field"in e&&"function"==typeof e.field){if(void 0!==t){const i=t,r=e.field();return i.mapKey===r.mapKey&&i.mapKind==r.mapKind&&i.scalar===r.scalar&&(null===(n=i.message)||void 0===n?void 0:n.typeName)===(null===(a=r.message)||void 0===a?void 0:a.typeName)&&(null===(s=i.enum)||void 0===s?void 0:s.typeName)===(null===(o=r.enum)||void 0===o?void 0:o.typeName)}return!0}return!1},t.isReflectMessage=function(e,t){return r(e)&&i.unsafeLocal in e&&"desc"in e&&r(e.desc)&&"message"===e.desc.kind&&(void 0===t||e.desc.typeName==t.typeName)};const i=n(875);function r(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}},521:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkField=function(e,t){const n="list"==e.fieldKind?(0,s.isReflectList)(t,e):"map"==e.fieldKind?(0,s.isReflectMap)(t,e):l(e,t);if(!0===n)return;let i;switch(e.fieldKind){case"list":i=`expected ${g(e)}, got ${h(t)}`;break;case"map":i=`expected ${y(e)}, got ${h(t)}`;break;default:i=f(e,t,n)}return new a.FieldError(e,i)},t.checkListItem=function(e,t,n){const i=l(e,n);if(!0!==i)return new a.FieldError(e,`list item #${t+1}: ${f(e,n,i)}`)},t.checkMapEntry=function(e,t,n){const i=d(t,e.mapKey);if(!0!==i)return new a.FieldError(e,`invalid map key: ${f({scalar:e.mapKey},t,i)}`);const r=l(e,n);return!0!==r?new a.FieldError(e,`map entry ${h(t)}: ${f(e,n,r)}`):void 0},t.formatVal=h;const i=n(6317),r=n(1509),a=n(259),s=n(6880),o=n(8200),c=n(4938),u=n(7907);function l(e,t){return void 0!==e.scalar?d(t,e.scalar):void 0!==e.enum?e.enum.open?Number.isInteger(t):e.enum.values.some((e=>e.number===t)):(0,s.isReflectMessage)(t,e.message)}function d(e,t){switch(t){case i.ScalarType.DOUBLE:return"number"==typeof e;case i.ScalarType.FLOAT:return"number"==typeof e&&(!(!Number.isNaN(e)&&Number.isFinite(e))||!(e>o.FLOAT32_MAX||e<o.FLOAT32_MIN)||`${e.toFixed()} out of range`);case i.ScalarType.INT32:case i.ScalarType.SFIXED32:case i.ScalarType.SINT32:return!("number"!=typeof e||!Number.isInteger(e))&&(!(e>o.INT32_MAX||e<o.INT32_MIN)||`${e.toFixed()} out of range`);case i.ScalarType.FIXED32:case i.ScalarType.UINT32:return!("number"!=typeof e||!Number.isInteger(e))&&(!(e>o.UINT32_MAX||e<0)||`${e.toFixed()} out of range`);case i.ScalarType.BOOL:return"boolean"==typeof e;case i.ScalarType.STRING:return"string"==typeof e&&((0,c.getTextEncoding)().checkUtf8(e)||"invalid UTF8");case i.ScalarType.BYTES:return e instanceof Uint8Array;case i.ScalarType.INT64:case i.ScalarType.SFIXED64:case i.ScalarType.SINT64:if("string"!=typeof e&&"bigint"!=typeof e&&"number"!=typeof e)return!1;try{u.protoInt64.parse(e)}catch(t){return`${e} out of range`}return!0;case i.ScalarType.FIXED64:case i.ScalarType.UINT64:if("string"!=typeof e&&"bigint"!=typeof e&&"number"!=typeof e)return!1;try{u.protoInt64.uParse(e)}catch(t){return`${e} out of range`}return!0}}function f(e,t,n){return n="string"==typeof n?`: ${n}`:`, got ${h(t)}`,void 0!==e.scalar?`expected ${function(e){switch(e){case i.ScalarType.STRING:return"string";case i.ScalarType.BOOL:return"boolean";case i.ScalarType.INT64:case i.ScalarType.SINT64:case i.ScalarType.SFIXED64:return"bigint (int64)";case i.ScalarType.UINT64:case i.ScalarType.FIXED64:return"bigint (uint64)";case i.ScalarType.BYTES:return"Uint8Array";case i.ScalarType.DOUBLE:return"number (float64)";case i.ScalarType.FLOAT:return"number (float32)";case i.ScalarType.FIXED32:case i.ScalarType.UINT32:return"number (uint32)";case i.ScalarType.INT32:case i.ScalarType.SFIXED32:case i.ScalarType.SINT32:return"number (int32)"}}(e.scalar)}`+n:void 0!==e.enum?`expected ${e.enum.toString()}`+n:`expected ${p(e.message)}`+n}function h(e){switch(typeof e){case"object":return null===e?"null":e instanceof Uint8Array?`Uint8Array(${e.length})`:Array.isArray(e)?`Array(${e.length})`:(0,s.isReflectList)(e)?g(e.field()):(0,s.isReflectMap)(e)?y(e.field()):(0,s.isReflectMessage)(e)?p(e.desc):(0,r.isMessage)(e)?`message ${e.$typeName}`:"object";case"string":return e.length>30?"string":`"${e.split('"').join('\\"')}"`;case"boolean":case"number":return String(e);case"bigint":return String(e)+"n";default:return typeof e}}function p(e){return`ReflectMessage (${e.typeName})`}function g(e){switch(e.listKind){case"message":return`ReflectList (${e.message.toString()})`;case"enum":return`ReflectList (${e.enum.toString()})`;case"scalar":return`ReflectList (${i.ScalarType[e.scalar]})`}}function y(e){switch(e.mapKind){case"message":return`ReflectMap (${i.ScalarType[e.mapKey]}, ${e.message.toString()})`;case"enum":return`ReflectMap (${i.ScalarType[e.mapKey]}, ${e.enum.toString()})`;case"scalar":return`ReflectMap (${i.ScalarType[e.mapKey]}, ${i.ScalarType[e.scalar]})`}}},2276:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reflect=function(e,t,n=!0){return new f(e,t,n)},t.reflectList=function(e,t,n=!0){return new p(e,null!=t?t:[],n)},t.reflectMap=function(e,t,n=!0){return new g(e,t,n)};const i=n(6317),r=n(521),a=n(259),s=n(875),o=n(9431),c=n(7544),u=n(4493),l=n(7907),d=n(6880);class f{get sortedFields(){var e;return null!==(e=this._sortedFields)&&void 0!==e?e:this._sortedFields=this.desc.fields.concat().sort(((e,t)=>e.number-t.number))}constructor(e,t,n=!0){this.lists=new Map,this.maps=new Map,this.check=n,this.desc=e,this.message=this[s.unsafeLocal]=null!=t?t:(0,o.create)(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map((e=>[e.number,e])))),this._fieldsByNumber.get(e)}oneofCase(e){return h(this.message,e),(0,s.unsafeOneofCase)(this.message,e)}isSet(e){return h(this.message,e),(0,s.unsafeIsSet)(this.message,e)}clear(e){h(this.message,e),(0,s.unsafeClear)(this.message,e)}get(e){h(this.message,e);const t=(0,s.unsafeGet)(this.message,e);switch(e.fieldKind){case"list":let n=this.lists.get(e);return n&&n[s.unsafeLocal]===t||this.lists.set(e,n=new p(e,t,this.check)),n;case"map":let i=this.maps.get(e);return i&&i[s.unsafeLocal]===t||this.maps.set(e,i=new g(e,t,this.check)),i;case"message":return m(e,t,this.check);case"scalar":return void 0===t?(0,u.scalarZeroValue)(e.scalar,!1):T(e,t);case"enum":return null!=t?t:e.enum.values[0].number}}set(e,t){if(h(this.message,e),this.check){const n=(0,r.checkField)(e,t);if(n)throw n}let n;n="message"==e.fieldKind?y(e,t):(0,d.isReflectMap)(t)||(0,d.isReflectList)(t)?t[s.unsafeLocal]:N(e,t),(0,s.unsafeSet)(this.message,e,n)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}}function h(e,t){if(t.parent.typeName!==e.$typeName)throw new a.FieldError(t,`cannot use ${t.toString()} with message ${e.$typeName}`,"ForeignFieldError")}class p{field(){return this._field}get size(){return this._arr.length}constructor(e,t,n){this._field=e,this._arr=this[s.unsafeLocal]=t,this.check=n}get(e){const t=this._arr[e];return void 0===t?void 0:v(this._field,t,this.check)}set(e,t){if(e<0||e>=this._arr.length)throw new a.FieldError(this._field,`list item #${e+1}: out of range`);if(this.check){const n=(0,r.checkListItem)(this._field,e,t);if(n)throw n}this._arr[e]=b(this._field,t)}add(e){if(this.check){const t=(0,r.checkListItem)(this._field,this._arr.length,e);if(t)throw t}this._arr.push(b(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield v(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,v(this._field,this._arr[e],this.check)]}}class g{constructor(e,t,n=!0){this.obj=this[s.unsafeLocal]=null!=t?t:{},this.check=n,this._field=e}field(){return this._field}set(e,t){if(this.check){const n=(0,r.checkMapEntry)(this._field,e,t);if(n)throw n}return this.obj[E(e)]=function(e,t){return"message"==e.mapKind?y(e,t):N(e,t)}(this._field,t),this}delete(e){const t=E(e),n=Object.prototype.hasOwnProperty.call(this.obj,t);return n&&delete this.obj[t],n}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let t=this.obj[E(e)];return void 0!==t&&(t=I(this._field,t,this.check)),t}has(e){return Object.prototype.hasOwnProperty.call(this.obj,E(e))}*keys(){for(const e of Object.keys(this.obj))yield S(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[S(e[0],this._field.mapKey),I(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield I(this._field,e,this.check)}forEach(e,t){for(const n of this.entries())e.call(t,n[1],n[0],this)}}function y(e,t){return(0,d.isReflectMessage)(t)?(0,c.isWrapper)(t.message)&&!e.oneof&&"message"==e.fieldKind?t.message.value:"google.protobuf.Struct"==t.desc.typeName&&"google.protobuf.Value"!=e.parent.typeName?_(t.message):t.message:t}function m(e,t,n){return void 0!==t&&((0,c.isWrapperDesc)(e.message)&&!e.oneof&&"message"==e.fieldKind?t={$typeName:e.message.typeName,value:T(e.message.fields[0],t)}:"google.protobuf.Struct"==e.message.typeName&&"google.protobuf.Value"!=e.parent.typeName&&(0,d.isObject)(t)&&(t=k(t))),new f(e.message,t,n)}function b(e,t){return"message"==e.listKind?y(e,t):N(e,t)}function v(e,t,n){return"message"==e.listKind?m(e,t,n):T(e,t)}function I(e,t,n){return"message"==e.mapKind?m(e,t,n):t}function E(e){return"string"==typeof e||"number"==typeof e?e:String(e)}function S(e,t){switch(t){case i.ScalarType.STRING:return e;case i.ScalarType.INT32:case i.ScalarType.FIXED32:case i.ScalarType.UINT32:case i.ScalarType.SFIXED32:case i.ScalarType.SINT32:{const t=Number.parseInt(e);if(Number.isFinite(t))return t;break}case i.ScalarType.BOOL:switch(e){case"true":return!0;case"false":return!1}break;case i.ScalarType.UINT64:case i.ScalarType.FIXED64:try{return l.protoInt64.uParse(e)}catch(e){}break;default:try{return l.protoInt64.parse(e)}catch(e){}}return e}function T(e,t){switch(e.scalar){case i.ScalarType.INT64:case i.ScalarType.SFIXED64:case i.ScalarType.SINT64:"longAsString"in e&&e.longAsString&&"string"==typeof t&&(t=l.protoInt64.parse(t));break;case i.ScalarType.FIXED64:case i.ScalarType.UINT64:"longAsString"in e&&e.longAsString&&"string"==typeof t&&(t=l.protoInt64.uParse(t))}return t}function N(e,t){switch(e.scalar){case i.ScalarType.INT64:case i.ScalarType.SFIXED64:case i.ScalarType.SINT64:"longAsString"in e&&e.longAsString?t=String(t):"string"!=typeof t&&"number"!=typeof t||(t=l.protoInt64.parse(t));break;case i.ScalarType.FIXED64:case i.ScalarType.UINT64:"longAsString"in e&&e.longAsString?t=String(t):"string"!=typeof t&&"number"!=typeof t||(t=l.protoInt64.uParse(t))}return t}function k(e){const t={$typeName:"google.protobuf.Struct",fields:{}};if((0,d.isObject)(e))for(const[n,i]of Object.entries(e))t.fields[n]=O(i);return t}function _(e){const t={};for(const[n,i]of Object.entries(e.fields))t[n]=A(i);return t}function A(e){switch(e.kind.case){case"structValue":return _(e.kind.value);case"listValue":return e.kind.value.values.map(A);case"nullValue":case void 0:return null;default:return e.kind.value}}function O(e){const t={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof e){case"number":t.kind={case:"numberValue",value:e};break;case"string":t.kind={case:"stringValue",value:e};break;case"boolean":t.kind={case:"boolValue",value:e};break;case"object":if(null===e){const e=0;t.kind={case:"nullValue",value:e}}else if(Array.isArray(e)){const n={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(e))for(const t of e)n.values.push(O(t));t.kind={case:"listValue",value:n}}else t.kind={case:"structValue",value:k(e)}}return t}},4493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scalarEquals=function(e,t,n){if(t===n)return!0;if(e==r.ScalarType.BYTES){if(!(t instanceof Uint8Array&&n instanceof Uint8Array))return!1;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}switch(e){case r.ScalarType.UINT64:case r.ScalarType.FIXED64:case r.ScalarType.INT64:case r.ScalarType.SFIXED64:case r.ScalarType.SINT64:return t==n}return!1},t.scalarZeroValue=function(e,t){switch(e){case r.ScalarType.STRING:return"";case r.ScalarType.BOOL:return!1;default:case r.ScalarType.DOUBLE:case r.ScalarType.FLOAT:return 0;case r.ScalarType.INT64:case r.ScalarType.UINT64:case r.ScalarType.SFIXED64:case r.ScalarType.FIXED64:case r.ScalarType.SINT64:return t?"0":i.protoInt64.zero;case r.ScalarType.BYTES:return new Uint8Array(0)}},t.isScalarZeroValue=function(e,t){switch(e){case r.ScalarType.BOOL:return!1===t;case r.ScalarType.STRING:return""===t;case r.ScalarType.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return 0==t}};const i=n(7907),r=n(6317)},875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsafeLocal=void 0,t.unsafeOneofCase=function(e,t){const n=e[t.localName].case;return void 0===n?n:t.fields.find((e=>e.localName===n))},t.unsafeIsSet=function(e,t){const n=t.localName;if(t.oneof)return e[t.oneof.localName].case===n;if(t.presence!=r)return void 0!==e[n]&&Object.prototype.hasOwnProperty.call(e,n);switch(t.fieldKind){case"list":return e[n].length>0;case"map":return Object.keys(e[n]).length>0;case"scalar":return!(0,i.isScalarZeroValue)(t.scalar,e[n]);case"enum":return e[n]!==t.enum.values[0].number}throw new Error("message field with implicit presence")},t.unsafeIsSetExplicit=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)&&void 0!==e[t]},t.unsafeGet=function(e,t){if(t.oneof){const n=e[t.oneof.localName];return n.case===t.localName?n.value:void 0}return e[t.localName]},t.unsafeSet=function(e,t,n){t.oneof?e[t.oneof.localName]={case:t.localName,value:n}:e[t.localName]=n},t.unsafeClear=function(e,t){const n=t.localName;if(t.oneof){const i=t.oneof.localName;e[i].case===n&&(e[i]={case:void 0})}else if(t.presence!=r)delete e[n];else switch(t.fieldKind){case"map":e[n]={};break;case"list":e[n]=[];break;case"enum":e[n]=t.enum.values[0].number;break;case"scalar":e[n]=(0,i.scalarZeroValue)(t.scalar,t.longAsString)}};const i=n(4493),r=2;t.unsafeLocal=Symbol.for("reflect unsafe local")},4110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBinary=function(e,t,n){return c(new r.BinaryWriter,function(e){return e?Object.assign(Object.assign({},o),e):o}(n),(0,i.reflect)(e,t)).finish()},t.writeField=u;const i=n(2276),r=n(8200),a=n(6317),s=3,o={writeUnknownFields:!0};function c(e,t,n){var i;for(const i of n.sortedFields)if(n.isSet(i))u(e,t,n,i);else if(i.presence==s)throw new Error(`cannot encode field ${n.desc.typeName}.${i.name} to binary: required field not set`);if(t.writeUnknownFields)for(const{no:t,wireType:r,data:a}of null!==(i=n.getUnknown())&&void 0!==i?i:[])e.tag(t,r).raw(a);return e}function u(e,t,n,i){var s;switch(i.fieldKind){case"scalar":case"enum":l(e,null!==(s=i.scalar)&&void 0!==s?s:a.ScalarType.INT32,i.number,n.get(i));break;case"list":!function(e,t,n,i){var s;if("message"==n.listKind){for(const r of i)d(e,t,n,r);return}const o=null!==(s=n.scalar)&&void 0!==s?s:a.ScalarType.INT32;if(n.packed){if(!i.size)return;e.tag(n.number,r.WireType.LengthDelimited).fork();for(const t of i)h(e,o,t);e.join()}else for(const t of i)l(e,o,n.number,t)}(e,t,i,n.get(i));break;case"message":d(e,t,i,n.get(i));break;case"map":for(const[r,a]of n.get(i))f(e,t,i,r,a)}}function l(e,t,n,i){h(e.tag(n,function(e){switch(e){case a.ScalarType.BYTES:case a.ScalarType.STRING:return r.WireType.LengthDelimited;case a.ScalarType.DOUBLE:case a.ScalarType.FIXED64:case a.ScalarType.SFIXED64:return r.WireType.Bit64;case a.ScalarType.FIXED32:case a.ScalarType.SFIXED32:case a.ScalarType.FLOAT:return r.WireType.Bit32;default:return r.WireType.Varint}}(t)),t,i)}function d(e,t,n,i){n.delimitedEncoding?c(e.tag(n.number,r.WireType.StartGroup),t,i).tag(n.number,r.WireType.EndGroup):c(e.tag(n.number,r.WireType.LengthDelimited).fork(),t,i).join()}function f(e,t,n,i,s){var o;switch(e.tag(n.number,r.WireType.LengthDelimited).fork(),l(e,n.mapKey,1,i),n.mapKind){case"scalar":case"enum":l(e,null!==(o=n.scalar)&&void 0!==o?o:a.ScalarType.INT32,2,s);break;case"message":c(e.tag(2,r.WireType.LengthDelimited).fork(),t,s).join()}e.join()}function h(e,t,n){switch(t){case a.ScalarType.STRING:e.string(n);break;case a.ScalarType.BOOL:e.bool(n);break;case a.ScalarType.DOUBLE:e.double(n);break;case a.ScalarType.FLOAT:e.float(n);break;case a.ScalarType.INT32:e.int32(n);break;case a.ScalarType.INT64:e.int64(n);break;case a.ScalarType.UINT64:e.uint64(n);break;case a.ScalarType.FIXED64:e.fixed64(n);break;case a.ScalarType.BYTES:e.bytes(n);break;case a.ScalarType.FIXED32:e.fixed32(n);break;case a.ScalarType.SFIXED32:e.sfixed32(n);break;case a.ScalarType.SFIXED64:e.sfixed64(n);break;case a.ScalarType.SINT64:e.sint64(n);break;case a.ScalarType.UINT32:e.uint32(n);break;case a.ScalarType.SINT32:e.sint32(n)}}},3766:(e,t)=>{"use strict";let n,i,r;function a(e){return n||(n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),i=n.slice(0,-2).concat("-","_")),"url"==e?i:n}Object.defineProperty(t,"__esModule",{value:!0}),t.base64Decode=function(e){const t=function(){if(!r){r=[];const e=a("std");for(let t=0;t<e.length;t++)r[e[t].charCodeAt(0)]=t;r["-".charCodeAt(0)]=e.indexOf("+"),r["_".charCodeAt(0)]=e.indexOf("/")}return r}();let n=3*e.length/4;"="==e[e.length-2]?n-=2:"="==e[e.length-1]&&(n-=1);let i,s=new Uint8Array(n),o=0,c=0,u=0;for(let n=0;n<e.length;n++){if(i=t[e.charCodeAt(n)],void 0===i)switch(e[n]){case"=":c=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string")}switch(c){case 0:u=i,c=1;break;case 1:s[o++]=u<<2|(48&i)>>4,u=i,c=2;break;case 2:s[o++]=(15&u)<<4|(60&i)>>2,u=i,c=3;break;case 3:s[o++]=(3&u)<<6|i,c=0}}if(1==c)throw Error("invalid base64 string");return s.subarray(0,o)},t.base64Encode=function(e,t="std"){const n=a(t),i="std"==t;let r,s="",o=0,c=0;for(let t=0;t<e.length;t++)switch(r=e[t],o){case 0:s+=n[r>>2],c=(3&r)<<4,o=1;break;case 1:s+=n[c|r>>4],c=(15&r)<<2,o=2;break;case 2:s+=n[c|r>>6],s+=n[63&r],o=0}return o&&(s+=n[c],i&&(s+="=",1==o&&(s+="="))),s}},8200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryReader=t.BinaryWriter=t.INT32_MIN=t.INT32_MAX=t.UINT32_MAX=t.FLOAT32_MIN=t.FLOAT32_MAX=t.WireType=void 0;const i=n(327),r=n(7907),a=n(4938);var s;function o(e){if("string"==typeof e)e=Number(e);else if("number"!=typeof e)throw new Error("invalid int32: "+typeof e);if(!Number.isInteger(e)||e>t.INT32_MAX||e<t.INT32_MIN)throw new Error("invalid int32: "+e)}function c(e){if("string"==typeof e)e=Number(e);else if("number"!=typeof e)throw new Error("invalid uint32: "+typeof e);if(!Number.isInteger(e)||e>t.UINT32_MAX||e<0)throw new Error("invalid uint32: "+e)}!function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(s||(t.WireType=s={})),t.FLOAT32_MAX=34028234663852886e22,t.FLOAT32_MIN=-34028234663852886e22,t.UINT32_MAX=4294967295,t.INT32_MAX=2147483647,t.INT32_MIN=-2147483648,t.BinaryWriter=class{constructor(e=(0,a.getTextEncoding)().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),n=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],n),n+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(c(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return o(e),(0,i.varint32write)(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.encodeUtf8(e);return this.uint32(t.byteLength),this.raw(t)}float(e){!function(e){if("string"==typeof e){const t=e;if(e=Number(e),isNaN(e)&&"NaN"!==t)throw new Error("invalid float32: "+t)}else if("number"!=typeof e)throw new Error("invalid float32: "+typeof e);if(Number.isFinite(e)&&(e>t.FLOAT32_MAX||e<t.FLOAT32_MIN))throw new Error("invalid float32: "+e)}(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){c(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){o(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return o(e),e=(e<<1^e>>31)>>>0,(0,i.varint32write)(e,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=r.protoInt64.enc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=r.protoInt64.uEnc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}int64(e){let t=r.protoInt64.enc(e);return(0,i.varint64write)(t.lo,t.hi,this.buf),this}sint64(e){let t=r.protoInt64.enc(e),n=t.hi>>31,a=t.lo<<1^n,s=(t.hi<<1|t.lo>>>31)^n;return(0,i.varint64write)(a,s,this.buf),this}uint64(e){let t=r.protoInt64.uEnc(e);return(0,i.varint64write)(t.lo,t.hi,this.buf),this}},t.BinaryReader=class{constructor(e,t=(0,a.getTextEncoding)().decodeUtf8){this.decodeUtf8=t,this.varint64=i.varint64read,this.uint32=i.varint32read,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e,t){let n=this.pos;switch(e){case s.Varint:for(;128&this.buf[this.pos++];);break;case s.Bit64:this.pos+=4;case s.Bit32:this.pos+=4;break;case s.LengthDelimited:let n=this.uint32();this.pos+=n;break;case s.StartGroup:for(;;){const[e,n]=this.tag();if(n===s.EndGroup){if(void 0!==t&&e!==t)throw new Error("invalid end group tag");break}this.skip(n,e)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return r.protoInt64.dec(...this.varint64())}uint64(){return r.protoInt64.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,r.protoInt64.dec(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return r.protoInt64.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return r.protoInt64.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.decodeUtf8(this.bytes())}}},4222:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(8200),t),r(n(3766),t),r(n(4938),t),r(n(1188),t),r(n(798),t)},798:function(e,t,n){"use strict";var i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){!function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}(i,r,(t=e[n](t)).done,t.value)}))}}},r=this&&this.__await||function(e){return this instanceof r?(this.v=e,this):new r(e)},a=this&&this.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,a=n.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return",(function(e){return function(t){return Promise.resolve(t).then(e,l)}})),i[Symbol.asyncIterator]=function(){return this},i;function o(e,t){a[e]&&(i[e]=function(t){return new Promise((function(n,i){s.push([e,t,n,i])>1||c(e,t)}))},t&&(i[e]=t(i[e])))}function c(e,t){try{(n=a[e](t)).value instanceof r?Promise.resolve(n.value.v).then(u,l):d(s[0][2],n)}catch(e){d(s[0][3],e)}var n}function u(e){c("next",e)}function l(e){c("throw",e)}function d(e,t){e(t),s.shift(),s.length&&c(s[0][0],s[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.sizeDelimitedEncode=function(e,t,n){const i=new o.BinaryWriter;return i.bytes((0,s.toBinary)(e,t,n)),i.finish()},t.sizeDelimitedDecodeStream=function(e,t,n){return a(this,arguments,(function*(){var a,s,o,l;function d(e,t){const n=new Uint8Array(e.byteLength+t.byteLength);return n.set(e),n.set(t,e.length),n}let f=new Uint8Array(0);try{for(var h,p=!0,g=i(t);!(a=(h=yield r(g.next())).done);p=!0)for(l=h.value,p=!1,f=d(f,l);;){const t=u(f);if(t.eof)break;if(t.offset+t.size>f.byteLength)break;yield yield r((0,c.fromBinary)(e,f.subarray(t.offset,t.offset+t.size),n)),f=f.subarray(t.offset+t.size)}}catch(e){s={error:e}}finally{try{p||a||!(o=g.return)||(yield r(o.call(g)))}finally{if(s)throw s.error}}if(f.byteLength>0)throw new Error("incomplete data")}))},t.sizeDelimitedPeek=u;const s=n(4110),o=n(8200),c=n(5529);function u(e){const t={eof:!0,size:null,offset:null};for(let n=0;n<10;n++){if(n>e.byteLength)return t;if(!(128&e[n])){const n=new o.BinaryReader(e);let i;try{i=n.uint32()}catch(e){if(e instanceof RangeError)return t;throw e}return{eof:!1,size:i,offset:n.pos}}}throw new Error("invalid varint")}},4938:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configureTextEncoding=function(e){globalThis[n]=e},t.getTextEncoding=function(){if(null==globalThis[n]){const e=new globalThis.TextEncoder,t=new globalThis.TextDecoder;globalThis[n]={encodeUtf8:t=>e.encode(t),decodeUtf8:e=>t.decode(e),checkUtf8(e){try{return encodeURIComponent(e),!0}catch(e){return!1}}}}return globalThis[n]};const n=Symbol.for("@bufbuild/protobuf/text-encoding")},1188:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextFormatEnumValue=function(e,t){const n=e.values.find((e=>e.name===t));if(!n)throw new Error(`cannot parse ${e} default value: ${t}`);return n.number},t.parseTextFormatScalarValue=function(e,t){switch(e){case i.ScalarType.STRING:return t;case i.ScalarType.BYTES:{const n=function(e){const t=[],n={tail:e,c:"",next(){return 0!=this.tail.length&&(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(e){if(this.tail.length>=e){const t=this.tail.substring(0,e);return this.tail=this.tail.substring(e),t}return!1}};for(;n.next();)if("\\"===n.c){if(n.next())switch(n.c){case"\\":t.push(n.c.charCodeAt(0));break;case"b":t.push(8);break;case"f":t.push(12);break;case"n":t.push(10);break;case"r":t.push(13);break;case"t":t.push(9);break;case"v":t.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const e=n.c,i=n.take(2);if(!1===i)return!1;const r=parseInt(e+i,8);if(isNaN(r))return!1;t.push(r);break}case"x":{const e=n.c,i=n.take(2);if(!1===i)return!1;const r=parseInt(e+i,16);if(isNaN(r))return!1;t.push(r);break}case"u":{const e=n.c,i=n.take(4);if(!1===i)return!1;const r=parseInt(e+i,16);if(isNaN(r))return!1;const a=new Uint8Array(4);new DataView(a.buffer).setInt32(0,r,!0),t.push(a[0],a[1],a[2],a[3]);break}case"U":{const e=n.c,i=n.take(8);if(!1===i)return!1;const a=r.protoInt64.uEnc(e+i),s=new Uint8Array(8),o=new DataView(s.buffer);o.setInt32(0,a.lo,!0),o.setInt32(4,a.hi,!0),t.push(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7]);break}}}else t.push(n.c.charCodeAt(0));return new Uint8Array(t)}(t);if(!1===n)throw new Error(`cannot parse ${i.ScalarType[e]} default value: ${t}`);return n}case i.ScalarType.INT64:case i.ScalarType.SFIXED64:case i.ScalarType.SINT64:return r.protoInt64.parse(t);case i.ScalarType.UINT64:case i.ScalarType.FIXED64:return r.protoInt64.uParse(t);case i.ScalarType.DOUBLE:case i.ScalarType.FLOAT:switch(t){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(t)}case i.ScalarType.BOOL:return"true"===t;case i.ScalarType.INT32:case i.ScalarType.UINT32:case i.ScalarType.SINT32:case i.ScalarType.FIXED32:case i.ScalarType.SFIXED32:return parseInt(t,10)}};const i=n(6317),r=n(7907)},327:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.varint64read=function(){let e=0,t=0;for(let n=0;n<28;n+=7){let i=this.buf[this.pos++];if(e|=(127&i)<<n,!(128&i))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,!(128&n))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let i=this.buf[this.pos++];if(t|=(127&i)<<n,!(128&i))return this.assertBounds(),[e,t]}throw new Error("invalid varint")},t.varint64write=function(e,t,n){for(let i=0;i<28;i+=7){const r=e>>>i,a=!(r>>>7==0&&0==t),s=255&(a?128|r:r);if(n.push(s),!a)return}const i=e>>>28&15|(7&t)<<4,r=!!(t>>3);if(n.push(255&(r?128|i:i)),r){for(let e=3;e<31;e+=7){const i=t>>>e,r=!(i>>>7==0),a=255&(r?128|i:i);if(n.push(a),!r)return}n.push(t>>>31&1)}},t.int64FromString=function(e){const t="-"===e[0];t&&(e=e.slice(1));const i=1e6;let s=0,o=0;function c(t,r){const a=Number(e.slice(t,r));o*=i,s=s*i+a,s>=n&&(o+=s/n|0,s%=n)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),t?a(s,o):r(s,o)},t.int64ToString=function(e,t){let n=r(e,t);const s=2147483648&n.hi;s&&(n=a(n.lo,n.hi));const o=i(n.lo,n.hi);return s?"-"+o:o},t.uInt64ToString=i,t.varint32write=function(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}},t.varint32read=function(){let e=this.buf[this.pos++],t=127&e;if(!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,!(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let t=5;128&e&&t<10;t++)e=this.buf[this.pos++];if(128&e)throw new Error("invalid varint");return this.assertBounds(),t>>>0};const n=4294967296;function i(e,t){if(({lo:e,hi:t}=function(e,t){return{lo:e>>>0,hi:t>>>0}}(e,t)),t<=2097151)return String(n*t+e);const i=16777215&(e>>>24|t<<8),r=t>>16&65535;let a=(16777215&e)+6777216*i+6710656*r,o=i+8147497*r,c=2*r;const u=1e7;return a>=u&&(o+=Math.floor(a/u),a%=u),o>=u&&(c+=Math.floor(o/u),o%=u),c.toString()+s(o)+s(a)}function r(e,t){return{lo:0|e,hi:0|t}}function a(e,t){return t=~t,e?e=1+~e:t+=1,r(e,t)}const s=e=>{const t=String(e);return"0000000".slice(t.length)+t}},7544:(e,t)=>{"use strict";function n(e){return e.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(e.substring(16))}Object.defineProperty(t,"__esModule",{value:!0}),t.isWrapper=function(e){return n(e.$typeName)},t.isWrapperDesc=function(e){const t=e.fields[0];return n(e.typeName)&&void 0!==t&&"scalar"==t.fieldKind&&"value"==t.name&&1==t.number}},5478:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasCORS=void 0;let n=!1;try{n="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}t.hasCORS=n},8365:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){let t={},n=e.split("&");for(let e=0,i=n.length;e<i;e++){let i=n[e].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},927:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),a=e.indexOf("]");-1!=r&&-1!=a&&(e=e.substring(0,r)+e.substring(r,a).replace(/:/g,";")+e.substring(a,e.length));let s=n.exec(e||""),o={},c=14;for(;c--;)o[i[c]]=s[c]||"";return-1!=r&&-1!=a&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){const n=t.replace(/\/{2,9}/g,"/").split("/");return"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1),"/"==t.slice(-1)&&n.splice(n.length-1,1),n}(0,o.path),o.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,i){t&&(n[t]=i)})),n}(0,o.query),o};const n=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]},9224:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultBinaryType=t.globalThisShim=t.nextTick=void 0,t.createCookieJar=function(){},t.nextTick="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),t.globalThisShim="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),t.defaultBinaryType="arraybuffer"},868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebTransport=t.WebSocket=t.NodeWebSocket=t.XHR=t.NodeXHR=t.Fetch=t.nextTick=t.parse=t.installTimerFunctions=t.transports=t.TransportError=t.Transport=t.protocol=t.SocketWithUpgrade=t.SocketWithoutUpgrade=t.Socket=void 0;const i=n(7095);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return i.Socket}});var r=n(7095);Object.defineProperty(t,"SocketWithoutUpgrade",{enumerable:!0,get:function(){return r.SocketWithoutUpgrade}}),Object.defineProperty(t,"SocketWithUpgrade",{enumerable:!0,get:function(){return r.SocketWithUpgrade}}),t.protocol=i.Socket.protocol;var a=n(6297);Object.defineProperty(t,"Transport",{enumerable:!0,get:function(){return a.Transport}}),Object.defineProperty(t,"TransportError",{enumerable:!0,get:function(){return a.TransportError}});var s=n(6099);Object.defineProperty(t,"transports",{enumerable:!0,get:function(){return s.transports}});var o=n(8534);Object.defineProperty(t,"installTimerFunctions",{enumerable:!0,get:function(){return o.installTimerFunctions}});var c=n(927);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return c.parse}});var u=n(9224);Object.defineProperty(t,"nextTick",{enumerable:!0,get:function(){return u.nextTick}});var l=n(9097);Object.defineProperty(t,"Fetch",{enumerable:!0,get:function(){return l.Fetch}});var d=n(9871);Object.defineProperty(t,"NodeXHR",{enumerable:!0,get:function(){return d.XHR}});var f=n(9871);Object.defineProperty(t,"XHR",{enumerable:!0,get:function(){return f.XHR}});var h=n(2484);Object.defineProperty(t,"NodeWebSocket",{enumerable:!0,get:function(){return h.WS}});var p=n(2484);Object.defineProperty(t,"WebSocket",{enumerable:!0,get:function(){return p.WS}});var g=n(296);Object.defineProperty(t,"WebTransport",{enumerable:!0,get:function(){return g.WT}})},7095:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=t.SocketWithUpgrade=t.SocketWithoutUpgrade=void 0;const r=n(6099),a=n(8534),s=n(8365),o=n(927),c=n(8926),u=n(9344),l=n(9224),d=(0,i(n(8855)).default)("engine.io-client:socket"),f="function"==typeof addEventListener&&"function"==typeof removeEventListener,h=[];f&&addEventListener("offline",(()=>{d("closing %d connection(s) because the network was lost",h.length),h.forEach((e=>e()))}),!1);class p extends c.Emitter{constructor(e,t){if(super(),this.binaryType=l.defaultBinaryType,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"==typeof e&&(t=e,e=null),e){const n=(0,o.parse)(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=(0,o.parse)(t.host).host);(0,a.installTimerFunctions)(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=(0,s.decode)(this.opts.query)),f&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(d("adding listener for the 'offline' event"),this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},h.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=(0,l.createCookieJar)()),this._open()}createTransport(e){d('creating transport "%s"',e);const t=Object.assign({},this.opts.query);t.EIO=u.protocol,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return d("options: %j",n),new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&p.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){d("setting transport %s",e.name),this.transport&&(d("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){d("socket open"),this.readyState="open",p.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(d('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}else d('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();d("flushing %d packets in socket",e.length),this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=(0,a.byteLength)(n)),t>0&&e>this._maxPayload)return d("only send %d out of %d packets",t,this.writeBuffer.length),this.writeBuffer.slice(0,t);e+=2}return d("payload size is %d (max: %d)",e,this._maxPayload),this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(d("throttled timer detected, scheduling connection close"),this._pingTimeoutTime=0,(0,l.nextTick)((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof n&&(i=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const r={type:e,data:t,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),d("socket closing - telling transport to close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}_onError(e){if(d("socket error %j",e),p.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return d("trying next transport"),this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(d('socket close with reason: "%s"',e),this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),f&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=h.indexOf(this._offlineEventListener);-1!==e&&(d("removing listener for the 'offline' event"),h.splice(e,1))}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}t.SocketWithoutUpgrade=p,p.protocol=u.protocol;class g extends p{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade){d("starting upgrade probes");for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}}_probe(e){d('probing transport "%s"',e);let t=this.createTransport(e),n=!1;p.priorWebsocketSuccess=!1;const i=()=>{n||(d('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(i=>{if(!n)if("pong"===i.type&&"probe"===i.data){if(d('probe transport "%s" pong',e),this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;p.priorWebsocketSuccess="websocket"===t.name,d('pausing current transport "%s"',this.transport.name),this.transport.pause((()=>{n||"closed"!==this.readyState&&(d("changing transport and sending upgrade packet"),u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{d('probe transport "%s" failed',e);const n=new Error("probe error");n.transport=t.name,this.emitReserved("upgradeError",n)}})))};function r(){n||(n=!0,u(),t.close(),t=null)}const a=n=>{const i=new Error("probe error: "+n);i.transport=t.name,r(),d('probe transport "%s" failed because of error: %s',e,n),this.emitReserved("upgradeError",i)};function s(){a("transport closed")}function o(){a("socket closed")}function c(e){t&&e.name!==t.name&&(d('"%s" works - aborting "%s"',e.name,t.name),r())}const u=()=>{t.removeListener("open",i),t.removeListener("error",a),t.removeListener("close",s),this.off("close",o),this.off("upgrading",c)};t.once("open",i),t.once("error",a),t.once("close",s),this.once("close",o),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}t.SocketWithUpgrade=g,t.Socket=class extends g{constructor(e,t={}){const n="object"==typeof e?e:t;(!n.transports||n.transports&&"string"==typeof n.transports[0])&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map((e=>r.transports[e])).filter((e=>!!e))),super(e,n)}}},6297:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=t.TransportError=void 0;const r=n(9344),a=n(8926),s=n(8534),o=n(8365),c=(0,i(n(8855)).default)("engine.io-client:transport");class u extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}t.TransportError=u;class l extends a.Emitter{constructor(e){super(),this.writable=!1,(0,s.installTimerFunctions)(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new u(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState?this.write(e):c("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=(0,r.decodePacket)(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=(0,o.encode)(e);return t.length?"?"+t:""}}t.Transport=l},6099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transports=void 0;const i=n(9871),r=n(2484),a=n(296);t.transports={websocket:r.WS,webtransport:a.WT,polling:i.XHR}},9097:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Fetch=void 0;const i=n(8760);class r extends i.Polling{doPoll(){this._fetch().then((e=>{if(!e.ok)return this.onError("fetch read error",e.status,e);e.text().then((e=>this.onData(e)))})).catch((e=>{this.onError("fetch read error",e)}))}doWrite(e,t){this._fetch(e).then((e=>{if(!e.ok)return this.onError("fetch write error",e.status,e);t()})).catch((e=>{this.onError("fetch write error",e)}))}_fetch(e){var t;const n=void 0!==e,i=new Headers(this.opts.extraHeaders);return n&&i.set("content-type","text/plain;charset=UTF-8"),null===(t=this.socket._cookieJar)||void 0===t||t.appendCookies(i),fetch(this.uri(),{method:n?"POST":"GET",body:n?e:null,headers:i,credentials:this.opts.withCredentials?"include":"omit"}).then((e=>{var t;return null===(t=this.socket._cookieJar)||void 0===t||t.parseCookies(e.headers.getSetCookie()),e}))}}t.Fetch=r},9871:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.XHR=t.Request=t.BaseXHR=void 0;const r=n(8760),a=n(8926),s=n(8534),o=n(9224),c=n(5478),u=(0,i(n(8855)).default)("engine.io-client:polling");function l(){}class d extends r.Polling{constructor(e){if(super(e),"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){u("xhr poll");const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}t.BaseXHR=d;class f extends a.Emitter{constructor(e,t,n){super(),this.createRequest=e,(0,s.installTimerFunctions)(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=(0,s.pick)(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{u("xhr open %s: %s",this._method,this._uri),n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(e){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"==typeof n.status?n.status:0)}),0))},u("xhr data %s",this._data),n.send(this._data)}catch(e){return void this.setTimeoutFn((()=>{this._onError(e)}),0)}"undefined"!=typeof document&&(this._index=f.requestsCount++,f.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=l,e)try{this._xhr.abort()}catch(e){}"undefined"!=typeof document&&delete f.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(t.Request=f,f.requestsCount=0,f.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",h);else if("function"==typeof addEventListener){const e="onpagehide"in o.globalThisShim?"pagehide":"unload";addEventListener(e,h,!1)}function h(){for(let e in f.requests)f.requests.hasOwnProperty(e)&&f.requests[e].abort()}const p=function(){const e=g({xdomain:!1});return e&&null!==e.responseType}();function g(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||c.hasCORS))return new XMLHttpRequest}catch(e){}if(!t)try{return new(o.globalThisShim[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}t.XHR=class extends d{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=p&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new f(g,this.uri(),e)}}},8760:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Polling=void 0;const r=n(6297),a=n(8534),s=n(9344),o=(0,i(n(8855)).default)("engine.io-client:polling");class c extends r.Transport{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{o("paused"),this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(o("we are currently polling - waiting to pause"),e++,this.once("pollComplete",(function(){o("pre-pause polling complete"),--e||t()}))),this.writable||(o("we are currently writing - waiting to pause"),e++,this.once("drain",(function(){o("pre-pause writing complete"),--e||t()})))}else t()}_poll(){o("polling"),this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){o("polling got data %s",e),(0,s.decodePayload)(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState?this._poll():o('ignoring poll - transport state "%s"',this.readyState))}doClose(){const e=()=>{o("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(o("transport open - closing"),e()):(o("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,(0,s.encodePayload)(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=(0,a.randomString)()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}t.Polling=c},2484:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WS=t.BaseWS=void 0;const r=n(6297),a=n(8534),s=n(9344),o=n(9224),c=(0,i(n(8855)).default)("engine.io-client:websocket"),u="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class l extends r.Transport{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=u?{}:(0,a.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;(0,s.encodePacket)(n,this.supportsBinary,(e=>{try{this.doWrite(n,e)}catch(e){c("websocket closed before onclose event")}i&&(0,o.nextTick)((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=(0,a.randomString)()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}t.BaseWS=l;const d=o.globalThisShim.WebSocket||o.globalThisShim.MozWebSocket;t.WS=class extends l{createSocket(e,t,n){return u?new d(e,t,n):t?new d(e,t):new d(e)}doWrite(e,t){this.ws.send(t)}}},296:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WT=void 0;const r=n(6297),a=n(9224),s=n(9344),o=(0,i(n(8855)).default)("engine.io-client:webtransport");class c extends r.Transport{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then((()=>{o("transport closed gracefully"),this.onClose()})).catch((e=>{o("transport closed due to %s",e),this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=(0,s.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),i=(0,s.createPacketEncoderStream)();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const r=()=>{n.read().then((({done:e,value:t})=>{e?o("session is closed"):(o("received chunk: %o",t),this.onPacket(t),r())})).catch((e=>{o("an error occurred while reading: %s",e)}))};r();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;this._writer.write(n).then((()=>{i&&(0,a.nextTick)((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}}t.WT=c},8534:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pick=function(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})},t.installTimerFunctions=function(e,t){t.useNativeTimers?(e.setTimeoutFn=r.bind(i.globalThisShim),e.clearTimeoutFn=a.bind(i.globalThisShim)):(e.setTimeoutFn=i.globalThisShim.setTimeout.bind(i.globalThisShim),e.clearTimeoutFn=i.globalThisShim.clearTimeout.bind(i.globalThisShim))},t.byteLength=function(e){return"string"==typeof e?function(e){let t=0,n=0;for(let i=0,r=e.length;i<r;i++)t=e.charCodeAt(i),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(i++,n+=4);return n}(e):Math.ceil((e.byteLength||e.size)*s)},t.randomString=function(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)};const i=n(9224),r=i.globalThisShim.setTimeout,a=i.globalThisShim.clearTimeout,s=1.33},1526:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_PACKET=t.PACKET_TYPES_REVERSE=t.PACKET_TYPES=void 0;const n=Object.create(null);t.PACKET_TYPES=n,n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";const i=Object.create(null);t.PACKET_TYPES_REVERSE=i,Object.keys(n).forEach((e=>{i[n[e]]=e})),t.ERROR_PACKET={type:"error",data:"parser error"}},3889:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<64;e++)i[n.charCodeAt(e)]=e;t.encode=e=>{let t,i=new Uint8Array(e),r=i.length,a="";for(t=0;t<r;t+=3)a+=n[i[t]>>2],a+=n[(3&i[t])<<4|i[t+1]>>4],a+=n[(15&i[t+1])<<2|i[t+2]>>6],a+=n[63&i[t+2]];return r%3==2?a=a.substring(0,a.length-1)+"=":r%3==1&&(a=a.substring(0,a.length-2)+"=="),a},t.decode=e=>{let t,n,r,a,s,o=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const l=new ArrayBuffer(o),d=new Uint8Array(l);for(t=0;t<c;t+=4)n=i[e.charCodeAt(t)],r=i[e.charCodeAt(t+1)],a=i[e.charCodeAt(t+2)],s=i[e.charCodeAt(t+3)],d[u++]=n<<2|r>>4,d[u++]=(15&r)<<4|a>>2,d[u++]=(3&a)<<6|63&s;return l}},8750:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodePacket=void 0;const i=n(1526),r=n(3889),a="function"==typeof ArrayBuffer;t.decodePacket=(e,t)=>{if("string"!=typeof e)return{type:"message",data:o(e,t)};const n=e.charAt(0);return"b"===n?{type:"message",data:s(e.substring(1),t)}:i.PACKET_TYPES_REVERSE[n]?e.length>1?{type:i.PACKET_TYPES_REVERSE[n],data:e.substring(1)}:{type:i.PACKET_TYPES_REVERSE[n]}:i.ERROR_PACKET};const s=(e,t)=>{if(a){const n=(0,r.decode)(e);return o(n,t)}return{base64:!0,data:e}},o=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer},2086:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodePacket=void 0,t.encodePacketToBinary=function(e,t){return r&&e.data instanceof Blob?e.data.arrayBuffer().then(u).then(t):a&&(e.data instanceof ArrayBuffer||s(e.data))?t(u(e.data)):void o(e,!1,(e=>{l||(l=new TextEncoder),t(l.encode(e))}))};const i=n(1526),r="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),a="function"==typeof ArrayBuffer,s=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,o=({type:e,data:t},n,o)=>r&&t instanceof Blob?n?o(t):c(t,o):a&&(t instanceof ArrayBuffer||s(t))?n?o(t):c(new Blob([t]),o):o(i.PACKET_TYPES[e]+(t||""));t.encodePacket=o;const c=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function u(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let l},9344:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodePayload=t.decodePacket=t.encodePayload=t.encodePacket=t.protocol=void 0,t.createPacketEncoderStream=function(){return new TransformStream({transform(e,t){(0,i.encodePacketToBinary)(e,(n=>{const i=n.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const e=new DataView(r.buffer);e.setUint8(0,126),e.setUint16(1,i)}else{r=new Uint8Array(9);const e=new DataView(r.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(i))}e.data&&"string"!=typeof e.data&&(r[0]|=128),t.enqueue(r),t.enqueue(n)}))}})},t.createPacketDecoderStream=function(e,t){o||(o=new TextDecoder);const n=[];let i=0,s=-1,l=!1;return new TransformStream({transform(d,f){for(n.push(d);;){if(0===i){if(c(n)<1)break;const e=u(n,1);l=!(128&~e[0]),s=127&e[0],i=s<126?3:126===s?1:2}else if(1===i){if(c(n)<2)break;const e=u(n,2);s=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),i=3}else if(2===i){if(c(n)<8)break;const e=u(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),r=t.getUint32(0);if(r>Math.pow(2,21)-1){f.enqueue(a.ERROR_PACKET);break}s=r*Math.pow(2,32)+t.getUint32(4),i=3}else{if(c(n)<s)break;const e=u(n,s);f.enqueue((0,r.decodePacket)(l?e:o.decode(e),t)),i=0}if(0===s||s>e){f.enqueue(a.ERROR_PACKET);break}}}})};const i=n(2086);Object.defineProperty(t,"encodePacket",{enumerable:!0,get:function(){return i.encodePacket}});const r=n(8750);Object.defineProperty(t,"decodePacket",{enumerable:!0,get:function(){return r.decodePacket}});const a=n(1526),s=String.fromCharCode(30);let o;function c(e){return e.reduce(((e,t)=>e+t.length),0)}function u(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let i=0;for(let r=0;r<t;r++)n[r]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),n}t.encodePayload=(e,t)=>{const n=e.length,r=new Array(n);let a=0;e.forEach(((e,o)=>{(0,i.encodePacket)(e,!1,(e=>{r[o]=e,++a===n&&t(r.join(s))}))}))},t.decodePayload=(e,t)=>{const n=e.split(s),i=[];for(let e=0;e<n.length;e++){const a=(0,r.decodePacket)(n[e],t);if(i.push(a),"error"===a.type)break}return i},t.protocol=4},4791:(e,t)=>{"use strict";function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Object.defineProperty(t,"__esModule",{value:!0}),t.Backoff=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+n:e-n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},7551:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebTransport=t.WebSocket=t.NodeWebSocket=t.XHR=t.NodeXHR=t.Fetch=t.Socket=t.Manager=t.protocol=void 0,t.io=u,t.connect=u,t.default=u;const r=n(694),a=n(8888);Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return a.Manager}});const s=n(8062);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return s.Socket}});const o=(0,i(n(8855)).default)("socket.io-client"),c={};function u(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};const n=(0,r.url)(e,t.path||"/socket.io"),i=n.source,s=n.id,u=n.path,l=c[s]&&u in c[s].nsps;let d;return t.forceNew||t["force new connection"]||!1===t.multiplex||l?(o("ignoring socket cache for %s",i),d=new a.Manager(i,t)):(c[s]||(o("new io instance for %s",i),c[s]=new a.Manager(i,t)),d=c[s]),n.query&&!t.query&&(t.query=n.queryKey),d.socket(n.path,t)}Object.assign(u,{Manager:a.Manager,Socket:s.Socket,io:u,connect:u});var l=n(507);Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return l.protocol}});var d=n(868);Object.defineProperty(t,"Fetch",{enumerable:!0,get:function(){return d.Fetch}}),Object.defineProperty(t,"NodeXHR",{enumerable:!0,get:function(){return d.NodeXHR}}),Object.defineProperty(t,"XHR",{enumerable:!0,get:function(){return d.XHR}}),Object.defineProperty(t,"NodeWebSocket",{enumerable:!0,get:function(){return d.NodeWebSocket}}),Object.defineProperty(t,"WebSocket",{enumerable:!0,get:function(){return d.WebSocket}}),Object.defineProperty(t,"WebTransport",{enumerable:!0,get:function(){return d.WebTransport}}),e.exports=u},8888:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;const o=n(868),c=n(8062),u=a(n(507)),l=n(8270),d=n(4791),f=n(8926),h=(0,s(n(8855)).default)("socket.io-client:manager");class p extends f.Emitter{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,(0,o.installTimerFunctions)(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new d.Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||u;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(h("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;h("opening %s",this.uri),this.engine=new o.Socket(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=(0,l.on)(t,"open",(function(){n.onopen(),e&&e()})),r=t=>{h("error"),this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},a=(0,l.on)(t,"error",r);if(!1!==this._timeout){const e=this._timeout;h("connect attempt will timeout after %d",e);const n=this.setTimeoutFn((()=>{h("connect attempt timed out after %d",e),i(),r(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){h("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push((0,l.on)(e,"ping",this.onping.bind(this)),(0,l.on)(e,"data",this.ondata.bind(this)),(0,l.on)(e,"error",this.onerror.bind(this)),(0,l.on)(e,"close",this.onclose.bind(this)),(0,l.on)(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){(0,o.nextTick)((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){h("error",e),this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new c.Socket(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t)if(this.nsps[e].active)return void h("socket %s is still active, skipping close",e);this._close()}_packet(e){h("writing packet %j",e);const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){h("cleanup"),this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){h("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;h("closed due to %s",e),this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)h("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();h("will wait %dms before reconnect attempt",t),this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(h("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(h("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):(h("reconnect success"),e.onreconnect())})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}t.Manager=p},8270:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=function(e,t,n){return e.on(t,n),function(){e.off(t,n)}}},8062:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;const r=n(507),a=n(8270),s=n(8926),o=(0,i(n(8855)).default)("socket.io-client:socket"),c=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class u extends s.Emitter{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[(0,a.on)(e,"open",this.onopen.bind(this)),(0,a.on)(e,"packet",this.onpacket.bind(this)),(0,a.on)(e,"error",this.onerror.bind(this)),(0,a.on)(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,i,a;if(c.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const s={type:r.PacketType.EVENT,data:t,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++;o("emitting packet with ack id %d",e);const n=t.pop();this._registerAckCallback(e,n),s.id=e}const u=null===(i=null===(n=this.io.engine)||void 0===n?void 0:n.transport)||void 0===i?void 0:i.writable,l=this.connected&&!(null===(a=this.io.engine)||void 0===a?void 0:a._hasPingExpired());return this.flags.volatile&&!u?o("discard packet as the transport is not currently writable"):l?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s),this.flags={},this}_registerAckCallback(e,t){var n;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const r=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&(o("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(t,1));o("event with ack id %d has timed out after %d ms",e,i),t.call(this,new Error("operation has timed out"))}),i),a=(...e)=>{this.io.clearTimeoutFn(r),t.apply(this,e)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...t){return new Promise(((n,i)=>{const r=(e,t)=>e?i(e):n(t);r.withError=!0,t.push(r),this.emit(e,...t)}))}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(((e,...i)=>{if(n===this._queue[0])return null!==e?n.tryCount>this._opts.retries&&(o("packet [%d] is discarded after %d tries",n.id,n.tryCount),this._queue.shift(),t&&t(e)):(o("packet [%d] was successfully sent",n.id),this._queue.shift(),t&&t(null,...i)),n.pending=!1,this._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(o("draining queue"),!this.connected||0===this._queue.length)return;const t=this._queue[0];!t.pending||e?(t.pending=!0,t.tryCount++,o("sending packet [%d] (try n%d)",t.id,t.tryCount),this.flags=t.flags,this.emit.apply(this,t.args)):o("packet [%d] has already been sent and is waiting for an ack",t.id)}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){o("transport is open - connecting"),"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:r.PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){o("close (%s)",e),this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case r.PacketType.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case r.PacketType.EVENT:case r.PacketType.BINARY_EVENT:this.onevent(e);break;case r.PacketType.ACK:case r.PacketType.BINARY_ACK:this.onack(e);break;case r.PacketType.DISCONNECT:this.ondisconnect();break;case r.PacketType.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];o("emitting event %j",t),null!=e.id&&(o("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...i){n||(n=!0,o("sending ack %j",i),t.packet({type:r.PacketType.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];"function"==typeof t?(delete this.acks[e.id],o("calling ack %s with %j",e.id,e.data),t.withError&&e.data.unshift(null),t.apply(this,e.data)):o("bad ack %s",e.id)}onconnect(e,t){o("socket connected with id %s",e),this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){o("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(o("performing disconnect (%s)",this.nsp),this.packet({type:r.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}t.Socket=u},694:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.url=function(e,t="",n){let i=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(a("protocol-less url %s",e),e=void 0!==n?n.protocol+"//"+e:"https://"+e),a("parse %s",e),i=(0,r.parse)(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const s=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+t,i.href=i.protocol+"://"+s+(n&&n.port===i.port?"":":"+i.port),i};const r=n(868),a=(0,i(n(8855)).default)("socket.io-client:url")},4246:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;const i=n(3333);function r(e,t){if(!e)return e;if((0,i.isBinary)(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=r(e[i],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=r(e[i],t));return n}return e}function a(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=a(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=a(e[n],t));return e}t.deconstructPacket=function(e){const t=[],n=e.data,i=e;return i.data=r(n,t),i.attachments=t.length,{packet:i,buffers:t}},t.reconstructPacket=function(e,t){return e.data=a(e.data,t),delete e.attachments,e}},507:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;const i=n(8926),r=n(4246),a=n(3333),s=(0,n(8855).default)("socket.io-parser"),o=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var c;function u(e){return"[object Object]"===Object.prototype.toString.call(e)}t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(c=t.PacketType||(t.PacketType={})),t.Encoder=class{constructor(e){this.replacer=e}encode(e){return s("encoding packet %j",e),e.type!==c.EVENT&&e.type!==c.ACK||!(0,a.hasBinary)(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===c.EVENT?c.BINARY_EVENT:c.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==c.BINARY_EVENT&&e.type!==c.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),s("encoded %j as %s",e,t),t}encodeAsBinary(e){const t=(0,r.deconstructPacket)(e),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}};class l extends i.Emitter{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===c.BINARY_EVENT;n||t.type===c.BINARY_ACK?(t.type=n?c.EVENT:c.ACK,this.reconstructor=new d(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!(0,a.isBinary)(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===c[n.type])throw new Error("unknown packet type "+n.type);if(n.type===c.BINARY_EVENT||n.type===c.BINARY_ACK){const i=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const r=e.substring(i,t);if(r!=Number(r)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===e.charAt(t+1)){const i=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);n.nsp=e.substring(i,t)}else n.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const i=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=this.tryParse(e.substr(t));if(!l.isPayloadValid(n.type,i))throw new Error("invalid payload");n.data=i}return s("decoded %s as %j",e,n),n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case c.CONNECT:return u(t);case c.DISCONNECT:return void 0===t;case c.CONNECT_ERROR:return"string"==typeof t||u(t);case c.EVENT:case c.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===o.indexOf(t[0]));case c.ACK:case c.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}t.Decoder=l;class d{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=(0,r.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},3333:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;const n="function"==typeof ArrayBuffer,i=Object.prototype.toString,r="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);function s(e){return n&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||r&&e instanceof Blob||a&&e instanceof File}t.isBinary=s,t.hasBinary=function e(t,n){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(e(t[n]))return!0;return!1}if(s(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return!0;return!1}},8926:(e,t,n)=>{"use strict";function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}n.r(t),n.d(t,{Emitter:()=>i}),i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},i.prototype.emitReserved=i.prototype.emit,i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";n.r(i),n.d(i,{default:()=>c});class e{canvas;width=100;height=20;x=0;y=0;speed=10;direction=0;playerId="";isLocalPlayer=!1;isInverted=!1;config;dpr;moveCallback=()=>{};constructor(e,t,n,i=!1,r){this.canvas=e,this.config=r,this.dpr=r.authConfig.config.dpr||1,this.isInverted=i,this.isLocalPlayer=n,this.playerId=t,this.isInverted=i,this.y=i?30:this.canvas.height/this.dpr-30,this.reset(),this.isLocalPlayer&&(console.log("Adding event listeners for local player"),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)),console.log("Paddle created:",this.playerId,this.isLocalPlayer)}reset(){this.x=(this.canvas.width/this.dpr-this.width)/2,this.y=this.isInverted?30:this.canvas.height/this.dpr-30,console.log("Paddle reset:",this.x,this.y)}removeEventListeners(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp)}handleKeyDown=e=>{"ArrowLeft"===e.key?this.direction=-1:"ArrowRight"===e.key&&(this.direction=1)};handleKeyUp=e=>{"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||(this.direction=0)};setPosition(e){this.x=e}update(){if(this.isLocalPlayer){const e=this.x;this.x+=this.direction*this.speed,this.x=Math.max(0,Math.min(this.x,this.canvas.width/this.dpr-this.width)),e!==this.x&&(console.log("Paddle moved:",this.x),this.moveCallback(this.x,this.y,this.width,this.height))}}updatePosition(e){this.isLocalPlayer||(this.x=e)}draw(e){e.fillStyle="#FFFFFF",e.fillRect(this.x,this.y,this.width,this.height)}onMove(e){this.isLocalPlayer&&(this.moveCallback=e)}getPosition(){return{x:this.x,y:this.y,width:this.width,height:this.height}}setAsLocalPlayer(){this.isLocalPlayer=!0}}class t{canvas;x=0;y=0;radius=8;speedX=40;speedY=40;constructor(e){this.canvas=e,this.reset()}setPosition(e,t){this.x=e,this.y=t}draw(e){e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.fillStyle="#FFFFFF",e.fill(),e.closePath()}reset(){this.x=this.canvas.width/2,this.y=this.canvas.height/2,this.speedX=4*(2*Math.random()-1),this.speedY=4}}class r{static maxPlayers=2;static fps=120}class a{animationFrameId=null;canvas;ctx;paddles={};ball;lastFrameTime=0;localPlayerId="";paddleMoveCallback=()=>{};importedConfig;gameStarted;constructor(e,n){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.update=this.update.bind(this),this.ball=new t(this.canvas),this.importedConfig=n,this.animationFrameId=null,this.gameStarted=!1}resizeCanvas(e,t){console.log("this.importedConfig",this.importedConfig);const n=this.importedConfig.authConfig.config.screenWidth,i=this.importedConfig.authConfig.config.screenHeight,r=this.importedConfig.authConfig.config.dpr||1;console.log("gameWidth",e,"gameHeight",t,"dpr",r);const a=e/t,s=n/i;console.log("gameAspectRatio",a,"windowAspectRatio",s),t>i||e>n?t/i>e/n?(console.log("canvasHeight",i,"canvasWidth",n,"canvasWidth / gameAspectRatio",n/a),this.canvas.style.width=i*a+"px",this.canvas.style.height=`${i}px`):(console.log("canvasWidth * gameAspectRatio",n*a,"canvasHeight",i,"canvasWidth",n),this.canvas.style.width=`${n}px`,this.canvas.style.height=n/a+"px"):(this.canvas.style.width=`${n}px`,this.canvas.style.height=`${i}px`),this.canvas.width=e*r,this.canvas.height=t*r,console.log("this.canvas.width",this.canvas.width,"this.canvas.height",this.canvas.height),this.ctx.scale(r,r)}setInitialState(t,n,i,r,a){console.log("setInitialState",t,n,i,r,a),this.localPlayerId=t,this.resizeCanvas(r,a);let s=0;for(const t in n.paddles){let n="bottom"===i;1===s&&(n=!n),console.log("resized canvas",this.canvas.width,this.canvas.height),this.paddles[t]=new e(this.canvas,t,t===this.localPlayerId,n,this.importedConfig),s++}this.ball.setPosition(n.ball.x,n.ball.y)}updateState(e){for(const t in e.paddles)t!==this.localPlayerId&&this.paddles[t].setPosition(e.paddles[t].x);this.ball.setPosition(e.ball.x,e.ball.y)}onPaddleMove(e){this.paddleMoveCallback=e}loop=e=>{e-this.lastFrameTime>=1e3/r.fps&&(this.lastFrameTime=e,this.update(),this.draw()),this.animationFrameId=requestAnimationFrame(this.loop)};update(){Object.values(this.paddles).forEach((e=>e.update()))}draw(){this.ctx.fillStyle="#000000",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),Object.values(this.paddles).forEach((e=>e.draw(this.ctx))),this.ball.draw(this.ctx)}start(){const e=this.paddles[this.localPlayerId];e?.onMove(((e,t,n,i)=>{this.paddleMoveCallback(e,t,n,i)})),this.animationFrameId=requestAnimationFrame(this.loop),this.gameStarted=!0}isStarted(){return this.gameStarted}unload(){null!==this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),Object.values(this.paddles).forEach((e=>{e.removeEventListeners()})),this.gameStarted=!1,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}}var s=n(7476),o=n(740);class c{game;oof;token;config;playerName=null;isInverted=!1;constructor(e,t,n){this.config={config:t,playerId:t.playerId,authConfig:t.authConfig,shadowRoot:n,sdk:{authUrl:"/auth",socketUrl:"ws://0.0.0.0:9090",apiUrl:"/api",workerUrl:"/games/workers/worker.js"}},this.token=t.authConfig?.token||"",this.oof=new o.b,this.game=new a(e,t),this.initConfig(this.config)}initConfig(e){console.log("Initializing game with config:",e.sdk),this.oof.init(e.sdk)}load=async()=>{console.log("Loading game"),await this.oof.connect(this.token);const e={state:s.Dk.InstanceCommandEnum.START,playerName:this.config.playerId};this.oof.events.web.game.emit("REGISTER_PLAYER",e);const t=this.config.shadowRoot.querySelector("#closeButton");t?.addEventListener("click",(()=>{console.log("[Game] Close button clicked");const e={state:"ABORT",playerName:this.config.playerId};this.oof.events.local.emit("CLOSE",e,this.config.shadowRoot)}))};start=async()=>{console.log("[Game] Starting game"),this.oof.events.web.game.on("INIT",(e=>{console.log("[Game] INIT event received:",e),this.playerName=e.playerId||null,this.isInverted="top"===e.playerRole,this.game.setInitialState(e.playerName,e.gameState,e.playerRole,e.gameWidth,e.gameHeight),this.playerName=e.playerName,this.game.start()})),this.oof.events.web.game.on("STATE_UPDATE",(e=>{!0===this.game.isStarted()&&this.game.updateState(e.gameState)})),this.game.onPaddleMove(((e,t,n,i)=>{const r={x:e,y:t,width:n,height:i,playerName:this.playerName};this.oof.events.web.game.emit("UPDATE_PADDLE",r)}))};pause=async()=>{console.log("Pausing game")};resume=async()=>{console.log("Resuming game")};stop=async()=>{console.log("Stopping game")};unload=async()=>{console.log("Unloading game"),this.oof.events.local.off("CLOSE"),this.oof.disconnect(),this.game.unload()}}})(),i})()));