!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.GameModule=t():e.GameModule=t()}(this,(()=>(()=>{"use strict";var e={548:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EntityUpdate=t.RegisterEntity_EntityAttribute=t.RegisterEntity_AttributesEntry=t.RegisterEntity=t.RegisterEntity_ControllerStateEnum=t.protobufPackage=void 0,t.registerEntity_ControllerStateEnumFromJSON=r,t.registerEntity_ControllerStateEnumToJSON=o;const i=a(489);var n;function r(e){switch(e){case 0:case"SERVER":return n.SERVER;case 1:case"PLAYER":return n.PLAYER;default:return n.UNRECOGNIZED}}function o(e){switch(e){case n.SERVER:return"SERVER";case n.PLAYER:return"PLAYER";case n.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function s(e){return null!=e}t.protobufPackage="game",function(e){e[e.SERVER=0]="SERVER",e[e.PLAYER=1]="PLAYER",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(n||(t.RegisterEntity_ControllerStateEnum=n={})),t.RegisterEntity={encode:(e,a=new i.BinaryWriter)=>(""!==e.name&&a.uint32(10).string(e.name),""!==e.type&&a.uint32(18).string(e.type),""!==e.id&&a.uint32(26).string(e.id),""!==e.sessionId&&a.uint32(34).string(e.sessionId),""!==e.gameId&&a.uint32(42).string(e.gameId),Object.entries(e.attributes).forEach((([e,i])=>{t.RegisterEntity_AttributesEntry.encode({key:e,value:i},a.uint32(50).fork()).join()})),0!==e.controllerState&&a.uint32(56).int32(e.controllerState),void 0!==e.playerId&&a.uint32(66).string(e.playerId),void 0!==e.data&&a.uint32(74).string(e.data),a),decode(e,a){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===a?n.len:n.pos+a;const o={name:"",type:"",id:"",sessionId:"",gameId:"",attributes:{},controllerState:0,playerId:void 0,data:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.name=n.string();continue;case 2:if(18!==e)break;o.type=n.string();continue;case 3:if(26!==e)break;o.id=n.string();continue;case 4:if(34!==e)break;o.sessionId=n.string();continue;case 5:if(42!==e)break;o.gameId=n.string();continue;case 6:{if(50!==e)break;const a=t.RegisterEntity_AttributesEntry.decode(n,n.uint32());void 0!==a.value&&(o.attributes[a.key]=a.value);continue}case 7:if(56!==e)break;o.controllerState=n.int32();continue;case 8:if(66!==e)break;o.playerId=n.string();continue;case 9:if(74!==e)break;o.data=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{name:s(e.name)?globalThis.String(e.name):"",type:s(e.type)?globalThis.String(e.type):"",id:s(e.id)?globalThis.String(e.id):"",sessionId:s(e.sessionId)?globalThis.String(e.sessionId):"",gameId:s(e.gameId)?globalThis.String(e.gameId):"",attributes:(a=e.attributes,"object"==typeof a&&null!==a?Object.entries(e.attributes).reduce(((e,[a,i])=>(e[a]=t.RegisterEntity_EntityAttribute.fromJSON(i),e)),{}):{}),controllerState:s(e.controllerState)?r(e.controllerState):0,playerId:s(e.playerId)?globalThis.String(e.playerId):void 0,data:s(e.data)?globalThis.String(e.data):void 0};var a},toJSON(e){const a={};if(""!==e.name&&(a.name=e.name),""!==e.type&&(a.type=e.type),""!==e.id&&(a.id=e.id),""!==e.sessionId&&(a.sessionId=e.sessionId),""!==e.gameId&&(a.gameId=e.gameId),e.attributes){const i=Object.entries(e.attributes);i.length>0&&(a.attributes={},i.forEach((([e,i])=>{a.attributes[e]=t.RegisterEntity_EntityAttribute.toJSON(i)})))}return 0!==e.controllerState&&(a.controllerState=o(e.controllerState)),void 0!==e.playerId&&(a.playerId=e.playerId),void 0!==e.data&&(a.data=e.data),a},create:e=>t.RegisterEntity.fromPartial(e??{}),fromPartial(e){const a={name:"",type:"",id:"",sessionId:"",gameId:"",attributes:{},controllerState:0,playerId:void 0,data:void 0};return a.name=e.name??"",a.type=e.type??"",a.id=e.id??"",a.sessionId=e.sessionId??"",a.gameId=e.gameId??"",a.attributes=Object.entries(e.attributes??{}).reduce(((e,[a,i])=>(void 0!==i&&(e[a]=t.RegisterEntity_EntityAttribute.fromPartial(i)),e)),{}),a.controllerState=e.controllerState??0,a.playerId=e.playerId??void 0,a.data=e.data??void 0,a}},t.RegisterEntity_AttributesEntry={encode:(e,a=new i.BinaryWriter)=>(""!==e.key&&a.uint32(10).string(e.key),void 0!==e.value&&t.RegisterEntity_EntityAttribute.encode(e.value,a.uint32(18).fork()).join(),a),decode(e,a){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===a?n.len:n.pos+a;const o={key:"",value:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.key=n.string();continue;case 2:if(18!==e)break;o.value=t.RegisterEntity_EntityAttribute.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({key:s(e.key)?globalThis.String(e.key):"",value:s(e.value)?t.RegisterEntity_EntityAttribute.fromJSON(e.value):void 0}),toJSON(e){const a={};return""!==e.key&&(a.key=e.key),void 0!==e.value&&(a.value=t.RegisterEntity_EntityAttribute.toJSON(e.value)),a},create:e=>t.RegisterEntity_AttributesEntry.fromPartial(e??{}),fromPartial(e){const a={key:"",value:void 0};return a.key=e.key??"",a.value=void 0!==e.value&&null!==e.value?t.RegisterEntity_EntityAttribute.fromPartial(e.value):void 0,a}},t.RegisterEntity_EntityAttribute={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(18).string(e.stringValue),void 0!==e.intValue&&t.uint32(24).int32(e.intValue),void 0!==e.floatValue&&t.uint32(37).float(e.floatValue),void 0!==e.boolValue&&t.uint32(40).bool(e.boolValue),t),decode(e,t){const a=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let n=void 0===t?a.len:a.pos+t;const r={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;a.pos<n;){const e=a.uint32();switch(e>>>3){case 2:if(18!==e)break;r.stringValue=a.string();continue;case 3:if(24!==e)break;r.intValue=a.int32();continue;case 4:if(37!==e)break;r.floatValue=a.float();continue;case 5:if(40!==e)break;r.boolValue=a.bool();continue}if(4==(7&e)||0===e)break;a.skip(7&e)}return r},fromJSON:e=>({stringValue:s(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:s(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:s(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:s(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.RegisterEntity_EntityAttribute.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}},t.EntityUpdate={encode(e,a=new i.BinaryWriter){""!==e.id&&a.uint32(10).string(e.id),""!==e.sessionId&&a.uint32(18).string(e.sessionId),""!==e.gameId&&a.uint32(26).string(e.gameId);for(const i of e.attributes)t.RegisterEntity_EntityAttribute.encode(i,a.uint32(34).fork()).join();return a},decode(e,a){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===a?n.len:n.pos+a;const o={id:"",sessionId:"",gameId:"",attributes:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=n.string();continue;case 2:if(18!==e)break;o.sessionId=n.string();continue;case 3:if(26!==e)break;o.gameId=n.string();continue;case 4:if(34!==e)break;o.attributes.push(t.RegisterEntity_EntityAttribute.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({id:s(e.id)?globalThis.String(e.id):"",sessionId:s(e.sessionId)?globalThis.String(e.sessionId):"",gameId:s(e.gameId)?globalThis.String(e.gameId):"",attributes:globalThis.Array.isArray(e?.attributes)?e.attributes.map((e=>t.RegisterEntity_EntityAttribute.fromJSON(e))):[]}),toJSON(e){const a={};return""!==e.id&&(a.id=e.id),""!==e.sessionId&&(a.sessionId=e.sessionId),""!==e.gameId&&(a.gameId=e.gameId),e.attributes?.length&&(a.attributes=e.attributes.map((e=>t.RegisterEntity_EntityAttribute.toJSON(e)))),a},create:e=>t.EntityUpdate.fromPartial(e??{}),fromPartial(e){const a={id:"",sessionId:"",gameId:"",attributes:[]};return a.id=e.id??"",a.sessionId=e.sessionId??"",a.gameId=e.gameId??"",a.attributes=e.attributes?.map((e=>t.RegisterEntity_EntityAttribute.fromPartial(e)))||[],a}}},963:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameEvent_EventAttribute=t.GameEvent_AttributesEntry=t.GameEvent=t.GameEvent_EventType=t.protobufPackage=void 0,t.gameEvent_EventTypeFromJSON=r,t.gameEvent_EventTypeToJSON=o;const i=a(489);var n;function r(e){switch(e){case 0:case"CUSTOM":return n.CUSTOM;default:return n.UNRECOGNIZED}}function o(e){switch(e){case n.CUSTOM:return"CUSTOM";case n.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function s(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function l(e){return null!=e}t.protobufPackage="game",function(e){e[e.CUSTOM=0]="CUSTOM",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(n||(t.GameEvent_EventType=n={})),t.GameEvent={encode:(e,a=new i.BinaryWriter)=>(""!==e.id&&a.uint32(10).string(e.id),""!==e.eventName&&a.uint32(18).string(e.eventName),0!==e.timestamp&&a.uint32(24).int64(e.timestamp),void 0!==e.gameId&&a.uint32(34).string(e.gameId),void 0!==e.playerId&&a.uint32(42).string(e.playerId),void 0!==e.sessionId&&a.uint32(58).string(e.sessionId),void 0!==e.teamId&&a.uint32(66).string(e.teamId),Object.entries(e.attributes).forEach((([e,i])=>{t.GameEvent_AttributesEntry.encode({key:e,value:i},a.uint32(74).fork()).join()})),0!==e.type&&a.uint32(80).int32(e.type),a),decode(e,a){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===a?n.len:n.pos+a;const o={id:"",eventName:"",timestamp:0,gameId:void 0,playerId:void 0,sessionId:void 0,teamId:void 0,attributes:{},type:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=n.string();continue;case 2:if(18!==e)break;o.eventName=n.string();continue;case 3:if(24!==e)break;o.timestamp=s(n.int64());continue;case 4:if(34!==e)break;o.gameId=n.string();continue;case 5:if(42!==e)break;o.playerId=n.string();continue;case 7:if(58!==e)break;o.sessionId=n.string();continue;case 8:if(66!==e)break;o.teamId=n.string();continue;case 9:{if(74!==e)break;const a=t.GameEvent_AttributesEntry.decode(n,n.uint32());void 0!==a.value&&(o.attributes[a.key]=a.value);continue}case 10:if(80!==e)break;o.type=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{id:l(e.id)?globalThis.String(e.id):"",eventName:l(e.eventName)?globalThis.String(e.eventName):"",timestamp:l(e.timestamp)?globalThis.Number(e.timestamp):0,gameId:l(e.gameId)?globalThis.String(e.gameId):void 0,playerId:l(e.playerId)?globalThis.String(e.playerId):void 0,sessionId:l(e.sessionId)?globalThis.String(e.sessionId):void 0,teamId:l(e.teamId)?globalThis.String(e.teamId):void 0,attributes:(a=e.attributes,"object"==typeof a&&null!==a?Object.entries(e.attributes).reduce(((e,[a,i])=>(e[a]=t.GameEvent_EventAttribute.fromJSON(i),e)),{}):{}),type:l(e.type)?r(e.type):0};var a},toJSON(e){const a={};if(""!==e.id&&(a.id=e.id),""!==e.eventName&&(a.eventName=e.eventName),0!==e.timestamp&&(a.timestamp=Math.round(e.timestamp)),void 0!==e.gameId&&(a.gameId=e.gameId),void 0!==e.playerId&&(a.playerId=e.playerId),void 0!==e.sessionId&&(a.sessionId=e.sessionId),void 0!==e.teamId&&(a.teamId=e.teamId),e.attributes){const i=Object.entries(e.attributes);i.length>0&&(a.attributes={},i.forEach((([e,i])=>{a.attributes[e]=t.GameEvent_EventAttribute.toJSON(i)})))}return 0!==e.type&&(a.type=o(e.type)),a},create:e=>t.GameEvent.fromPartial(e??{}),fromPartial(e){const a={id:"",eventName:"",timestamp:0,gameId:void 0,playerId:void 0,sessionId:void 0,teamId:void 0,attributes:{},type:0};return a.id=e.id??"",a.eventName=e.eventName??"",a.timestamp=e.timestamp??0,a.gameId=e.gameId??void 0,a.playerId=e.playerId??void 0,a.sessionId=e.sessionId??void 0,a.teamId=e.teamId??void 0,a.attributes=Object.entries(e.attributes??{}).reduce(((e,[a,i])=>(void 0!==i&&(e[a]=t.GameEvent_EventAttribute.fromPartial(i)),e)),{}),a.type=e.type??0,a}},t.GameEvent_AttributesEntry={encode:(e,a=new i.BinaryWriter)=>(""!==e.key&&a.uint32(10).string(e.key),void 0!==e.value&&t.GameEvent_EventAttribute.encode(e.value,a.uint32(18).fork()).join(),a),decode(e,a){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===a?n.len:n.pos+a;const o={key:"",value:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.key=n.string();continue;case 2:if(18!==e)break;o.value=t.GameEvent_EventAttribute.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({key:l(e.key)?globalThis.String(e.key):"",value:l(e.value)?t.GameEvent_EventAttribute.fromJSON(e.value):void 0}),toJSON(e){const a={};return""!==e.key&&(a.key=e.key),void 0!==e.value&&(a.value=t.GameEvent_EventAttribute.toJSON(e.value)),a},create:e=>t.GameEvent_AttributesEntry.fromPartial(e??{}),fromPartial(e){const a={key:"",value:void 0};return a.key=e.key??"",a.value=void 0!==e.value&&null!==e.value?t.GameEvent_EventAttribute.fromPartial(e.value):void 0,a}},t.GameEvent_EventAttribute={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(10).string(e.stringValue),void 0!==e.intValue&&t.uint32(16).int32(e.intValue),void 0!==e.floatValue&&t.uint32(29).float(e.floatValue),void 0!==e.boolValue&&t.uint32(32).bool(e.boolValue),t),decode(e,t){const a=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let n=void 0===t?a.len:a.pos+t;const r={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;a.pos<n;){const e=a.uint32();switch(e>>>3){case 1:if(10!==e)break;r.stringValue=a.string();continue;case 2:if(16!==e)break;r.intValue=a.int32();continue;case 3:if(29!==e)break;r.floatValue=a.float();continue;case 4:if(32!==e)break;r.boolValue=a.bool();continue}if(4==(7&e)||0===e)break;a.skip(7&e)}return r},fromJSON:e=>({stringValue:l(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:l(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:l(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:l(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.GameEvent_EventAttribute.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}}},996:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AuthConfig_ConfigEntry=t.AuthConfig=t.InstanceCommandMessage=t.InstanceNotification=t.Instance=t.InstanceCommandEnum=t.InstanceStateEnum=t.protobufPackage=void 0,t.instanceStateEnumFromJSON=o,t.instanceStateEnumToJSON=s,t.instanceCommandEnumFromJSON=l,t.instanceCommandEnumToJSON=u;const i=a(489);var n,r;function o(e){switch(e){case 0:case"INITIALIZING":return n.INITIALIZING;case 1:case"RUNNING":return n.RUNNING;case 2:case"PAUSED":return n.PAUSED;case 3:case"CRASHED":return n.CRASHED;case 4:case"ABORTED":return n.ABORTED;case 5:case"SHUTTING_DOWN":return n.SHUTTING_DOWN;case 6:case"STOPPED":return n.STOPPED;default:return n.UNRECOGNIZED}}function s(e){switch(e){case n.INITIALIZING:return"INITIALIZING";case n.RUNNING:return"RUNNING";case n.PAUSED:return"PAUSED";case n.CRASHED:return"CRASHED";case n.ABORTED:return"ABORTED";case n.SHUTTING_DOWN:return"SHUTTING_DOWN";case n.STOPPED:return"STOPPED";case n.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function l(e){switch(e){case 0:case"START":return r.START;case 1:case"PAUSE":return r.PAUSE;case 2:case"RESUME":return r.RESUME;case 3:case"STOP":return r.STOP;case 4:case"ABORT":return r.ABORT;case 5:case"SHUTDOWN":return r.SHUTDOWN;default:return r.UNRECOGNIZED}}function u(e){switch(e){case r.START:return"START";case r.PAUSE:return"PAUSE";case r.RESUME:return"RESUME";case r.STOP:return"STOP";case r.ABORT:return"ABORT";case r.SHUTDOWN:return"SHUTDOWN";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function c(e){return null!=e}t.protobufPackage="game",function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.RUNNING=1]="RUNNING",e[e.PAUSED=2]="PAUSED",e[e.CRASHED=3]="CRASHED",e[e.ABORTED=4]="ABORTED",e[e.SHUTTING_DOWN=5]="SHUTTING_DOWN",e[e.STOPPED=6]="STOPPED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(n||(t.InstanceStateEnum=n={})),function(e){e[e.START=0]="START",e[e.PAUSE=1]="PAUSE",e[e.RESUME=2]="RESUME",e[e.STOP=3]="STOP",e[e.ABORT=4]="ABORT",e[e.SHUTDOWN=5]="SHUTDOWN",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.InstanceCommandEnum=r={})),t.Instance={encode:(e,t=new i.BinaryWriter)=>(0!==e.state&&t.uint32(8).int32(e.state),void 0!==e.gameId&&t.uint32(18).string(e.gameId),void 0!==e.playerId&&t.uint32(26).string(e.playerId),void 0!==e.data&&t.uint32(34).string(e.data),t),decode(e,t){const a=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let n=void 0===t?a.len:a.pos+t;const r={state:0,gameId:void 0,playerId:void 0,data:void 0};for(;a.pos<n;){const e=a.uint32();switch(e>>>3){case 1:if(8!==e)break;r.state=a.int32();continue;case 2:if(18!==e)break;r.gameId=a.string();continue;case 3:if(26!==e)break;r.playerId=a.string();continue;case 4:if(34!==e)break;r.data=a.string();continue}if(4==(7&e)||0===e)break;a.skip(7&e)}return r},fromJSON:e=>({state:c(e.state)?o(e.state):0,gameId:c(e.gameId)?globalThis.String(e.gameId):void 0,playerId:c(e.playerId)?globalThis.String(e.playerId):void 0,data:c(e.data)?globalThis.String(e.data):void 0}),toJSON(e){const t={};return 0!==e.state&&(t.state=s(e.state)),void 0!==e.gameId&&(t.gameId=e.gameId),void 0!==e.playerId&&(t.playerId=e.playerId),void 0!==e.data&&(t.data=e.data),t},create:e=>t.Instance.fromPartial(e??{}),fromPartial(e){const t={state:0,gameId:void 0,playerId:void 0,data:void 0};return t.state=e.state??0,t.gameId=e.gameId??void 0,t.playerId=e.playerId??void 0,t.data=e.data??void 0,t}},t.InstanceNotification={encode:(e,t=new i.BinaryWriter)=>(0!==e.state&&t.uint32(8).int32(e.state),void 0!==e.gameId&&t.uint32(18).string(e.gameId),void 0!==e.playerId&&t.uint32(26).string(e.playerId),void 0!==e.data&&t.uint32(34).string(e.data),t),decode(e,t){const a=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let n=void 0===t?a.len:a.pos+t;const r={state:0,gameId:void 0,playerId:void 0,data:void 0};for(;a.pos<n;){const e=a.uint32();switch(e>>>3){case 1:if(8!==e)break;r.state=a.int32();continue;case 2:if(18!==e)break;r.gameId=a.string();continue;case 3:if(26!==e)break;r.playerId=a.string();continue;case 4:if(34!==e)break;r.data=a.string();continue}if(4==(7&e)||0===e)break;a.skip(7&e)}return r},fromJSON:e=>({state:c(e.state)?o(e.state):0,gameId:c(e.gameId)?globalThis.String(e.gameId):void 0,playerId:c(e.playerId)?globalThis.String(e.playerId):void 0,data:c(e.data)?globalThis.String(e.data):void 0}),toJSON(e){const t={};return 0!==e.state&&(t.state=s(e.state)),void 0!==e.gameId&&(t.gameId=e.gameId),void 0!==e.playerId&&(t.playerId=e.playerId),void 0!==e.data&&(t.data=e.data),t},create:e=>t.InstanceNotification.fromPartial(e??{}),fromPartial(e){const t={state:0,gameId:void 0,playerId:void 0,data:void 0};return t.state=e.state??0,t.gameId=e.gameId??void 0,t.playerId=e.playerId??void 0,t.data=e.data??void 0,t}},t.InstanceCommandMessage={encode:(e,a=new i.BinaryWriter)=>(0!==e.state&&a.uint32(8).int32(e.state),void 0!==e.gameId&&a.uint32(18).string(e.gameId),void 0!==e.playerId&&a.uint32(26).string(e.playerId),void 0!==e.data&&a.uint32(34).string(e.data),void 0!==e.authConfig&&t.AuthConfig.encode(e.authConfig,a.uint32(42).fork()).join(),a),decode(e,a){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===a?n.len:n.pos+a;const o={state:0,gameId:void 0,playerId:void 0,data:void 0,authConfig:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.state=n.int32();continue;case 2:if(18!==e)break;o.gameId=n.string();continue;case 3:if(26!==e)break;o.playerId=n.string();continue;case 4:if(34!==e)break;o.data=n.string();continue;case 5:if(42!==e)break;o.authConfig=t.AuthConfig.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({state:c(e.state)?l(e.state):0,gameId:c(e.gameId)?globalThis.String(e.gameId):void 0,playerId:c(e.playerId)?globalThis.String(e.playerId):void 0,data:c(e.data)?globalThis.String(e.data):void 0,authConfig:c(e.authConfig)?t.AuthConfig.fromJSON(e.authConfig):void 0}),toJSON(e){const a={};return 0!==e.state&&(a.state=u(e.state)),void 0!==e.gameId&&(a.gameId=e.gameId),void 0!==e.playerId&&(a.playerId=e.playerId),void 0!==e.data&&(a.data=e.data),void 0!==e.authConfig&&(a.authConfig=t.AuthConfig.toJSON(e.authConfig)),a},create:e=>t.InstanceCommandMessage.fromPartial(e??{}),fromPartial(e){const a={state:0,gameId:void 0,playerId:void 0,data:void 0,authConfig:void 0};return a.state=e.state??0,a.gameId=e.gameId??void 0,a.playerId=e.playerId??void 0,a.data=e.data??void 0,a.authConfig=void 0!==e.authConfig&&null!==e.authConfig?t.AuthConfig.fromPartial(e.authConfig):void 0,a}},t.AuthConfig={encode:(e,a=new i.BinaryWriter)=>(""!==e.token&&a.uint32(10).string(e.token),Object.entries(e.config).forEach((([e,i])=>{t.AuthConfig_ConfigEntry.encode({key:e,value:i},a.uint32(18).fork()).join()})),a),decode(e,a){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===a?n.len:n.pos+a;const o={token:"",config:{}};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.token=n.string();continue;case 2:{if(18!==e)break;const a=t.AuthConfig_ConfigEntry.decode(n,n.uint32());void 0!==a.value&&(o.config[a.key]=a.value);continue}}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{token:c(e.token)?globalThis.String(e.token):"",config:(t=e.config,"object"==typeof t&&null!==t?Object.entries(e.config).reduce(((e,[t,a])=>(e[t]=String(a),e)),{}):{})};var t},toJSON(e){const t={};if(""!==e.token&&(t.token=e.token),e.config){const a=Object.entries(e.config);a.length>0&&(t.config={},a.forEach((([e,a])=>{t.config[e]=a})))}return t},create:e=>t.AuthConfig.fromPartial(e??{}),fromPartial(e){const t={token:"",config:{}};return t.token=e.token??"",t.config=Object.entries(e.config??{}).reduce(((e,[t,a])=>(void 0!==a&&(e[t]=globalThis.String(a)),e)),{}),t}},t.AuthConfig_ConfigEntry={encode:(e,t=new i.BinaryWriter)=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){const a=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let n=void 0===t?a.len:a.pos+t;const r={key:"",value:""};for(;a.pos<n;){const e=a.uint32();switch(e>>>3){case 1:if(10!==e)break;r.key=a.string();continue;case 2:if(18!==e)break;r.value=a.string();continue}if(4==(7&e)||0===e)break;a.skip(7&e)}return r},fromJSON:e=>({key:c(e.key)?globalThis.String(e.key):"",value:c(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>t.AuthConfig_ConfigEntry.fromPartial(e??{}),fromPartial(e){const t={key:"",value:""};return t.key=e.key??"",t.value=e.value??"",t}}},935:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Session_GameAttribute=t.Session_AttributesEntry=t.Session=t.Session_GameState=t.protobufPackage=void 0,t.session_GameStateFromJSON=r,t.session_GameStateToJSON=o;const i=a(489);var n;function r(e){switch(e){case 0:case"CREATED":return n.CREATED;case 1:case"WAITING":return n.WAITING;case 2:case"STARTED":return n.STARTED;case 3:case"FINISHED":return n.FINISHED;default:return n.UNRECOGNIZED}}function o(e){switch(e){case n.CREATED:return"CREATED";case n.WAITING:return"WAITING";case n.STARTED:return"STARTED";case n.FINISHED:return"FINISHED";case n.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function s(e){return null!=e}t.protobufPackage="game",function(e){e[e.CREATED=0]="CREATED",e[e.WAITING=1]="WAITING",e[e.STARTED=2]="STARTED",e[e.FINISHED=3]="FINISHED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(n||(t.Session_GameState=n={})),t.Session={encode(e,a=new i.BinaryWriter){""!==e.id&&a.uint32(10).string(e.id),""!==e.gameId&&a.uint32(18).string(e.gameId);for(const t of e.playerIds)a.uint32(26).string(t);return 0!==e.state&&a.uint32(32).int32(e.state),Object.entries(e.attributes).forEach((([e,i])=>{t.Session_AttributesEntry.encode({key:e,value:i},a.uint32(42).fork()).join()})),a},decode(e,a){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===a?n.len:n.pos+a;const o={id:"",gameId:"",playerIds:[],state:0,attributes:{}};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=n.string();continue;case 2:if(18!==e)break;o.gameId=n.string();continue;case 3:if(26!==e)break;o.playerIds.push(n.string());continue;case 4:if(32!==e)break;o.state=n.int32();continue;case 5:{if(42!==e)break;const a=t.Session_AttributesEntry.decode(n,n.uint32());void 0!==a.value&&(o.attributes[a.key]=a.value);continue}}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{id:s(e.id)?globalThis.String(e.id):"",gameId:s(e.gameId)?globalThis.String(e.gameId):"",playerIds:globalThis.Array.isArray(e?.playerIds)?e.playerIds.map((e=>globalThis.String(e))):[],state:s(e.state)?r(e.state):0,attributes:(a=e.attributes,"object"==typeof a&&null!==a?Object.entries(e.attributes).reduce(((e,[a,i])=>(e[a]=t.Session_GameAttribute.fromJSON(i),e)),{}):{})};var a},toJSON(e){const a={};if(""!==e.id&&(a.id=e.id),""!==e.gameId&&(a.gameId=e.gameId),e.playerIds?.length&&(a.playerIds=e.playerIds),0!==e.state&&(a.state=o(e.state)),e.attributes){const i=Object.entries(e.attributes);i.length>0&&(a.attributes={},i.forEach((([e,i])=>{a.attributes[e]=t.Session_GameAttribute.toJSON(i)})))}return a},create:e=>t.Session.fromPartial(e??{}),fromPartial(e){const a={id:"",gameId:"",playerIds:[],state:0,attributes:{}};return a.id=e.id??"",a.gameId=e.gameId??"",a.playerIds=e.playerIds?.map((e=>e))||[],a.state=e.state??0,a.attributes=Object.entries(e.attributes??{}).reduce(((e,[a,i])=>(void 0!==i&&(e[a]=t.Session_GameAttribute.fromPartial(i)),e)),{}),a}},t.Session_AttributesEntry={encode:(e,a=new i.BinaryWriter)=>(""!==e.key&&a.uint32(10).string(e.key),void 0!==e.value&&t.Session_GameAttribute.encode(e.value,a.uint32(18).fork()).join(),a),decode(e,a){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===a?n.len:n.pos+a;const o={key:"",value:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.key=n.string();continue;case 2:if(18!==e)break;o.value=t.Session_GameAttribute.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({key:s(e.key)?globalThis.String(e.key):"",value:s(e.value)?t.Session_GameAttribute.fromJSON(e.value):void 0}),toJSON(e){const a={};return""!==e.key&&(a.key=e.key),void 0!==e.value&&(a.value=t.Session_GameAttribute.toJSON(e.value)),a},create:e=>t.Session_AttributesEntry.fromPartial(e??{}),fromPartial(e){const a={key:"",value:void 0};return a.key=e.key??"",a.value=void 0!==e.value&&null!==e.value?t.Session_GameAttribute.fromPartial(e.value):void 0,a}},t.Session_GameAttribute={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(18).string(e.stringValue),void 0!==e.intValue&&t.uint32(24).int32(e.intValue),void 0!==e.floatValue&&t.uint32(37).float(e.floatValue),void 0!==e.boolValue&&t.uint32(40).bool(e.boolValue),t),decode(e,t){const a=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let n=void 0===t?a.len:a.pos+t;const r={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;a.pos<n;){const e=a.uint32();switch(e>>>3){case 2:if(18!==e)break;r.stringValue=a.string();continue;case 3:if(24!==e)break;r.intValue=a.int32();continue;case 4:if(37!==e)break;r.floatValue=a.float();continue;case 5:if(40!==e)break;r.boolValue=a.bool();continue}if(4==(7&e)||0===e)break;a.skip(7&e)}return r},fromJSON:e=>({stringValue:s(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:s(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:s(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:s(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.Session_GameAttribute.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}}},910:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalEvent_EventAttribute=t.GlobalEvent_AttributesEntry=t.GlobalEvent=t.GlobalEvent_EventType=t.protobufPackage=void 0,t.globalEvent_EventTypeFromJSON=r,t.globalEvent_EventTypeToJSON=o;const i=a(489);var n;function r(e){switch(e){case 0:case"CUSTOM":return n.CUSTOM;case 1:case"ANNOUNCEMENT":return n.ANNOUNCEMENT;case 2:case"ALERT":return n.ALERT;case 3:case"EVENT":return n.EVENT;case 4:case"REQUEST":return n.REQUEST;default:return n.UNRECOGNIZED}}function o(e){switch(e){case n.CUSTOM:return"CUSTOM";case n.ANNOUNCEMENT:return"ANNOUNCEMENT";case n.ALERT:return"ALERT";case n.EVENT:return"EVENT";case n.REQUEST:return"REQUEST";case n.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function s(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function l(e){return null!=e}t.protobufPackage="global",function(e){e[e.CUSTOM=0]="CUSTOM",e[e.ANNOUNCEMENT=1]="ANNOUNCEMENT",e[e.ALERT=2]="ALERT",e[e.EVENT=3]="EVENT",e[e.REQUEST=4]="REQUEST",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(n||(t.GlobalEvent_EventType=n={})),t.GlobalEvent={encode:(e,a=new i.BinaryWriter)=>(""!==e.id&&a.uint32(10).string(e.id),""!==e.eventName&&a.uint32(18).string(e.eventName),0!==e.timestamp&&a.uint32(24).int64(e.timestamp),void 0!==e.gameId&&a.uint32(34).string(e.gameId),void 0!==e.playerId&&a.uint32(42).string(e.playerId),void 0!==e.teamId&&a.uint32(50).string(e.teamId),Object.entries(e.attributes).forEach((([e,i])=>{t.GlobalEvent_AttributesEntry.encode({key:e,value:i},a.uint32(58).fork()).join()})),0!==e.type&&a.uint32(64).int32(e.type),a),decode(e,a){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===a?n.len:n.pos+a;const o={id:"",eventName:"",timestamp:0,gameId:void 0,playerId:void 0,teamId:void 0,attributes:{},type:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=n.string();continue;case 2:if(18!==e)break;o.eventName=n.string();continue;case 3:if(24!==e)break;o.timestamp=s(n.int64());continue;case 4:if(34!==e)break;o.gameId=n.string();continue;case 5:if(42!==e)break;o.playerId=n.string();continue;case 6:if(50!==e)break;o.teamId=n.string();continue;case 7:{if(58!==e)break;const a=t.GlobalEvent_AttributesEntry.decode(n,n.uint32());void 0!==a.value&&(o.attributes[a.key]=a.value);continue}case 8:if(64!==e)break;o.type=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{id:l(e.id)?globalThis.String(e.id):"",eventName:l(e.eventName)?globalThis.String(e.eventName):"",timestamp:l(e.timestamp)?globalThis.Number(e.timestamp):0,gameId:l(e.gameId)?globalThis.String(e.gameId):void 0,playerId:l(e.playerId)?globalThis.String(e.playerId):void 0,teamId:l(e.teamId)?globalThis.String(e.teamId):void 0,attributes:(a=e.attributes,"object"==typeof a&&null!==a?Object.entries(e.attributes).reduce(((e,[a,i])=>(e[a]=t.GlobalEvent_EventAttribute.fromJSON(i),e)),{}):{}),type:l(e.type)?r(e.type):0};var a},toJSON(e){const a={};if(""!==e.id&&(a.id=e.id),""!==e.eventName&&(a.eventName=e.eventName),0!==e.timestamp&&(a.timestamp=Math.round(e.timestamp)),void 0!==e.gameId&&(a.gameId=e.gameId),void 0!==e.playerId&&(a.playerId=e.playerId),void 0!==e.teamId&&(a.teamId=e.teamId),e.attributes){const i=Object.entries(e.attributes);i.length>0&&(a.attributes={},i.forEach((([e,i])=>{a.attributes[e]=t.GlobalEvent_EventAttribute.toJSON(i)})))}return 0!==e.type&&(a.type=o(e.type)),a},create:e=>t.GlobalEvent.fromPartial(e??{}),fromPartial(e){const a={id:"",eventName:"",timestamp:0,gameId:void 0,playerId:void 0,teamId:void 0,attributes:{},type:0};return a.id=e.id??"",a.eventName=e.eventName??"",a.timestamp=e.timestamp??0,a.gameId=e.gameId??void 0,a.playerId=e.playerId??void 0,a.teamId=e.teamId??void 0,a.attributes=Object.entries(e.attributes??{}).reduce(((e,[a,i])=>(void 0!==i&&(e[a]=t.GlobalEvent_EventAttribute.fromPartial(i)),e)),{}),a.type=e.type??0,a}},t.GlobalEvent_AttributesEntry={encode:(e,a=new i.BinaryWriter)=>(""!==e.key&&a.uint32(10).string(e.key),void 0!==e.value&&t.GlobalEvent_EventAttribute.encode(e.value,a.uint32(18).fork()).join(),a),decode(e,a){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===a?n.len:n.pos+a;const o={key:"",value:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.key=n.string();continue;case 2:if(18!==e)break;o.value=t.GlobalEvent_EventAttribute.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({key:l(e.key)?globalThis.String(e.key):"",value:l(e.value)?t.GlobalEvent_EventAttribute.fromJSON(e.value):void 0}),toJSON(e){const a={};return""!==e.key&&(a.key=e.key),void 0!==e.value&&(a.value=t.GlobalEvent_EventAttribute.toJSON(e.value)),a},create:e=>t.GlobalEvent_AttributesEntry.fromPartial(e??{}),fromPartial(e){const a={key:"",value:void 0};return a.key=e.key??"",a.value=void 0!==e.value&&null!==e.value?t.GlobalEvent_EventAttribute.fromPartial(e.value):void 0,a}},t.GlobalEvent_EventAttribute={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(10).string(e.stringValue),void 0!==e.intValue&&t.uint32(16).int32(e.intValue),void 0!==e.floatValue&&t.uint32(29).float(e.floatValue),void 0!==e.boolValue&&t.uint32(32).bool(e.boolValue),t),decode(e,t){const a=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let n=void 0===t?a.len:a.pos+t;const r={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;a.pos<n;){const e=a.uint32();switch(e>>>3){case 1:if(10!==e)break;r.stringValue=a.string();continue;case 2:if(16!==e)break;r.intValue=a.int32();continue;case 3:if(29!==e)break;r.floatValue=a.float();continue;case 4:if(32!==e)break;r.boolValue=a.bool();continue}if(4==(7&e)||0===e)break;a.skip(7&e)}return r},fromJSON:e=>({stringValue:l(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:l(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:l(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:l(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.GlobalEvent_EventAttribute.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}}},460:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.JoinLeaveGame=t.JoinLeaveGame_Action=t.RegionEnum=t.protobufPackage=void 0,t.regionEnumFromJSON=o,t.regionEnumToJSON=s,t.joinLeaveGame_ActionFromJSON=l,t.joinLeaveGame_ActionToJSON=u;const i=a(489);var n,r;function o(e){switch(e){case 0:case"REGION_UNSPECIFIED":return n.REGION_UNSPECIFIED;case 1:case"NA_EAST":return n.NA_EAST;case 2:case"NA_WEST":return n.NA_WEST;case 3:case"SA":return n.SA;case 4:case"EU_WEST":return n.EU_WEST;case 5:case"EU_CENTRAL":return n.EU_CENTRAL;case 6:case"EU_NORTH":return n.EU_NORTH;case 7:case"AS_EAST":return n.AS_EAST;case 8:case"AS_SE":return n.AS_SE;case 9:case"AS_SOUTH":return n.AS_SOUTH;case 10:case"OC":return n.OC;case 11:case"MENA":return n.MENA;case 12:case"AFRICA":return n.AFRICA;case 13:case"GLOBAL":return n.GLOBAL;default:return n.UNRECOGNIZED}}function s(e){switch(e){case n.REGION_UNSPECIFIED:return"REGION_UNSPECIFIED";case n.NA_EAST:return"NA_EAST";case n.NA_WEST:return"NA_WEST";case n.SA:return"SA";case n.EU_WEST:return"EU_WEST";case n.EU_CENTRAL:return"EU_CENTRAL";case n.EU_NORTH:return"EU_NORTH";case n.AS_EAST:return"AS_EAST";case n.AS_SE:return"AS_SE";case n.AS_SOUTH:return"AS_SOUTH";case n.OC:return"OC";case n.MENA:return"MENA";case n.AFRICA:return"AFRICA";case n.GLOBAL:return"GLOBAL";case n.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function l(e){switch(e){case 0:case"JOIN":return r.JOIN;case 1:case"LEAVE":return r.LEAVE;default:return r.UNRECOGNIZED}}function u(e){switch(e){case r.JOIN:return"JOIN";case r.LEAVE:return"LEAVE";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function c(e){return null!=e}t.protobufPackage="global",function(e){e[e.REGION_UNSPECIFIED=0]="REGION_UNSPECIFIED",e[e.NA_EAST=1]="NA_EAST",e[e.NA_WEST=2]="NA_WEST",e[e.SA=3]="SA",e[e.EU_WEST=4]="EU_WEST",e[e.EU_CENTRAL=5]="EU_CENTRAL",e[e.EU_NORTH=6]="EU_NORTH",e[e.AS_EAST=7]="AS_EAST",e[e.AS_SE=8]="AS_SE",e[e.AS_SOUTH=9]="AS_SOUTH",e[e.OC=10]="OC",e[e.MENA=11]="MENA",e[e.AFRICA=12]="AFRICA",e[e.GLOBAL=13]="GLOBAL",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(n||(t.RegionEnum=n={})),function(e){e[e.JOIN=0]="JOIN",e[e.LEAVE=1]="LEAVE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.JoinLeaveGame_Action=r={})),t.JoinLeaveGame={encode:(e,t=new i.BinaryWriter)=>(""!==e.playerId&&t.uint32(10).string(e.playerId),""!==e.gameId&&t.uint32(18).string(e.gameId),0!==e.action&&t.uint32(24).int32(e.action),void 0!==e.teamId&&t.uint32(34).string(e.teamId),void 0!==e.sessionId&&t.uint32(42).string(e.sessionId),void 0!==e.region&&t.uint32(48).int32(e.region),t),decode(e,t){const a=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let n=void 0===t?a.len:a.pos+t;const r={playerId:"",gameId:"",action:0,teamId:void 0,sessionId:void 0,region:void 0};for(;a.pos<n;){const e=a.uint32();switch(e>>>3){case 1:if(10!==e)break;r.playerId=a.string();continue;case 2:if(18!==e)break;r.gameId=a.string();continue;case 3:if(24!==e)break;r.action=a.int32();continue;case 4:if(34!==e)break;r.teamId=a.string();continue;case 5:if(42!==e)break;r.sessionId=a.string();continue;case 6:if(48!==e)break;r.region=a.int32();continue}if(4==(7&e)||0===e)break;a.skip(7&e)}return r},fromJSON:e=>({playerId:c(e.playerId)?globalThis.String(e.playerId):"",gameId:c(e.gameId)?globalThis.String(e.gameId):"",action:c(e.action)?l(e.action):0,teamId:c(e.teamId)?globalThis.String(e.teamId):void 0,sessionId:c(e.sessionId)?globalThis.String(e.sessionId):void 0,region:c(e.region)?o(e.region):void 0}),toJSON(e){const t={};return""!==e.playerId&&(t.playerId=e.playerId),""!==e.gameId&&(t.gameId=e.gameId),0!==e.action&&(t.action=u(e.action)),void 0!==e.teamId&&(t.teamId=e.teamId),void 0!==e.sessionId&&(t.sessionId=e.sessionId),void 0!==e.region&&(t.region=s(e.region)),t},create:e=>t.JoinLeaveGame.fromPartial(e??{}),fromPartial(e){const t={playerId:"",gameId:"",action:0,teamId:void 0,sessionId:void 0,region:void 0};return t.playerId=e.playerId??"",t.gameId=e.gameId??"",t.action=e.action??0,t.teamId=e.teamId??void 0,t.sessionId=e.sessionId??void 0,t.region=e.region??void 0,t}}},449:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalTime=t.protobufPackage=void 0;const i=a(489);function n(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function r(e){return null!=e}t.protobufPackage="global",t.GlobalTime={encode:(e,t=new i.BinaryWriter)=>(0!==e.timestamp&&t.uint32(8).int64(e.timestamp),""!==e.hash&&t.uint32(18).string(e.hash),t),decode(e,t){const a=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===t?a.len:a.pos+t;const o={timestamp:0,hash:""};for(;a.pos<r;){const e=a.uint32();switch(e>>>3){case 1:if(8!==e)break;o.timestamp=n(a.int64());continue;case 2:if(18!==e)break;o.hash=a.string();continue}if(4==(7&e)||0===e)break;a.skip(7&e)}return o},fromJSON:e=>({timestamp:r(e.timestamp)?globalThis.Number(e.timestamp):0,hash:r(e.hash)?globalThis.String(e.hash):""}),toJSON(e){const t={};return 0!==e.timestamp&&(t.timestamp=Math.round(e.timestamp)),""!==e.hash&&(t.hash=e.hash),t},create:e=>t.GlobalTime.fromPartial(e??{}),fromPartial(e){const t={timestamp:0,hash:""};return t.timestamp=e.timestamp??0,t.hash=e.hash??"",t}}},476:(e,t,a)=>{t.Dk=void 0,a(548),a(963);const i=a(996);t.Dk=i,a(935),a(910),a(460),a(449),a(504),a(891),a(2)},504:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Action_PlayerAction=t.Action_Velocity=t.Action_Position=t.Action_ActionEntry=t.Action=t.Action_ActionType=t.protobufPackage=void 0,t.action_ActionTypeFromJSON=r,t.action_ActionTypeToJSON=o;const i=a(489);var n;function r(e){switch(e){case 0:case"CUSTOM":return n.CUSTOM;case 1:case"MOVE":return n.MOVE;case 2:case"JUMP":return n.JUMP;case 3:case"SHOOT":return n.SHOOT;case 4:case"PICKUP":return n.PICKUP;case 5:case"DROP":return n.DROP;case 6:case"USE":return n.USE;case 7:case"INTERACT":return n.INTERACT;default:return n.UNRECOGNIZED}}function o(e){switch(e){case n.CUSTOM:return"CUSTOM";case n.MOVE:return"MOVE";case n.JUMP:return"JUMP";case n.SHOOT:return"SHOOT";case n.PICKUP:return"PICKUP";case n.DROP:return"DROP";case n.USE:return"USE";case n.INTERACT:return"INTERACT";case n.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function s(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function l(e){return null!=e}t.protobufPackage="player",function(e){e[e.CUSTOM=0]="CUSTOM",e[e.MOVE=1]="MOVE",e[e.JUMP=2]="JUMP",e[e.SHOOT=3]="SHOOT",e[e.PICKUP=4]="PICKUP",e[e.DROP=5]="DROP",e[e.USE=6]="USE",e[e.INTERACT=7]="INTERACT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(n||(t.Action_ActionType=n={})),t.Action={encode:(e,a=new i.BinaryWriter)=>(""!==e.playerId&&a.uint32(10).string(e.playerId),""!==e.sessionId&&a.uint32(18).string(e.sessionId),""!==e.gameId&&a.uint32(26).string(e.gameId),0!==e.type&&a.uint32(32).int32(e.type),void 0!==e.position&&t.Action_Position.encode(e.position,a.uint32(42).fork()).join(),void 0!==e.velocity&&t.Action_Velocity.encode(e.velocity,a.uint32(50).fork()).join(),Object.entries(e.action).forEach((([e,i])=>{t.Action_ActionEntry.encode({key:e,value:i},a.uint32(58).fork()).join()})),0!==e.timestamp&&a.uint32(64).int64(e.timestamp),a),decode(e,a){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===a?n.len:n.pos+a;const o={playerId:"",sessionId:"",gameId:"",type:0,position:void 0,velocity:void 0,action:{},timestamp:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.playerId=n.string();continue;case 2:if(18!==e)break;o.sessionId=n.string();continue;case 3:if(26!==e)break;o.gameId=n.string();continue;case 4:if(32!==e)break;o.type=n.int32();continue;case 5:if(42!==e)break;o.position=t.Action_Position.decode(n,n.uint32());continue;case 6:if(50!==e)break;o.velocity=t.Action_Velocity.decode(n,n.uint32());continue;case 7:{if(58!==e)break;const a=t.Action_ActionEntry.decode(n,n.uint32());void 0!==a.value&&(o.action[a.key]=a.value);continue}case 8:if(64!==e)break;o.timestamp=s(n.int64());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{playerId:l(e.playerId)?globalThis.String(e.playerId):"",sessionId:l(e.sessionId)?globalThis.String(e.sessionId):"",gameId:l(e.gameId)?globalThis.String(e.gameId):"",type:l(e.type)?r(e.type):0,position:l(e.position)?t.Action_Position.fromJSON(e.position):void 0,velocity:l(e.velocity)?t.Action_Velocity.fromJSON(e.velocity):void 0,action:(a=e.action,"object"==typeof a&&null!==a?Object.entries(e.action).reduce(((e,[a,i])=>(e[a]=t.Action_PlayerAction.fromJSON(i),e)),{}):{}),timestamp:l(e.timestamp)?globalThis.Number(e.timestamp):0};var a},toJSON(e){const a={};if(""!==e.playerId&&(a.playerId=e.playerId),""!==e.sessionId&&(a.sessionId=e.sessionId),""!==e.gameId&&(a.gameId=e.gameId),0!==e.type&&(a.type=o(e.type)),void 0!==e.position&&(a.position=t.Action_Position.toJSON(e.position)),void 0!==e.velocity&&(a.velocity=t.Action_Velocity.toJSON(e.velocity)),e.action){const i=Object.entries(e.action);i.length>0&&(a.action={},i.forEach((([e,i])=>{a.action[e]=t.Action_PlayerAction.toJSON(i)})))}return 0!==e.timestamp&&(a.timestamp=Math.round(e.timestamp)),a},create:e=>t.Action.fromPartial(e??{}),fromPartial(e){const a={playerId:"",sessionId:"",gameId:"",type:0,position:void 0,velocity:void 0,action:{},timestamp:0};return a.playerId=e.playerId??"",a.sessionId=e.sessionId??"",a.gameId=e.gameId??"",a.type=e.type??0,a.position=void 0!==e.position&&null!==e.position?t.Action_Position.fromPartial(e.position):void 0,a.velocity=void 0!==e.velocity&&null!==e.velocity?t.Action_Velocity.fromPartial(e.velocity):void 0,a.action=Object.entries(e.action??{}).reduce(((e,[a,i])=>(void 0!==i&&(e[a]=t.Action_PlayerAction.fromPartial(i)),e)),{}),a.timestamp=e.timestamp??0,a}},t.Action_ActionEntry={encode:(e,a=new i.BinaryWriter)=>(""!==e.key&&a.uint32(10).string(e.key),void 0!==e.value&&t.Action_PlayerAction.encode(e.value,a.uint32(18).fork()).join(),a),decode(e,a){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===a?n.len:n.pos+a;const o={key:"",value:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.key=n.string();continue;case 2:if(18!==e)break;o.value=t.Action_PlayerAction.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({key:l(e.key)?globalThis.String(e.key):"",value:l(e.value)?t.Action_PlayerAction.fromJSON(e.value):void 0}),toJSON(e){const a={};return""!==e.key&&(a.key=e.key),void 0!==e.value&&(a.value=t.Action_PlayerAction.toJSON(e.value)),a},create:e=>t.Action_ActionEntry.fromPartial(e??{}),fromPartial(e){const a={key:"",value:void 0};return a.key=e.key??"",a.value=void 0!==e.value&&null!==e.value?t.Action_PlayerAction.fromPartial(e.value):void 0,a}},t.Action_Position={encode:(e,t=new i.BinaryWriter)=>(0!==e.x&&t.uint32(13).float(e.x),0!==e.y&&t.uint32(21).float(e.y),0!==e.z&&t.uint32(29).float(e.z),t),decode(e,t){const a=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let n=void 0===t?a.len:a.pos+t;const r={x:0,y:0,z:0};for(;a.pos<n;){const e=a.uint32();switch(e>>>3){case 1:if(13!==e)break;r.x=a.float();continue;case 2:if(21!==e)break;r.y=a.float();continue;case 3:if(29!==e)break;r.z=a.float();continue}if(4==(7&e)||0===e)break;a.skip(7&e)}return r},fromJSON:e=>({x:l(e.x)?globalThis.Number(e.x):0,y:l(e.y)?globalThis.Number(e.y):0,z:l(e.z)?globalThis.Number(e.z):0}),toJSON(e){const t={};return 0!==e.x&&(t.x=e.x),0!==e.y&&(t.y=e.y),0!==e.z&&(t.z=e.z),t},create:e=>t.Action_Position.fromPartial(e??{}),fromPartial(e){const t={x:0,y:0,z:0};return t.x=e.x??0,t.y=e.y??0,t.z=e.z??0,t}},t.Action_Velocity={encode:(e,t=new i.BinaryWriter)=>(0!==e.x&&t.uint32(13).float(e.x),0!==e.y&&t.uint32(21).float(e.y),0!==e.z&&t.uint32(29).float(e.z),t),decode(e,t){const a=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let n=void 0===t?a.len:a.pos+t;const r={x:0,y:0,z:0};for(;a.pos<n;){const e=a.uint32();switch(e>>>3){case 1:if(13!==e)break;r.x=a.float();continue;case 2:if(21!==e)break;r.y=a.float();continue;case 3:if(29!==e)break;r.z=a.float();continue}if(4==(7&e)||0===e)break;a.skip(7&e)}return r},fromJSON:e=>({x:l(e.x)?globalThis.Number(e.x):0,y:l(e.y)?globalThis.Number(e.y):0,z:l(e.z)?globalThis.Number(e.z):0}),toJSON(e){const t={};return 0!==e.x&&(t.x=e.x),0!==e.y&&(t.y=e.y),0!==e.z&&(t.z=e.z),t},create:e=>t.Action_Velocity.fromPartial(e??{}),fromPartial(e){const t={x:0,y:0,z:0};return t.x=e.x??0,t.y=e.y??0,t.z=e.z??0,t}},t.Action_PlayerAction={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(18).string(e.stringValue),void 0!==e.intValue&&t.uint32(24).int32(e.intValue),void 0!==e.floatValue&&t.uint32(37).float(e.floatValue),void 0!==e.boolValue&&t.uint32(40).bool(e.boolValue),t),decode(e,t){const a=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let n=void 0===t?a.len:a.pos+t;const r={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;a.pos<n;){const e=a.uint32();switch(e>>>3){case 2:if(18!==e)break;r.stringValue=a.string();continue;case 3:if(24!==e)break;r.intValue=a.int32();continue;case 4:if(37!==e)break;r.floatValue=a.float();continue;case 5:if(40!==e)break;r.boolValue=a.bool();continue}if(4==(7&e)||0===e)break;a.skip(7&e)}return r},fromJSON:e=>({stringValue:l(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:l(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:l(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:l(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.Action_PlayerAction.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}}},891:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Player=t.Player_PlayerStatus=t.Player_PlayerType=t.protobufPackage=void 0,t.player_PlayerTypeFromJSON=o,t.player_PlayerTypeToJSON=s,t.player_PlayerStatusFromJSON=l,t.player_PlayerStatusToJSON=u;const i=a(489);var n,r;function o(e){switch(e){case 0:case"HUMAN":return n.HUMAN;case 1:case"AI":return n.AI;default:return n.UNRECOGNIZED}}function s(e){switch(e){case n.HUMAN:return"HUMAN";case n.AI:return"AI";case n.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function l(e){switch(e){case 0:case"ACTIVE":return r.ACTIVE;case 1:case"INACTIVE":return r.INACTIVE;default:return r.UNRECOGNIZED}}function u(e){switch(e){case r.ACTIVE:return"ACTIVE";case r.INACTIVE:return"INACTIVE";case r.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function c(e){return null!=e}t.protobufPackage="player",function(e){e[e.HUMAN=0]="HUMAN",e[e.AI=1]="AI",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(n||(t.Player_PlayerType=n={})),function(e){e[e.ACTIVE=0]="ACTIVE",e[e.INACTIVE=1]="INACTIVE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(r||(t.Player_PlayerStatus=r={})),t.Player={encode:(e,t=new i.BinaryWriter)=>(""!==e.id&&t.uint32(10).string(e.id),""!==e.username&&t.uint32(18).string(e.username),void 0!==e.email&&t.uint32(26).string(e.email),void 0!==e.team&&t.uint32(34).string(e.team),0!==e.score&&t.uint32(40).int32(e.score),0!==e.type&&t.uint32(48).int32(e.type),0!==e.status&&t.uint32(56).int32(e.status),void 0!==e.role&&t.uint32(66).string(e.role),t),decode(e,t){const a=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let n=void 0===t?a.len:a.pos+t;const r={id:"",username:"",email:void 0,team:void 0,score:0,type:0,status:0,role:void 0};for(;a.pos<n;){const e=a.uint32();switch(e>>>3){case 1:if(10!==e)break;r.id=a.string();continue;case 2:if(18!==e)break;r.username=a.string();continue;case 3:if(26!==e)break;r.email=a.string();continue;case 4:if(34!==e)break;r.team=a.string();continue;case 5:if(40!==e)break;r.score=a.int32();continue;case 6:if(48!==e)break;r.type=a.int32();continue;case 7:if(56!==e)break;r.status=a.int32();continue;case 8:if(66!==e)break;r.role=a.string();continue}if(4==(7&e)||0===e)break;a.skip(7&e)}return r},fromJSON:e=>({id:c(e.id)?globalThis.String(e.id):"",username:c(e.username)?globalThis.String(e.username):"",email:c(e.email)?globalThis.String(e.email):void 0,team:c(e.team)?globalThis.String(e.team):void 0,score:c(e.score)?globalThis.Number(e.score):0,type:c(e.type)?o(e.type):0,status:c(e.status)?l(e.status):0,role:c(e.role)?globalThis.String(e.role):void 0}),toJSON(e){const t={};return""!==e.id&&(t.id=e.id),""!==e.username&&(t.username=e.username),void 0!==e.email&&(t.email=e.email),void 0!==e.team&&(t.team=e.team),0!==e.score&&(t.score=Math.round(e.score)),0!==e.type&&(t.type=s(e.type)),0!==e.status&&(t.status=u(e.status)),void 0!==e.role&&(t.role=e.role),t},create:e=>t.Player.fromPartial(e??{}),fromPartial(e){const t={id:"",username:"",email:void 0,team:void 0,score:0,type:0,status:0,role:void 0};return t.id=e.id??"",t.username=e.username??"",t.email=e.email??void 0,t.team=e.team??void 0,t.score=e.score??0,t.type=e.type??0,t.status=e.status??0,t.role=e.role??void 0,t}}},2:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.State_PlayerAttribute=t.State_AttributesEntry=t.State=t.State_PlayerState=t.protobufPackage=void 0,t.state_PlayerStateFromJSON=r,t.state_PlayerStateToJSON=o;const i=a(489);var n;function r(e){switch(e){case 0:case"WAITING":return n.WAITING;case 1:case"PLAYING":return n.PLAYING;case 2:case"FINISHED":return n.FINISHED;default:return n.UNRECOGNIZED}}function o(e){switch(e){case n.WAITING:return"WAITING";case n.PLAYING:return"PLAYING";case n.FINISHED:return"FINISHED";case n.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function s(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function l(e){return null!=e}t.protobufPackage="player",function(e){e[e.WAITING=0]="WAITING",e[e.PLAYING=1]="PLAYING",e[e.FINISHED=2]="FINISHED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(n||(t.State_PlayerState=n={})),t.State={encode:(e,a=new i.BinaryWriter)=>(""!==e.playerId&&a.uint32(10).string(e.playerId),""!==e.sessionId&&a.uint32(18).string(e.sessionId),""!==e.gameId&&a.uint32(26).string(e.gameId),0!==e.state&&a.uint32(32).int32(e.state),Object.entries(e.attributes).forEach((([e,i])=>{t.State_AttributesEntry.encode({key:e,value:i},a.uint32(42).fork()).join()})),0!==e.timestamp&&a.uint32(48).int64(e.timestamp),a),decode(e,a){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===a?n.len:n.pos+a;const o={playerId:"",sessionId:"",gameId:"",state:0,attributes:{},timestamp:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.playerId=n.string();continue;case 2:if(18!==e)break;o.sessionId=n.string();continue;case 3:if(26!==e)break;o.gameId=n.string();continue;case 4:if(32!==e)break;o.state=n.int32();continue;case 5:{if(42!==e)break;const a=t.State_AttributesEntry.decode(n,n.uint32());void 0!==a.value&&(o.attributes[a.key]=a.value);continue}case 6:if(48!==e)break;o.timestamp=s(n.int64());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{playerId:l(e.playerId)?globalThis.String(e.playerId):"",sessionId:l(e.sessionId)?globalThis.String(e.sessionId):"",gameId:l(e.gameId)?globalThis.String(e.gameId):"",state:l(e.state)?r(e.state):0,attributes:(a=e.attributes,"object"==typeof a&&null!==a?Object.entries(e.attributes).reduce(((e,[a,i])=>(e[a]=t.State_PlayerAttribute.fromJSON(i),e)),{}):{}),timestamp:l(e.timestamp)?globalThis.Number(e.timestamp):0};var a},toJSON(e){const a={};if(""!==e.playerId&&(a.playerId=e.playerId),""!==e.sessionId&&(a.sessionId=e.sessionId),""!==e.gameId&&(a.gameId=e.gameId),0!==e.state&&(a.state=o(e.state)),e.attributes){const i=Object.entries(e.attributes);i.length>0&&(a.attributes={},i.forEach((([e,i])=>{a.attributes[e]=t.State_PlayerAttribute.toJSON(i)})))}return 0!==e.timestamp&&(a.timestamp=Math.round(e.timestamp)),a},create:e=>t.State.fromPartial(e??{}),fromPartial(e){const a={playerId:"",sessionId:"",gameId:"",state:0,attributes:{},timestamp:0};return a.playerId=e.playerId??"",a.sessionId=e.sessionId??"",a.gameId=e.gameId??"",a.state=e.state??0,a.attributes=Object.entries(e.attributes??{}).reduce(((e,[a,i])=>(void 0!==i&&(e[a]=t.State_PlayerAttribute.fromPartial(i)),e)),{}),a.timestamp=e.timestamp??0,a}},t.State_AttributesEntry={encode:(e,a=new i.BinaryWriter)=>(""!==e.key&&a.uint32(10).string(e.key),void 0!==e.value&&t.State_PlayerAttribute.encode(e.value,a.uint32(18).fork()).join(),a),decode(e,a){const n=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let r=void 0===a?n.len:n.pos+a;const o={key:"",value:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.key=n.string();continue;case 2:if(18!==e)break;o.value=t.State_PlayerAttribute.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({key:l(e.key)?globalThis.String(e.key):"",value:l(e.value)?t.State_PlayerAttribute.fromJSON(e.value):void 0}),toJSON(e){const a={};return""!==e.key&&(a.key=e.key),void 0!==e.value&&(a.value=t.State_PlayerAttribute.toJSON(e.value)),a},create:e=>t.State_AttributesEntry.fromPartial(e??{}),fromPartial(e){const a={key:"",value:void 0};return a.key=e.key??"",a.value=void 0!==e.value&&null!==e.value?t.State_PlayerAttribute.fromPartial(e.value):void 0,a}},t.State_PlayerAttribute={encode:(e,t=new i.BinaryWriter)=>(void 0!==e.stringValue&&t.uint32(18).string(e.stringValue),void 0!==e.intValue&&t.uint32(24).int32(e.intValue),void 0!==e.floatValue&&t.uint32(37).float(e.floatValue),void 0!==e.boolValue&&t.uint32(40).bool(e.boolValue),t),decode(e,t){const a=e instanceof i.BinaryReader?e:new i.BinaryReader(e);let n=void 0===t?a.len:a.pos+t;const r={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};for(;a.pos<n;){const e=a.uint32();switch(e>>>3){case 2:if(18!==e)break;r.stringValue=a.string();continue;case 3:if(24!==e)break;r.intValue=a.int32();continue;case 4:if(37!==e)break;r.floatValue=a.float();continue;case 5:if(40!==e)break;r.boolValue=a.bool();continue}if(4==(7&e)||0===e)break;a.skip(7&e)}return r},fromJSON:e=>({stringValue:l(e.stringValue)?globalThis.String(e.stringValue):void 0,intValue:l(e.intValue)?globalThis.Number(e.intValue):void 0,floatValue:l(e.floatValue)?globalThis.Number(e.floatValue):void 0,boolValue:l(e.boolValue)?globalThis.Boolean(e.boolValue):void 0}),toJSON(e){const t={};return void 0!==e.stringValue&&(t.stringValue=e.stringValue),void 0!==e.intValue&&(t.intValue=Math.round(e.intValue)),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.boolValue&&(t.boolValue=e.boolValue),t},create:e=>t.State_PlayerAttribute.fromPartial(e??{}),fromPartial(e){const t={stringValue:void 0,intValue:void 0,floatValue:void 0,boolValue:void 0};return t.stringValue=e.stringValue??void 0,t.intValue=e.intValue??void 0,t.floatValue=e.floatValue??void 0,t.boolValue=e.boolValue??void 0,t}}},583:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.create=f;const i=a(621),n=a(885),r=a(949),o=a(792),s=a(299),l=a(992),u=999,c=998,d=2;function f(e,t){if((0,i.isMessage)(t,e))return t;const a=function(e){let t;if(function(e){switch(e.file.edition){case u:return!1;case c:return!0;default:return e.fields.some((e=>e.presence!=d&&"message"!=e.fieldKind&&!e.oneof))}}(e)){const a=I.get(e);let i,n;if(a)({prototype:i,members:n}=a);else{i={},n=new Set;for(const t of e.members)"oneof"!=t.kind&&("scalar"!=t.fieldKind&&"enum"!=t.fieldKind||t.presence!=d&&(n.add(t),i[t.localName]=E(t)));I.set(e,{prototype:i,members:n})}t=Object.create(i),t.$typeName=e.typeName;for(const a of e.members)if(!n.has(a)){if("field"==a.kind){if("message"==a.fieldKind)continue;if(("scalar"==a.fieldKind||"enum"==a.fieldKind)&&a.presence!=d)continue}t[a.localName]=E(a)}}else{t={$typeName:e.typeName};for(const a of e.members)"oneof"!=a.kind&&a.presence!=d||(t[a.localName]=E(a))}return t}(e);return void 0!==t&&function(e,t,a){for(const i of e.members){let e,n=a[i.localName];if(null!=n){if("oneof"==i.kind){const t=(0,s.unsafeOneofCase)(a,i);if(!t)continue;e=t,n=(0,s.unsafeGet)(a,t)}else e=i;switch(e.fieldKind){case"message":n=m(e,n);break;case"scalar":n=y(e,n);break;case"list":n=p(e,n);break;case"map":n=g(e,n)}(0,s.unsafeSet)(t,e,n)}}}(e,a,t),a}function y(e,t){return e.scalar==n.ScalarType.BYTES?b(t):t}function g(e,t){if((0,o.isObject)(t)){if(e.scalar==n.ScalarType.BYTES)return h(t,b);if("message"==e.mapKind)return h(t,(t=>m(e,t)))}return t}function p(e,t){if(Array.isArray(t)){if(e.scalar==n.ScalarType.BYTES)return t.map(b);if("message"==e.listKind)return t.map((t=>m(e,t)))}return t}function m(e,t){if("message"==e.fieldKind&&!e.oneof&&(0,l.isWrapperDesc)(e.message))return y(e.message.fields[0],t);if((0,o.isObject)(t)){if("google.protobuf.Struct"==e.message.typeName&&"google.protobuf.Value"!==e.parent.typeName)return t;if(!(0,i.isMessage)(t,e.message))return f(e.message,t)}return t}function b(e){return Array.isArray(e)?new Uint8Array(e):e}function h(e,t){const a={};for(const i of Object.entries(e))a[i[0]]=t(i[1]);return a}const v=Symbol(),I=new WeakMap;function E(e){if("oneof"==e.kind)return{case:void 0};if("list"==e.fieldKind)return[];if("map"==e.fieldKind)return{};if("message"==e.fieldKind)return v;const t=e.getDefaultValue();return void 0!==t?"scalar"==e.fieldKind&&e.longAsString?t.toString():t:"scalar"==e.fieldKind?(0,r.scalarZeroValue)(e.scalar,e.longAsString):e.enum.values[0].number}},885:(e,t)=>{var a;Object.defineProperty(t,"__esModule",{value:!0}),t.ScalarType=void 0,function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"}(a||(t.ScalarType=a={}))},201:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromBinary=function(e,t,a){const i=(0,r.reflect)(e,void 0,!1);return u(i,new o.BinaryReader(t),l(a),!1,t.byteLength),i.message},t.mergeFromBinary=function(e,t,a,i){return u((0,r.reflect)(e,t,!1),new o.BinaryReader(a),l(i),!1,a.byteLength),t},t.readField=c;const i=a(885),n=a(949),r=a(644),o=a(56),s={readUnknownFields:!0};function l(e){return e?Object.assign(Object.assign({},s),e):s}function u(e,t,a,i,n){var r;const s=i?t.len:t.pos+n;let l,u;const d=null!==(r=e.getUnknown())&&void 0!==r?r:[];for(;t.pos<s&&([l,u]=t.tag(),!i||u!=o.WireType.EndGroup);){const i=e.findNumber(l);if(i)c(e,t,i,u,a);else{const e=t.skip(u,l);a.readUnknownFields&&d.push({no:l,wireType:u,data:e})}}if(i&&(u!=o.WireType.EndGroup||l!==n))throw new Error("invalid end group tag");d.length>0&&e.setUnknown(d)}function c(e,t,a,s,l){switch(a.fieldKind){case"scalar":e.set(a,f(t,a.scalar));break;case"enum":e.set(a,f(t,i.ScalarType.INT32));break;case"message":e.set(a,d(t,l,a,e.get(a)));break;case"list":!function(e,t,a,n){var r;const s=a.field();if("message"===s.listKind)return void a.add(d(e,n,s));const l=null!==(r=s.scalar)&&void 0!==r?r:i.ScalarType.INT32;if(!(t==o.WireType.LengthDelimited&&l!=i.ScalarType.STRING&&l!=i.ScalarType.BYTES))return void a.add(f(e,l));const u=e.uint32()+e.pos;for(;e.pos<u;)a.add(f(e,l))}(t,s,e.get(a),l);break;case"map":!function(e,t,a){const i=t.field();let o,s;const l=e.pos+e.uint32();for(;e.pos<l;){const[t]=e.tag();switch(t){case 1:o=f(e,i.mapKey);break;case 2:switch(i.mapKind){case"scalar":s=f(e,i.scalar);break;case"enum":s=e.int32();break;case"message":s=d(e,a,i)}}}if(void 0===o&&(o=(0,n.scalarZeroValue)(i.mapKey,!1)),void 0===s)switch(i.mapKind){case"scalar":s=(0,n.scalarZeroValue)(i.scalar,!1);break;case"enum":s=i.enum.values[0].number;break;case"message":s=(0,r.reflect)(i.message,void 0,!1)}t.set(o,s)}(t,e.get(a),l)}}function d(e,t,a,i){const n=a.delimitedEncoding,o=null!=i?i:(0,r.reflect)(a.message,void 0,!1);return u(o,e,t,n,n?a.number:e.uint32()),o}function f(e,t){switch(t){case i.ScalarType.STRING:return e.string();case i.ScalarType.BOOL:return e.bool();case i.ScalarType.DOUBLE:return e.double();case i.ScalarType.FLOAT:return e.float();case i.ScalarType.INT32:return e.int32();case i.ScalarType.INT64:return e.int64();case i.ScalarType.UINT64:return e.uint64();case i.ScalarType.FIXED64:return e.fixed64();case i.ScalarType.BYTES:return e.bytes();case i.ScalarType.FIXED32:return e.fixed32();case i.ScalarType.SFIXED32:return e.sfixed32();case i.ScalarType.SFIXED64:return e.sfixed64();case i.ScalarType.SINT64:return e.sint64();case i.ScalarType.UINT32:return e.uint32();case i.ScalarType.SINT32:return e.sint32()}}},621:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isMessage=function(e,t){return!(null===e||"object"!=typeof e||!("$typeName"in e)||"string"!=typeof e.$typeName)&&(void 0===t||t.typeName===e.$typeName)}},11:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.protoInt64=void 0;const i=a(119);function n(e){if(!/^-?[0-9]+$/.test(e))throw new Error("invalid int64: "+e)}function r(e){if(!/^[0-9]+$/.test(e))throw new Error("invalid uint64: "+e)}t.protoInt64=function(){const e=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&("object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){const t=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),i=BigInt("0"),n=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(e){const i="bigint"==typeof e?e:BigInt(e);if(i>a||i<t)throw new Error(`invalid int64: ${e}`);return i},uParse(e){const t="bigint"==typeof e?e:BigInt(e);if(t>n||t<i)throw new Error(`invalid uint64: ${e}`);return t},enc(t){return e.setBigInt64(0,this.parse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(t){return e.setBigInt64(0,this.uParse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(t,a)=>(e.setInt32(0,t,!0),e.setInt32(4,a,!0),e.getBigInt64(0,!0)),uDec:(t,a)=>(e.setInt32(0,t,!0),e.setInt32(4,a,!0),e.getBigUint64(0,!0))}}return{zero:"0",supported:!1,parse:e=>("string"!=typeof e&&(e=e.toString()),n(e),e),uParse:e=>("string"!=typeof e&&(e=e.toString()),r(e),e),enc:e=>("string"!=typeof e&&(e=e.toString()),n(e),(0,i.int64FromString)(e)),uEnc:e=>("string"!=typeof e&&(e=e.toString()),r(e),(0,i.int64FromString)(e)),dec:(e,t)=>(0,i.int64ToString)(e,t),uDec:(e,t)=>(0,i.uInt64ToString)(e,t)}}()},67:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FieldError=void 0,t.isFieldError=function(e){return e instanceof Error&&a.includes(e.name)&&"field"in e&&"function"==typeof e.field};const a=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class i extends Error{constructor(e,t,a="FieldValueInvalidError"){super(t),this.name=a,this.field=()=>e}}t.FieldError=i},792:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=n,t.isOneofADT=function(e){return null!==e&&"object"==typeof e&&"case"in e&&("string"==typeof e.case&&"value"in e&&null!=e.value||void 0===e.case&&(!("value"in e)||void 0===e.value))},t.isReflectList=function(e,t){var a,r,o,s;if(n(e)&&i.unsafeLocal in e&&"add"in e&&"field"in e&&"function"==typeof e.field){if(void 0!==t){const i=t,n=e.field();return i.listKind==n.listKind&&i.scalar===n.scalar&&(null===(a=i.message)||void 0===a?void 0:a.typeName)===(null===(r=n.message)||void 0===r?void 0:r.typeName)&&(null===(o=i.enum)||void 0===o?void 0:o.typeName)===(null===(s=n.enum)||void 0===s?void 0:s.typeName)}return!0}return!1},t.isReflectMap=function(e,t){var a,r,o,s;if(n(e)&&i.unsafeLocal in e&&"has"in e&&"field"in e&&"function"==typeof e.field){if(void 0!==t){const i=t,n=e.field();return i.mapKey===n.mapKey&&i.mapKind==n.mapKind&&i.scalar===n.scalar&&(null===(a=i.message)||void 0===a?void 0:a.typeName)===(null===(r=n.message)||void 0===r?void 0:r.typeName)&&(null===(o=i.enum)||void 0===o?void 0:o.typeName)===(null===(s=n.enum)||void 0===s?void 0:s.typeName)}return!0}return!1},t.isReflectMessage=function(e,t){return n(e)&&i.unsafeLocal in e&&"desc"in e&&n(e.desc)&&"message"===e.desc.kind&&(void 0===t||e.desc.typeName==t.typeName)};const i=a(299);function n(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}},841:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkField=function(e,t){const a="list"==e.fieldKind?(0,o.isReflectList)(t,e):"map"==e.fieldKind?(0,o.isReflectMap)(t,e):c(e,t);if(!0===a)return;let i;switch(e.fieldKind){case"list":i=`expected ${p(e)}, got ${y(t)}`;break;case"map":i=`expected ${m(e)}, got ${y(t)}`;break;default:i=f(e,t,a)}return new r.FieldError(e,i)},t.checkListItem=function(e,t,a){const i=c(e,a);if(!0!==i)return new r.FieldError(e,`list item #${t+1}: ${f(e,a,i)}`)},t.checkMapEntry=function(e,t,a){const i=d(t,e.mapKey);if(!0!==i)return new r.FieldError(e,`invalid map key: ${f({scalar:e.mapKey},t,i)}`);const n=c(e,a);return!0!==n?new r.FieldError(e,`map entry ${y(t)}: ${f(e,a,n)}`):void 0},t.formatVal=y;const i=a(885),n=a(621),r=a(67),o=a(792),s=a(56),l=a(898),u=a(11);function c(e,t){return void 0!==e.scalar?d(t,e.scalar):void 0!==e.enum?e.enum.open?Number.isInteger(t):e.enum.values.some((e=>e.number===t)):(0,o.isReflectMessage)(t,e.message)}function d(e,t){switch(t){case i.ScalarType.DOUBLE:return"number"==typeof e;case i.ScalarType.FLOAT:return"number"==typeof e&&(!(!Number.isNaN(e)&&Number.isFinite(e))||!(e>s.FLOAT32_MAX||e<s.FLOAT32_MIN)||`${e.toFixed()} out of range`);case i.ScalarType.INT32:case i.ScalarType.SFIXED32:case i.ScalarType.SINT32:return!("number"!=typeof e||!Number.isInteger(e))&&(!(e>s.INT32_MAX||e<s.INT32_MIN)||`${e.toFixed()} out of range`);case i.ScalarType.FIXED32:case i.ScalarType.UINT32:return!("number"!=typeof e||!Number.isInteger(e))&&(!(e>s.UINT32_MAX||e<0)||`${e.toFixed()} out of range`);case i.ScalarType.BOOL:return"boolean"==typeof e;case i.ScalarType.STRING:return"string"==typeof e&&((0,l.getTextEncoding)().checkUtf8(e)||"invalid UTF8");case i.ScalarType.BYTES:return e instanceof Uint8Array;case i.ScalarType.INT64:case i.ScalarType.SFIXED64:case i.ScalarType.SINT64:if("string"!=typeof e&&"bigint"!=typeof e&&"number"!=typeof e)return!1;try{u.protoInt64.parse(e)}catch(t){return`${e} out of range`}return!0;case i.ScalarType.FIXED64:case i.ScalarType.UINT64:if("string"!=typeof e&&"bigint"!=typeof e&&"number"!=typeof e)return!1;try{u.protoInt64.uParse(e)}catch(t){return`${e} out of range`}return!0}}function f(e,t,a){return a="string"==typeof a?`: ${a}`:`, got ${y(t)}`,void 0!==e.scalar?`expected ${function(e){switch(e){case i.ScalarType.STRING:return"string";case i.ScalarType.BOOL:return"boolean";case i.ScalarType.INT64:case i.ScalarType.SINT64:case i.ScalarType.SFIXED64:return"bigint (int64)";case i.ScalarType.UINT64:case i.ScalarType.FIXED64:return"bigint (uint64)";case i.ScalarType.BYTES:return"Uint8Array";case i.ScalarType.DOUBLE:return"number (float64)";case i.ScalarType.FLOAT:return"number (float32)";case i.ScalarType.FIXED32:case i.ScalarType.UINT32:return"number (uint32)";case i.ScalarType.INT32:case i.ScalarType.SFIXED32:case i.ScalarType.SINT32:return"number (int32)"}}(e.scalar)}`+a:void 0!==e.enum?`expected ${e.enum.toString()}`+a:`expected ${g(e.message)}`+a}function y(e){switch(typeof e){case"object":return null===e?"null":e instanceof Uint8Array?`Uint8Array(${e.length})`:Array.isArray(e)?`Array(${e.length})`:(0,o.isReflectList)(e)?p(e.field()):(0,o.isReflectMap)(e)?m(e.field()):(0,o.isReflectMessage)(e)?g(e.desc):(0,n.isMessage)(e)?`message ${e.$typeName}`:"object";case"string":return e.length>30?"string":`"${e.split('"').join('\\"')}"`;case"boolean":case"number":return String(e);case"bigint":return String(e)+"n";default:return typeof e}}function g(e){return`ReflectMessage (${e.typeName})`}function p(e){switch(e.listKind){case"message":return`ReflectList (${e.message.toString()})`;case"enum":return`ReflectList (${e.enum.toString()})`;case"scalar":return`ReflectList (${i.ScalarType[e.scalar]})`}}function m(e){switch(e.mapKind){case"message":return`ReflectMap (${i.ScalarType[e.mapKey]}, ${e.message.toString()})`;case"enum":return`ReflectMap (${i.ScalarType[e.mapKey]}, ${e.enum.toString()})`;case"scalar":return`ReflectMap (${i.ScalarType[e.mapKey]}, ${i.ScalarType[e.scalar]})`}}},644:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reflect=function(e,t,a=!0){return new f(e,t,a)},t.reflectList=function(e,t,a=!0){return new g(e,null!=t?t:[],a)},t.reflectMap=function(e,t,a=!0){return new p(e,t,a)};const i=a(885),n=a(841),r=a(67),o=a(299),s=a(583),l=a(992),u=a(949),c=a(11),d=a(792);class f{get sortedFields(){var e;return null!==(e=this._sortedFields)&&void 0!==e?e:this._sortedFields=this.desc.fields.concat().sort(((e,t)=>e.number-t.number))}constructor(e,t,a=!0){this.lists=new Map,this.maps=new Map,this.check=a,this.desc=e,this.message=this[o.unsafeLocal]=null!=t?t:(0,s.create)(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map((e=>[e.number,e])))),this._fieldsByNumber.get(e)}oneofCase(e){return y(this.message,e),(0,o.unsafeOneofCase)(this.message,e)}isSet(e){return y(this.message,e),(0,o.unsafeIsSet)(this.message,e)}clear(e){y(this.message,e),(0,o.unsafeClear)(this.message,e)}get(e){y(this.message,e);const t=(0,o.unsafeGet)(this.message,e);switch(e.fieldKind){case"list":let a=this.lists.get(e);return a&&a[o.unsafeLocal]===t||this.lists.set(e,a=new g(e,t,this.check)),a;case"map":let i=this.maps.get(e);return i&&i[o.unsafeLocal]===t||this.maps.set(e,i=new p(e,t,this.check)),i;case"message":return b(e,t,this.check);case"scalar":return void 0===t?(0,u.scalarZeroValue)(e.scalar,!1):N(e,t);case"enum":return null!=t?t:e.enum.values[0].number}}set(e,t){if(y(this.message,e),this.check){const a=(0,n.checkField)(e,t);if(a)throw a}let a;a="message"==e.fieldKind?m(e,t):(0,d.isReflectMap)(t)||(0,d.isReflectList)(t)?t[o.unsafeLocal]:T(e,t),(0,o.unsafeSet)(this.message,e,a)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}}function y(e,t){if(t.parent.typeName!==e.$typeName)throw new r.FieldError(t,`cannot use ${t.toString()} with message ${e.$typeName}`,"ForeignFieldError")}class g{field(){return this._field}get size(){return this._arr.length}constructor(e,t,a){this._field=e,this._arr=this[o.unsafeLocal]=t,this.check=a}get(e){const t=this._arr[e];return void 0===t?void 0:v(this._field,t,this.check)}set(e,t){if(e<0||e>=this._arr.length)throw new r.FieldError(this._field,`list item #${e+1}: out of range`);if(this.check){const a=(0,n.checkListItem)(this._field,e,t);if(a)throw a}this._arr[e]=h(this._field,t)}add(e){if(this.check){const t=(0,n.checkListItem)(this._field,this._arr.length,e);if(t)throw t}this._arr.push(h(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield v(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,v(this._field,this._arr[e],this.check)]}}class p{constructor(e,t,a=!0){this.obj=this[o.unsafeLocal]=null!=t?t:{},this.check=a,this._field=e}field(){return this._field}set(e,t){if(this.check){const a=(0,n.checkMapEntry)(this._field,e,t);if(a)throw a}return this.obj[E(e)]=function(e,t){return"message"==e.mapKind?m(e,t):T(e,t)}(this._field,t),this}delete(e){const t=E(e),a=Object.prototype.hasOwnProperty.call(this.obj,t);return a&&delete this.obj[t],a}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let t=this.obj[E(e)];return void 0!==t&&(t=I(this._field,t,this.check)),t}has(e){return Object.prototype.hasOwnProperty.call(this.obj,E(e))}*keys(){for(const e of Object.keys(this.obj))yield S(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[S(e[0],this._field.mapKey),I(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield I(this._field,e,this.check)}forEach(e,t){for(const a of this.entries())e.call(t,a[1],a[0],this)}}function m(e,t){return(0,d.isReflectMessage)(t)?(0,l.isWrapper)(t.message)&&!e.oneof&&"message"==e.fieldKind?t.message.value:"google.protobuf.Struct"==t.desc.typeName&&"google.protobuf.Value"!=e.parent.typeName?A(t.message):t.message:t}function b(e,t,a){return void 0!==t&&((0,l.isWrapperDesc)(e.message)&&!e.oneof&&"message"==e.fieldKind?t={$typeName:e.message.typeName,value:N(e.message.fields[0],t)}:"google.protobuf.Struct"==e.message.typeName&&"google.protobuf.Value"!=e.parent.typeName&&(0,d.isObject)(t)&&(t=k(t))),new f(e.message,t,a)}function h(e,t){return"message"==e.listKind?m(e,t):T(e,t)}function v(e,t,a){return"message"==e.listKind?b(e,t,a):N(e,t)}function I(e,t,a){return"message"==e.mapKind?b(e,t,a):t}function E(e){return"string"==typeof e||"number"==typeof e?e:String(e)}function S(e,t){switch(t){case i.ScalarType.STRING:return e;case i.ScalarType.INT32:case i.ScalarType.FIXED32:case i.ScalarType.UINT32:case i.ScalarType.SFIXED32:case i.ScalarType.SINT32:{const t=Number.parseInt(e);if(Number.isFinite(t))return t;break}case i.ScalarType.BOOL:switch(e){case"true":return!0;case"false":return!1}break;case i.ScalarType.UINT64:case i.ScalarType.FIXED64:try{return c.protoInt64.uParse(e)}catch(e){}break;default:try{return c.protoInt64.parse(e)}catch(e){}}return e}function N(e,t){switch(e.scalar){case i.ScalarType.INT64:case i.ScalarType.SFIXED64:case i.ScalarType.SINT64:"longAsString"in e&&e.longAsString&&"string"==typeof t&&(t=c.protoInt64.parse(t));break;case i.ScalarType.FIXED64:case i.ScalarType.UINT64:"longAsString"in e&&e.longAsString&&"string"==typeof t&&(t=c.protoInt64.uParse(t))}return t}function T(e,t){switch(e.scalar){case i.ScalarType.INT64:case i.ScalarType.SFIXED64:case i.ScalarType.SINT64:"longAsString"in e&&e.longAsString?t=String(t):"string"!=typeof t&&"number"!=typeof t||(t=c.protoInt64.parse(t));break;case i.ScalarType.FIXED64:case i.ScalarType.UINT64:"longAsString"in e&&e.longAsString?t=String(t):"string"!=typeof t&&"number"!=typeof t||(t=c.protoInt64.uParse(t))}return t}function k(e){const t={$typeName:"google.protobuf.Struct",fields:{}};if((0,d.isObject)(e))for(const[a,i]of Object.entries(e))t.fields[a]=V(i);return t}function A(e){const t={};for(const[a,i]of Object.entries(e.fields))t[a]=O(i);return t}function O(e){switch(e.kind.case){case"structValue":return A(e.kind.value);case"listValue":return e.kind.value.values.map(O);case"nullValue":case void 0:return null;default:return e.kind.value}}function V(e){const t={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof e){case"number":t.kind={case:"numberValue",value:e};break;case"string":t.kind={case:"stringValue",value:e};break;case"boolean":t.kind={case:"boolValue",value:e};break;case"object":if(null===e){const e=0;t.kind={case:"nullValue",value:e}}else if(Array.isArray(e)){const a={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(e))for(const t of e)a.values.push(V(t));t.kind={case:"listValue",value:a}}else t.kind={case:"structValue",value:k(e)}}return t}},949:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scalarEquals=function(e,t,a){if(t===a)return!0;if(e==n.ScalarType.BYTES){if(!(t instanceof Uint8Array&&a instanceof Uint8Array))return!1;if(t.length!==a.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==a[e])return!1;return!0}switch(e){case n.ScalarType.UINT64:case n.ScalarType.FIXED64:case n.ScalarType.INT64:case n.ScalarType.SFIXED64:case n.ScalarType.SINT64:return t==a}return!1},t.scalarZeroValue=function(e,t){switch(e){case n.ScalarType.STRING:return"";case n.ScalarType.BOOL:return!1;default:case n.ScalarType.DOUBLE:case n.ScalarType.FLOAT:return 0;case n.ScalarType.INT64:case n.ScalarType.UINT64:case n.ScalarType.SFIXED64:case n.ScalarType.FIXED64:case n.ScalarType.SINT64:return t?"0":i.protoInt64.zero;case n.ScalarType.BYTES:return new Uint8Array(0)}},t.isScalarZeroValue=function(e,t){switch(e){case n.ScalarType.BOOL:return!1===t;case n.ScalarType.STRING:return""===t;case n.ScalarType.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return 0==t}};const i=a(11),n=a(885)},299:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unsafeLocal=void 0,t.unsafeOneofCase=function(e,t){const a=e[t.localName].case;return void 0===a?a:t.fields.find((e=>e.localName===a))},t.unsafeIsSet=function(e,t){const a=t.localName;if(t.oneof)return e[t.oneof.localName].case===a;if(t.presence!=n)return void 0!==e[a]&&Object.prototype.hasOwnProperty.call(e,a);switch(t.fieldKind){case"list":return e[a].length>0;case"map":return Object.keys(e[a]).length>0;case"scalar":return!(0,i.isScalarZeroValue)(t.scalar,e[a]);case"enum":return e[a]!==t.enum.values[0].number}throw new Error("message field with implicit presence")},t.unsafeIsSetExplicit=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)&&void 0!==e[t]},t.unsafeGet=function(e,t){if(t.oneof){const a=e[t.oneof.localName];return a.case===t.localName?a.value:void 0}return e[t.localName]},t.unsafeSet=function(e,t,a){t.oneof?e[t.oneof.localName]={case:t.localName,value:a}:e[t.localName]=a},t.unsafeClear=function(e,t){const a=t.localName;if(t.oneof){const i=t.oneof.localName;e[i].case===a&&(e[i]={case:void 0})}else if(t.presence!=n)delete e[a];else switch(t.fieldKind){case"map":e[a]={};break;case"list":e[a]=[];break;case"enum":e[a]=t.enum.values[0].number;break;case"scalar":e[a]=(0,i.scalarZeroValue)(t.scalar,t.longAsString)}};const i=a(949),n=2;t.unsafeLocal=Symbol.for("reflect unsafe local")},110:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toBinary=function(e,t,a){return l(new n.BinaryWriter,function(e){return e?Object.assign(Object.assign({},s),e):s}(a),(0,i.reflect)(e,t)).finish()},t.writeField=u;const i=a(644),n=a(56),r=a(885),o=3,s={writeUnknownFields:!0};function l(e,t,a){var i;for(const i of a.sortedFields)if(a.isSet(i))u(e,t,a,i);else if(i.presence==o)throw new Error(`cannot encode field ${a.desc.typeName}.${i.name} to binary: required field not set`);if(t.writeUnknownFields)for(const{no:t,wireType:n,data:r}of null!==(i=a.getUnknown())&&void 0!==i?i:[])e.tag(t,n).raw(r);return e}function u(e,t,a,i){var o;switch(i.fieldKind){case"scalar":case"enum":c(e,null!==(o=i.scalar)&&void 0!==o?o:r.ScalarType.INT32,i.number,a.get(i));break;case"list":!function(e,t,a,i){var o;if("message"==a.listKind){for(const n of i)d(e,t,a,n);return}const s=null!==(o=a.scalar)&&void 0!==o?o:r.ScalarType.INT32;if(a.packed){if(!i.size)return;e.tag(a.number,n.WireType.LengthDelimited).fork();for(const t of i)y(e,s,t);e.join()}else for(const t of i)c(e,s,a.number,t)}(e,t,i,a.get(i));break;case"message":d(e,t,i,a.get(i));break;case"map":for(const[n,r]of a.get(i))f(e,t,i,n,r)}}function c(e,t,a,i){y(e.tag(a,function(e){switch(e){case r.ScalarType.BYTES:case r.ScalarType.STRING:return n.WireType.LengthDelimited;case r.ScalarType.DOUBLE:case r.ScalarType.FIXED64:case r.ScalarType.SFIXED64:return n.WireType.Bit64;case r.ScalarType.FIXED32:case r.ScalarType.SFIXED32:case r.ScalarType.FLOAT:return n.WireType.Bit32;default:return n.WireType.Varint}}(t)),t,i)}function d(e,t,a,i){a.delimitedEncoding?l(e.tag(a.number,n.WireType.StartGroup),t,i).tag(a.number,n.WireType.EndGroup):l(e.tag(a.number,n.WireType.LengthDelimited).fork(),t,i).join()}function f(e,t,a,i,o){var s;switch(e.tag(a.number,n.WireType.LengthDelimited).fork(),c(e,a.mapKey,1,i),a.mapKind){case"scalar":case"enum":c(e,null!==(s=a.scalar)&&void 0!==s?s:r.ScalarType.INT32,2,o);break;case"message":l(e.tag(2,n.WireType.LengthDelimited).fork(),t,o).join()}e.join()}function y(e,t,a){switch(t){case r.ScalarType.STRING:e.string(a);break;case r.ScalarType.BOOL:e.bool(a);break;case r.ScalarType.DOUBLE:e.double(a);break;case r.ScalarType.FLOAT:e.float(a);break;case r.ScalarType.INT32:e.int32(a);break;case r.ScalarType.INT64:e.int64(a);break;case r.ScalarType.UINT64:e.uint64(a);break;case r.ScalarType.FIXED64:e.fixed64(a);break;case r.ScalarType.BYTES:e.bytes(a);break;case r.ScalarType.FIXED32:e.fixed32(a);break;case r.ScalarType.SFIXED32:e.sfixed32(a);break;case r.ScalarType.SFIXED64:e.sfixed64(a);break;case r.ScalarType.SINT64:e.sint64(a);break;case r.ScalarType.UINT32:e.uint32(a);break;case r.ScalarType.SINT32:e.sint32(a)}}},662:(e,t)=>{let a,i,n;function r(e){return a||(a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),i=a.slice(0,-2).concat("-","_")),"url"==e?i:a}Object.defineProperty(t,"__esModule",{value:!0}),t.base64Decode=function(e){const t=function(){if(!n){n=[];const e=r("std");for(let t=0;t<e.length;t++)n[e[t].charCodeAt(0)]=t;n["-".charCodeAt(0)]=e.indexOf("+"),n["_".charCodeAt(0)]=e.indexOf("/")}return n}();let a=3*e.length/4;"="==e[e.length-2]?a-=2:"="==e[e.length-1]&&(a-=1);let i,o=new Uint8Array(a),s=0,l=0,u=0;for(let a=0;a<e.length;a++){if(i=t[e.charCodeAt(a)],void 0===i)switch(e[a]){case"=":l=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string")}switch(l){case 0:u=i,l=1;break;case 1:o[s++]=u<<2|(48&i)>>4,u=i,l=2;break;case 2:o[s++]=(15&u)<<4|(60&i)>>2,u=i,l=3;break;case 3:o[s++]=(3&u)<<6|i,l=0}}if(1==l)throw Error("invalid base64 string");return o.subarray(0,s)},t.base64Encode=function(e,t="std"){const a=r(t),i="std"==t;let n,o="",s=0,l=0;for(let t=0;t<e.length;t++)switch(n=e[t],s){case 0:o+=a[n>>2],l=(3&n)<<4,s=1;break;case 1:o+=a[l|n>>4],l=(15&n)<<2,s=2;break;case 2:o+=a[l|n>>6],o+=a[63&n],s=0}return s&&(o+=a[l],i&&(o+="=",1==s&&(o+="="))),o}},56:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryReader=t.BinaryWriter=t.INT32_MIN=t.INT32_MAX=t.UINT32_MAX=t.FLOAT32_MIN=t.FLOAT32_MAX=t.WireType=void 0;const i=a(119),n=a(11),r=a(898);var o;function s(e){if("string"==typeof e)e=Number(e);else if("number"!=typeof e)throw new Error("invalid int32: "+typeof e);if(!Number.isInteger(e)||e>t.INT32_MAX||e<t.INT32_MIN)throw new Error("invalid int32: "+e)}function l(e){if("string"==typeof e)e=Number(e);else if("number"!=typeof e)throw new Error("invalid uint32: "+typeof e);if(!Number.isInteger(e)||e>t.UINT32_MAX||e<0)throw new Error("invalid uint32: "+e)}!function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(o||(t.WireType=o={})),t.FLOAT32_MAX=34028234663852886e22,t.FLOAT32_MIN=-34028234663852886e22,t.UINT32_MAX=4294967295,t.INT32_MAX=2147483647,t.INT32_MIN=-2147483648,t.BinaryWriter=class{constructor(e=(0,r.getTextEncoding)().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),a=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],a),a+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(l(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return s(e),(0,i.varint32write)(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.encodeUtf8(e);return this.uint32(t.byteLength),this.raw(t)}float(e){!function(e){if("string"==typeof e){const t=e;if(e=Number(e),isNaN(e)&&"NaN"!==t)throw new Error("invalid float32: "+t)}else if("number"!=typeof e)throw new Error("invalid float32: "+typeof e);if(Number.isFinite(e)&&(e>t.FLOAT32_MAX||e<t.FLOAT32_MIN))throw new Error("invalid float32: "+e)}(e);let a=new Uint8Array(4);return new DataView(a.buffer).setFloat32(0,e,!0),this.raw(a)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){l(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){s(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return s(e),e=(e<<1^e>>31)>>>0,(0,i.varint32write)(e,this.buf),this}sfixed64(e){let t=new Uint8Array(8),a=new DataView(t.buffer),i=n.protoInt64.enc(e);return a.setInt32(0,i.lo,!0),a.setInt32(4,i.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),a=new DataView(t.buffer),i=n.protoInt64.uEnc(e);return a.setInt32(0,i.lo,!0),a.setInt32(4,i.hi,!0),this.raw(t)}int64(e){let t=n.protoInt64.enc(e);return(0,i.varint64write)(t.lo,t.hi,this.buf),this}sint64(e){let t=n.protoInt64.enc(e),a=t.hi>>31,r=t.lo<<1^a,o=(t.hi<<1|t.lo>>>31)^a;return(0,i.varint64write)(r,o,this.buf),this}uint64(e){let t=n.protoInt64.uEnc(e);return(0,i.varint64write)(t.lo,t.hi,this.buf),this}},t.BinaryReader=class{constructor(e,t=(0,r.getTextEncoding)().decodeUtf8){this.decodeUtf8=t,this.varint64=i.varint64read,this.uint32=i.varint32read,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),t=e>>>3,a=7&e;if(t<=0||a<0||a>5)throw new Error("illegal tag: field no "+t+" wire type "+a);return[t,a]}skip(e,t){let a=this.pos;switch(e){case o.Varint:for(;128&this.buf[this.pos++];);break;case o.Bit64:this.pos+=4;case o.Bit32:this.pos+=4;break;case o.LengthDelimited:let a=this.uint32();this.pos+=a;break;case o.StartGroup:for(;;){const[e,a]=this.tag();if(a===o.EndGroup){if(void 0!==t&&e!==t)throw new Error("invalid end group tag");break}this.skip(a,e)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(a,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return n.protoInt64.dec(...this.varint64())}uint64(){return n.protoInt64.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),a=-(1&e);return e=(e>>>1|(1&t)<<31)^a,t=t>>>1^a,n.protoInt64.dec(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return n.protoInt64.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return n.protoInt64.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.decodeUtf8(this.bytes())}}},489:function(e,t,a){var i=this&&this.__createBinding||(Object.create?function(e,t,a,i){void 0===i&&(i=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,i,n)}:function(e,t,a,i){void 0===i&&(i=a),e[i]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||i(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(56),t),n(a(662),t),n(a(898),t),n(a(212),t),n(a(966),t)},966:function(e,t,a){var i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,a=e[Symbol.asyncIterator];return a?a.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(a){t[a]=e[a]&&function(t){return new Promise((function(i,n){!function(e,t,a,i){Promise.resolve(i).then((function(t){e({value:t,done:a})}),t)}(i,n,(t=e[a](t)).done,t.value)}))}}},n=this&&this.__await||function(e){return this instanceof n?(this.v=e,this):new n(e)},r=this&&this.__asyncGenerator||function(e,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=a.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),i[Symbol.asyncIterator]=function(){return this},i;function s(e,t){r[e]&&(i[e]=function(t){return new Promise((function(a,i){o.push([e,t,a,i])>1||l(e,t)}))},t&&(i[e]=t(i[e])))}function l(e,t){try{(a=r[e](t)).value instanceof n?Promise.resolve(a.value.v).then(u,c):d(o[0][2],a)}catch(e){d(o[0][3],e)}var a}function u(e){l("next",e)}function c(e){l("throw",e)}function d(e,t){e(t),o.shift(),o.length&&l(o[0][0],o[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.sizeDelimitedEncode=function(e,t,a){const i=new s.BinaryWriter;return i.bytes((0,o.toBinary)(e,t,a)),i.finish()},t.sizeDelimitedDecodeStream=function(e,t,a){return r(this,arguments,(function*(){var r,o,s,c;function d(e,t){const a=new Uint8Array(e.byteLength+t.byteLength);return a.set(e),a.set(t,e.length),a}let f=new Uint8Array(0);try{for(var y,g=!0,p=i(t);!(r=(y=yield n(p.next())).done);g=!0)for(c=y.value,g=!1,f=d(f,c);;){const t=u(f);if(t.eof)break;if(t.offset+t.size>f.byteLength)break;yield yield n((0,l.fromBinary)(e,f.subarray(t.offset,t.offset+t.size),a)),f=f.subarray(t.offset+t.size)}}catch(e){o={error:e}}finally{try{g||r||!(s=p.return)||(yield n(s.call(p)))}finally{if(o)throw o.error}}if(f.byteLength>0)throw new Error("incomplete data")}))},t.sizeDelimitedPeek=u;const o=a(110),s=a(56),l=a(201);function u(e){const t={eof:!0,size:null,offset:null};for(let a=0;a<10;a++){if(a>e.byteLength)return t;if(!(128&e[a])){const a=new s.BinaryReader(e);let i;try{i=a.uint32()}catch(e){if(e instanceof RangeError)return t;throw e}return{eof:!1,size:i,offset:a.pos}}}throw new Error("invalid varint")}},898:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.configureTextEncoding=function(e){globalThis[a]=e},t.getTextEncoding=function(){if(null==globalThis[a]){const e=new globalThis.TextEncoder,t=new globalThis.TextDecoder;globalThis[a]={encodeUtf8:t=>e.encode(t),decodeUtf8:e=>t.decode(e),checkUtf8(e){try{return encodeURIComponent(e),!0}catch(e){return!1}}}}return globalThis[a]};const a=Symbol.for("@bufbuild/protobuf/text-encoding")},212:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextFormatEnumValue=function(e,t){const a=e.values.find((e=>e.name===t));if(!a)throw new Error(`cannot parse ${e} default value: ${t}`);return a.number},t.parseTextFormatScalarValue=function(e,t){switch(e){case i.ScalarType.STRING:return t;case i.ScalarType.BYTES:{const a=function(e){const t=[],a={tail:e,c:"",next(){return 0!=this.tail.length&&(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(e){if(this.tail.length>=e){const t=this.tail.substring(0,e);return this.tail=this.tail.substring(e),t}return!1}};for(;a.next();)if("\\"===a.c){if(a.next())switch(a.c){case"\\":t.push(a.c.charCodeAt(0));break;case"b":t.push(8);break;case"f":t.push(12);break;case"n":t.push(10);break;case"r":t.push(13);break;case"t":t.push(9);break;case"v":t.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const e=a.c,i=a.take(2);if(!1===i)return!1;const n=parseInt(e+i,8);if(isNaN(n))return!1;t.push(n);break}case"x":{const e=a.c,i=a.take(2);if(!1===i)return!1;const n=parseInt(e+i,16);if(isNaN(n))return!1;t.push(n);break}case"u":{const e=a.c,i=a.take(4);if(!1===i)return!1;const n=parseInt(e+i,16);if(isNaN(n))return!1;const r=new Uint8Array(4);new DataView(r.buffer).setInt32(0,n,!0),t.push(r[0],r[1],r[2],r[3]);break}case"U":{const e=a.c,i=a.take(8);if(!1===i)return!1;const r=n.protoInt64.uEnc(e+i),o=new Uint8Array(8),s=new DataView(o.buffer);s.setInt32(0,r.lo,!0),s.setInt32(4,r.hi,!0),t.push(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7]);break}}}else t.push(a.c.charCodeAt(0));return new Uint8Array(t)}(t);if(!1===a)throw new Error(`cannot parse ${i.ScalarType[e]} default value: ${t}`);return a}case i.ScalarType.INT64:case i.ScalarType.SFIXED64:case i.ScalarType.SINT64:return n.protoInt64.parse(t);case i.ScalarType.UINT64:case i.ScalarType.FIXED64:return n.protoInt64.uParse(t);case i.ScalarType.DOUBLE:case i.ScalarType.FLOAT:switch(t){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(t)}case i.ScalarType.BOOL:return"true"===t;case i.ScalarType.INT32:case i.ScalarType.UINT32:case i.ScalarType.SINT32:case i.ScalarType.FIXED32:case i.ScalarType.SFIXED32:return parseInt(t,10)}};const i=a(885),n=a(11)},119:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.varint64read=function(){let e=0,t=0;for(let a=0;a<28;a+=7){let i=this.buf[this.pos++];if(e|=(127&i)<<a,!(128&i))return this.assertBounds(),[e,t]}let a=this.buf[this.pos++];if(e|=(15&a)<<28,t=(112&a)>>4,!(128&a))return this.assertBounds(),[e,t];for(let a=3;a<=31;a+=7){let i=this.buf[this.pos++];if(t|=(127&i)<<a,!(128&i))return this.assertBounds(),[e,t]}throw new Error("invalid varint")},t.varint64write=function(e,t,a){for(let i=0;i<28;i+=7){const n=e>>>i,r=!(n>>>7==0&&0==t),o=255&(r?128|n:n);if(a.push(o),!r)return}const i=e>>>28&15|(7&t)<<4,n=!!(t>>3);if(a.push(255&(n?128|i:i)),n){for(let e=3;e<31;e+=7){const i=t>>>e,n=!(i>>>7==0),r=255&(n?128|i:i);if(a.push(r),!n)return}a.push(t>>>31&1)}},t.int64FromString=function(e){const t="-"===e[0];t&&(e=e.slice(1));const i=1e6;let o=0,s=0;function l(t,n){const r=Number(e.slice(t,n));s*=i,o=o*i+r,o>=a&&(s+=o/a|0,o%=a)}return l(-24,-18),l(-18,-12),l(-12,-6),l(-6),t?r(o,s):n(o,s)},t.int64ToString=function(e,t){let a=n(e,t);const o=2147483648&a.hi;o&&(a=r(a.lo,a.hi));const s=i(a.lo,a.hi);return o?"-"+s:s},t.uInt64ToString=i,t.varint32write=function(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let a=0;a<9;a++)t.push(127&e|128),e>>=7;t.push(1)}},t.varint32read=function(){let e=this.buf[this.pos++],t=127&e;if(!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,!(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let t=5;128&e&&t<10;t++)e=this.buf[this.pos++];if(128&e)throw new Error("invalid varint");return this.assertBounds(),t>>>0};const a=4294967296;function i(e,t){if(({lo:e,hi:t}=function(e,t){return{lo:e>>>0,hi:t>>>0}}(e,t)),t<=2097151)return String(a*t+e);const i=16777215&(e>>>24|t<<8),n=t>>16&65535;let r=(16777215&e)+6777216*i+6710656*n,s=i+8147497*n,l=2*n;const u=1e7;return r>=u&&(s+=Math.floor(r/u),r%=u),s>=u&&(l+=Math.floor(s/u),s%=u),l.toString()+o(s)+o(r)}function n(e,t){return{lo:0|e,hi:0|t}}function r(e,t){return t=~t,e?e=1+~e:t+=1,n(e,t)}const o=e=>{const t=String(e);return"0000000".slice(t.length)+t}},992:(e,t)=>{function a(e){return e.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(e.substring(16))}Object.defineProperty(t,"__esModule",{value:!0}),t.isWrapper=function(e){return a(e.$typeName)},t.isWrapperDesc=function(e){const t=e.fields[0];return a(e.typeName)&&void 0!==t&&"scalar"==t.fieldKind&&"value"==t.name&&1==t.number}}},t={};function a(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,a),r.exports}a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};a.r(i),a.d(i,{main:()=>u});class n{canvas;width=100;height=20;x=0;y=0;speed=10;direction=0;playerId="";isLocalPlayer=!1;isInverted=!1;moveCallback=()=>{};constructor(e,t,a,i=!1){this.canvas=e,this.reset(),this.isInverted=i,this.y=i?30:this.canvas.height-30,this.isLocalPlayer=a,this.playerId=t,this.isInverted=i,this.isLocalPlayer&&(console.log("Adding event listeners for local player"),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)),console.log("Paddle created:",this.playerId,this.isLocalPlayer)}reset(){this.x=(this.canvas.width-this.width)/2,this.y=this.isInverted?30:this.canvas.height-30}handleKeyDown=e=>{"ArrowLeft"===e.key?this.direction=-1:"ArrowRight"===e.key&&(this.direction=1)};handleKeyUp=e=>{"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||(this.direction=0)};setPosition(e){this.x=e}update(){if(this.isLocalPlayer){const e=this.x;this.x+=this.direction*this.speed,this.x=Math.max(0,Math.min(this.x,this.canvas.width-this.width)),e!==this.x&&(console.log("Paddle moved:",this.x),this.moveCallback(this.x,this.y,this.width,this.height))}}updatePosition(e){this.isLocalPlayer||(this.x=e)}draw(e){e.fillStyle="#FFFFFF",e.fillRect(this.x,this.y,this.width,this.height)}onMove(e){this.isLocalPlayer&&(this.moveCallback=e)}getPosition(){return{x:this.x,y:this.y,width:this.width,height:this.height}}setAsLocalPlayer(){this.isLocalPlayer=!0}}class r{canvas;x=0;y=0;radius=8;speedX=40;speedY=40;constructor(e){this.canvas=e,this.reset()}setPosition(e,t){this.x=e,this.y=t}draw(e){e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.fillStyle="#FFFFFF",e.fill(),e.closePath()}reset(){this.x=this.canvas.width/2,this.y=this.canvas.height/2,this.speedX=4*(2*Math.random()-1),this.speedY=4}}class o{static maxPlayers=2;static fps=120}class s{canvas;ctx;paddles={};ball;lastFrameTime=0;localPlayerId="";paddleMoveCallback=()=>{};importedConfig;constructor(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.update=this.update.bind(this),this.ball=new r(this.canvas),this.importedConfig=t}resizeCanvas(e,t){const a=e/t;a>window.innerWidth/window.innerHeight?(this.canvas.style.width=`${window.innerWidth}px`,this.canvas.style.height=window.innerWidth/a+"px"):(this.canvas.style.width=window.innerHeight*a+"px",this.canvas.style.height=`${window.innerHeight}px`);const i=window.devicePixelRatio||1;this.canvas.width=e*i,this.canvas.height=t*i,this.ctx.scale(i,i)}setInitialState(e,t,a,i,r){this.localPlayerId=e;let o=0;for(const e in t.paddles){let t="bottom"===a;1===o&&(t=!t,console),this.paddles[e]=new n(this.canvas,e,e===this.localPlayerId,t),o++}this.ball.setPosition(t.ball.x,t.ball.y),this.resizeCanvas(i,r)}updateState(e){for(const t in e.paddles)t!==this.localPlayerId&&this.paddles[t].setPosition(e.paddles[t].x);this.ball.setPosition(e.ball.x,e.ball.y)}onPaddleMove(e){this.paddleMoveCallback=e}loop=e=>{e-this.lastFrameTime>=1e3/o.fps&&(this.lastFrameTime=e,this.update(),this.draw()),requestAnimationFrame(this.loop)};update(){Object.values(this.paddles).forEach((e=>e.update()))}draw(){this.ctx.fillStyle="#000000",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),Object.values(this.paddles).forEach((e=>e.draw(this.ctx))),this.ball.draw(this.ctx)}start(){const e=this.paddles[this.localPlayerId];e?.onMove(((e,t,a,i)=>{this.paddleMoveCallback(e,t,a,i)})),requestAnimationFrame(this.loop)}}var l=a(476);const u=(e,t)=>{console.log("Hello from main!"),console.log("config received from parent:",t);const a=t.authConfig?.config;console.log("gameConfig:",a);let i=null;const n=new WebSocket("ws://0.0.0.0:9090");n.onopen=()=>{console.log("Connected to server");let a=null,r=!1;const o={state:l.Dk.InstanceCommandEnum.START,playerId:t.playerId};switch(i=new s(e,t),o.state){case l.Dk.InstanceCommandEnum.START:console.log("Starting game"),a=o.playerId||null,n.send(JSON.stringify({type:"REGISTER_PLAYER",playerName:o.playerId}));break;case l.Dk.InstanceCommandEnum.STOP:console.log("Stopping game");break;default:console.error("Unknown command:",o.state)}n.onmessage=e=>{const t=JSON.parse(e.data);switch(t.type){case"INIT":r="top"===t.playerRole,i.setInitialState(t.playerName,t.gameState,t.playerRole,t.gameWidth,t.gameHeight),a=t.playerName,i.start();break;case"STATE_UPDATE":i.updateState(t.gameState);break;default:console.error("Unknown message type:",t.type)}},i.onPaddleMove(((e,t,i,r)=>{n.send(JSON.stringify({type:"UPDATE_PADDLE",playerName:a,x:e,y:t,width:i,height:r}))}))}};return i})()));